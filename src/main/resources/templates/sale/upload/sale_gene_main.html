<html layout:decorate="~{layout_page}" xmlns:layout="http://www.w3.org/1999/xhtml">
<th:block layout:fragment="content">
    <div class="content_wrap">

        <section class="section">

            <div class="layout-contents">
                <!-- Page Title -->
                <div class="page-title-wrap">
                    <div class="left">
                        <h2>발전량등록</h2>
                        <a href="#" title="북마크" class="bookmark toggle">
                            내메뉴
                        </a>
                    </div>
                    <ul class="page-navi">
                        <li><img src="../assets/images/icon/ico-nav-home.svg" alt="홈아이콘"></li>
                        <li>서비스분석</li>
                        <li>발전량등록</li>
                    </ul>
                </div>
                <!-- Select -->
                <div class="search-wrap">
                    <ul>
                        <li>
                            <select title="지역">
                                <option>대구</option>
                            </select>
                        </li>
                        <li>
                            <select title="구">
                                <option>성서산단</option>
                            </select>
                        </li>
                        <li>
                            <select title="동">
                                <option>성서</option>
                            </select>
                        </li>
                    </ul>
                </div>
                <div class="tab-wrap">
                    <ul class="tab-links">
                        <li>
                            <a href="#tab1" title="목록">목록</a>
                        </li>
                        <li>
                            <a href="#tab2" title="수정">수정</a>
                        </li>
                    </ul>
                    <div class="tab-contents">
                        <!-- Section -->
                        <section class="tab-item" id="tab1">
                            <div class="section-top">
                                <div class="search-wrap">
                                    <dl>
                                        <dt>
                                            등록일자<span class="eq">*</span>
                                        </dt>
                                        <dd>
                                            <ul class="date-box">
                                                <li>
                                                    <input type="date" id="date1" name="">
                                                    <label for="date1" class="hide">시작일</label>
                                                </li>
                                                <li>
                                                    <input type="date" id="date2" name="">
                                                    <label for="date2" class="hide">종료일</label>
                                                </li>
                                            </ul>
                                        </dd>
                                    </dl>
                                    <dl>
                                        <dt>
                                            <label for="text1">
                                                점검자<span class="eq">*</span>
                                            </label>
                                        </dt>
                                        <dd>
                                            <div class="srch-box">
                                                <input type="text" id="text1" class="input-srch" placeholder="점검자명 검색">
                                                <a href="#a" class="btn-srch" title="검색"></a>
                                            </div>
                                        </dd>
                                    </dl>
                                    <dl>
                                        <dt>
                                            <label for="select1">
                                                점검여부<span class="eq">*</span></dt>
                                        </label>
                                        <dd>
                                            <select id="select1" class="w120">
                                                <option>전체</option>
                                                <option>완료</option>
                                                <option>미완료</option>
                                            </select>
                                        </dd>
                                    </dl>
                                </div>
                                <div class="button-wrap">
                                    <ul>
                                        <li>
                                            <a href="#" class="btn btn-excell" title="엑셀다운로드">
                                                <img src="../assets/images/icon/ico-excell.svg" alt="엑셀 아이콘">
                                                엑셀다운로드
                                            </a>
                                        </li>
                                        <li>
                                            <a href="#" class="btn btn-delete" title="삭제">
                                                <img src="../assets/images/icon/ico-delete.svg" alt="엑셀 아이콘">
                                                삭제
                                            </a>
                                        </li>
                                        <li>
                                            <a href="#" class="btn btn-edit" title="수정">
                                                <img src="../assets/images/icon/ico-edit.svg" alt="엑셀 아이콘">
                                                수정
                                            </a>
                                        </li>
                                        <li>
                                            <a href="#" class="btn btn-print" title="발전량등록 출력">
                                                <img src="../assets/images/icon/ico-print.svg" alt="엑셀 아이콘">
                                                발전량등록 출력
                                            </a>
                                        </li>
                                        <li>
                                            <a href="#" title="업로드" class="btn btn-popup-open" data-popup="popup1">
                                                업로드
                                            </a>
                                        </li>
                                    </ul>
                                </div>
                            </div> <!--//section-top end -->


                            <div class="table-wrap">
                                <form id="usergroupForm">
                                    <div class="table_box sub">
                                        <div class="row">
                                            <input type="hidden" id="id" name="id" value="" />

                                            <div class="col-6 col-md-3 col-lg-3" >
                                                <div class="input-group" style="width: 450px;">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text fit_box_t7" data-labelCd="일자">일자</span>
                                                    </div>
                                                    <input type="text" class="form-control2" id="date" name="date" disabled required/>
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text fit_box_t7" data-labelCd="발전기코드">발전기코드</span>
                                                    </div>
                                                    <input type="text" class="form-control2" id="Baljungi_code" name="Baljungi_code" disabled required/>
                                                </div>
                                            </div>


                                            <div class="input-group time-group" style="margin-top: 5px; margin-left: 50px;">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text fit_box_t7" data-labelcd="01시" placeholder="01시">01시</span>
                                                </div>
                                                <input type="text" class="form-control2" id="time01" name="time01" disabled="" required="">
                                            </div>
                                            <div class="input-group time-group" style=" margin-top: 5px;">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text fit_box_t7" data-labelcd="02시" placeholder="02시">02시</span>
                                                </div>
                                                <input type="text" class="form-control2" id="time02" name="time02" disabled="" required="">
                                            </div>
                                            <div class="input-group time-group" style=" margin-top: 5px;">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text fit_box_t7" data-labelcd="03시" placeholder="03시">03시</span>
                                                </div>
                                                <input type="text" class="form-control2" id="time03" name="time03" disabled="" required="">
                                            </div>
                                            <div class="input-group time-group" style=" margin-top: 5px;">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text fit_box_t7" data-labelcd="04시" placeholder="04시">04시</span>
                                                </div>
                                                <input type="text" class="form-control2" id="time04" name="time04" disabled="" required="">
                                            </div>
                                            <div class="input-group time-group" style=" margin-top: 5px;">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text fit_box_t7" data-labelcd="05시" placeholder="05시">05시</span>
                                                </div>
                                                <input type="text" class="form-control2" id="time05" name="time05" disabled="" required="">
                                            </div>
                                            <div class="input-group time-group" style=" margin-top: 5px;">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text fit_box_t7" data-labelcd="06시" placeholder="06시">06시</span>
                                                </div>
                                                <input type="text" class="form-control2" id="time06" name="time06" disabled="" required="">
                                            </div>
                                            <div class="input-group time-group" style=" margin-top: 5px;">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text fit_box_t7" data-labelcd="07시" placeholder="07시">07시</span>
                                                </div>
                                                <input type="text" class="form-control2" id="time07" name="time07" disabled="" required="">
                                            </div>

                                        </div>

                                        <div class="row">


                                            <div class="col-6 col-md-3 col-lg-3" >
                                                <div class="input-group" style="width: 450px;">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text fit_box_t7" data-labelCd="발전기명">발전기명</span>
                                                    </div>
                                                    <input type="text" class="form-control2" id="Baljungi_name" name="Baljungi_name" disabled required/>

                                                </div>
                                            </div>


                                            <div class="input-group time-group" style="margin-top: 5px; margin-left: 50px;">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text fit_box_t7" data-labelcd="08시" placeholder="08시">08시</span>
                                                </div>
                                                <input type="text" class="form-control2" id="time08" name="time08" disabled="" required="">
                                            </div>
                                            <div class="input-group time-group" style=" margin-top: 5px;">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text fit_box_t7" data-labelcd="09시" placeholder="09시">09시</span>
                                                </div>
                                                <input type="text" class="form-control2" id="time09" name="time09" disabled="" required="">
                                            </div>
                                            <div class="input-group time-group" style=" margin-top: 5px;">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text fit_box_t7" data-labelcd="10시" placeholder="10시">10시</span>
                                                </div>
                                                <input type="text" class="form-control2" id="time10" name="time10" disabled="" required="">
                                            </div>
                                            <div class="input-group time-group" style=" margin-top: 5px;">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text fit_box_t7" data-labelcd="11시" placeholder="11시">11시</span>
                                                </div>
                                                <input type="text" class="form-control2" id="time11" name="time11" disabled="" required="">
                                            </div>
                                            <div class="input-group time-group" style=" margin-top: 5px;">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text fit_box_t7" data-labelcd="12시" placeholder="12시">12시</span>
                                                </div>
                                                <input type="text" class="form-control2" id="time12" name="time12" disabled="" required="">
                                            </div>
                                            <div class="input-group time-group" style=" margin-top: 5px;">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text fit_box_t7" data-labelcd="13시" placeholder="13시">13시</span>
                                                </div>
                                                <input type="text" class="form-control2" id="time13" name="time13" disabled="" required="">
                                            </div>
                                            <div class="input-group time-group" style=" margin-top: 5px;">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text fit_box_t7" data-labelcd="14시" placeholder="14시">14시</span>
                                                </div>
                                                <input type="text" class="form-control2" id="time14" name="time14" disabled="" required="">
                                            </div>

                                        </div>

                                        <div class="row">


                                            <div class="col-6 col-md-3 col-lg-3" >
                                                <div class="input-group" style="width: 450px;">

                                                </div>
                                            </div>


                                            <div class="input-group time-group" style="margin-top: 5px; margin-left: 50px;">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text fit_box_t7" data-labelcd="15시" placeholder="15시">15시</span>
                                                </div>
                                                <input type="text" class="form-control2" id="time15" name="time15" disabled="" required="">
                                            </div>
                                            <div class="input-group time-group" style=" margin-top: 5px;">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text fit_box_t7" data-labelcd="16시" placeholder="16시">16시</span>
                                                </div>
                                                <input type="text" class="form-control2" id="time16" name="time16" disabled="" required="">
                                            </div>
                                            <div class="input-group time-group" style=" margin-top: 5px;">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text fit_box_t7" data-labelcd="17시" placeholder="17시">17시</span>
                                                </div>
                                                <input type="text" class="form-control2" id="time17" name="time17" disabled="" required="">
                                            </div>
                                            <div class="input-group time-group" style=" margin-top: 5px;">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text fit_box_t7" data-labelcd="18시" placeholder="18시">18시</span>
                                                </div>
                                                <input type="text" class="form-control2" id="time18" name="time18" disabled="" required="">
                                            </div>
                                            <div class="input-group time-group" style=" margin-top: 5px;">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text fit_box_t7" data-labelcd="19시" placeholder="19시">19시</span>
                                                </div>
                                                <input type="text" class="form-control2" id="time19" name="time19" disabled="" required="">
                                            </div>
                                            <div class="input-group time-group" style=" margin-top: 5px;">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text fit_box_t7" data-labelcd="20시" placeholder="20시">20시</span>
                                                </div>
                                                <input type="text" class="form-control2" id="time20" name="time20" disabled="" required="">
                                            </div>
                                            <div class="input-group time-group" style=" margin-top: 5px;">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text fit_box_t7" data-labelcd="21시" placeholder="21시">21시</span>
                                                </div>
                                                <input type="text" class="form-control2" id="time21" name="time21" disabled="" required="">
                                            </div>

                                        </div>

                                        <div class="row">


                                            <div class="col-6 col-md-3 col-lg-3" >
                                                <div class="input-group" style="width: 450px;">

                                                </div>
                                            </div>


                                            <div class="input-group time-group" style="margin-top: 5px; margin-left: 50px;">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text fit_box_t7" data-labelcd="22시" placeholder="22시">22시</span>
                                                </div>
                                                <input type="text" class="form-control2" id="time22" name="time22" disabled="" required="">
                                            </div>
                                            <div class="input-group time-group" style=" margin-top: 5px;">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text fit_box_t7" data-labelcd="23시" placeholder="23시">23시</span>
                                                </div>
                                                <input type="text" class="form-control2" id="time23" name="time23" disabled="" required="">
                                            </div>
                                            <div class="input-group time-group" style=" margin-top: 5px;">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text fit_box_t7" data-labelcd="24시" placeholder="24시">24시</span>
                                                </div>
                                                <input type="text" class="form-control2" id="time24" name="time24" disabled="" required="">
                                            </div>


                                        </div>
                                    </div>
                                </form>
                            </div>
                            <div class="btn-wrap">
                                <div class="center">
                                    <ul class="paging-wrap">
                                        <li><a href="#" title="처음" class="btn-first"></a></li>
                                        <li><a href="#" title="이전" class="btn-prev"></a></li>
                                        <li class="on"><a href="#" title="1">1</a></li>
                                        <li><a href="#" title="2">2</a></li>
                                        <li><a href="#" title="3">3</a></li>
                                        <li><a href="#" title="4">4</a></li>
                                        <li><a href="#" title="5" class="disable">5</a></li>
                                        <li><a href="#" title="다음" class="btn-next"></a></li>
                                        <li><a href="#" title="마지막" class="btn-last"></a></li>
                                    </ul>
                                </div>
                            </div>
                        </section>
                        <!-- Section -->
                        <section class="tab-item" id="tab2">
                            <div class="section-top">
                                <div class="title-wrap">
                                    <h3>점검 등록</h3>
                                </div>
                                <div class="button-wrap">
                                    <ul>
                                        <li>
                                            <a href="#" class="btn btn-excell" title="엑셀다운로드">
                                                <img src="../assets/images/icon/ico-plus.svg" alt="등록 아이콘">
                                                신규등록
                                            </a>
                                        </li>
                                        <li>
                                            <a href="#" class="btn btn-delete" title="삭제">
                                                <img src="../assets/images/icon/ico-delete.svg" alt="삭제 아이콘">
                                                삭제
                                            </a>
                                        </li>
                                        <li>
                                            <a href="#" class="btn btn-edit" title="저장">
                                                <img src="../assets/images/icon/ico-save.svg" alt="저장 아이콘">
                                                저장
                                            </a>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                            <div class="table-wrap">
                                <table class="write-table">
                                    <caption>점검등록 테이블</caption>
                                    <colgroup>
                                        <col class="wp12">
                                        <col class="wp40">
                                        <col class="wp12">
                                        <col class="wp40">
                                    </colgroup>
                                    <tbody>
                                    <tr>
                                        <th>
                                            <label for="test">
                                                도급계약명 수급사명
                                            </label>
                                        </th>
                                        <td>
                                            <input type="text" id="test" class="wp100" placeholder="도급계약명">
                                        </td>
                                        <th>
                                            <label for="date3">
                                                등록일자
                                            </label>
                                        </th>
                                        <td>
                                            <input type="date" id="date3" name="" value="2024-06-27" readonly>
                                        </td>
                                    </tr>
                                    <tr>
                                        <th>
                                            <label for="date4">
                                                점검시작일자 <span class="req">*</span>
                                            </label>
                                        </th>
                                        <td>
                                            <input type="datetime-local" id="date4" name="">
                                        </td>
                                        <th>
                                            <label for="date5">
                                                점검종료일자 <span class="req">*</span>
                                            </label>
                                        </th>
                                        <td>
                                            <input type="datetime-local" id="date5" name="">
                                        </td>
                                    </tr>
                                    <tr>
                                        <th>
                                            <label for="text2">
                                                점검자
                                            </label>
                                        </th>
                                        <td>
                                            <div class="input-btnbox">
                                                <input type="text" id="text2" class="wp100" placeholder="점검자">
                                                <button class="mg-l8">점검자 추가</button>
                                            </div>
                                        </td>
                                        <th>
                                            <label for="text3">
                                                점검장소 <span class="req">*</span>
                                            </label>
                                        </th>
                                        <td>
                                            <input type="text" id="text3" class="wp100" placeholder="점검장소">
                                        </td>
                                    </tr>
                                    <tr>
                                        <th>
                                            <label for="textarea1">
                                                점검사항
                                            </label>
                                        </th>
                                        <td>
                                            <div class="textarea-box">
                                                <textarea id="textarea1" placeholder="점검사항"></textarea>
                                                <p class="text-count" id="text-count1">0/100</p>
                                            </div>
                                        </td>
                                        <th>
                                            <label for="textarea2">
                                                개선방향
                                            </label>
                                        </th>
                                        <td>
                                            <div class="textarea-box">
                                                <textarea id="textarea2" placeholder="개선방향"></textarea>
                                                <p class="text-count" id="text-count1">0/100</p>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr>
                                        <th>
                                            첨부파일
                                        </th>
                                        <td colspan="3">
                                            <div id="uploadComponent1" class="upload-component">
                                                <div class="upload-filebox">
                                                    <img src="../assets/images/icon/ico-fileupload.svg" alt="업로드아이콘">
                                                    <a href="#" class="btn" title="파일업로드">파일업로드</a>
                                                    <input type="file" id="fileInput1" class="fileInput" multiple>
                                                    <p>Maximun upload file size <span>1GiB</span></p>
                                                </div>
                                                <div class="upload-filelist">
                                                    <div class="title">
                                                        <h5>Files (0)</h5>
                                                        <a href="#" title="Delete all" class="btn-file-deleteall">Delete all</a>
                                                    </div>
                                                    <ul class="filelist">
                                                    </ul>
                                                </div>
                                            </div>
                                        </td>
                                    </tr>
                                    </tbody>
                                </table>
                            </div>
                        </section>
                    </div> <!--//tab-contens end-->
                </div> <!--//tab-wrap end-->
            </div> <!--//layout-contents end -->


        </section>

        <!-- [대시보드] 팝업  -->
<!--        저장 버튼 css 적용 안됨-->
        <div class="dashboard-layout-popup">
            <div class="popup-overlay"></div>
            <div class="popup-wrapper w700" id="popup1">
                <div class="popup-title">
                    <h3>발전량 등록</h3>
                    <a href="#" title="팝업닫기" class="btn-popup-close">
                        <img src="../assets/images/icon/btn-popup-close.svg" alt="닫기">
                    </a>
                </div>
                <div class="popup-contents">
                    <div class="table-wrap">
                        <table class="write-table">
                            <caption>발전량 테이블</caption>
                            <colgroup>
                                <col class="wp20">
                                <col class="wp80">
                            </colgroup>
                            <tbody>
                            <tr>
                                <th>
                                    <label for="date6">
                                        일자
                                    </label>
                                </th>
                                <td>
                                    <div class="input-clear">
                                        <input type="date" id="date6" name="" value="2024-06-27">
                                    </div>
                                </td>
                            </tr>
                            <tr>
                                <th>
                                    첨부파일
                                </th>
                                <td>
                                    <div id="uploadComponent2" class="upload-component">
                                        <div class="upload-filebox">
                                            <img src="../assets/images/icon/ico-fileupload.svg" alt="업로드아이콘">
                                            <a href="#" class="btn" title="파일업로드">파일업로드</a>
                                            <input type="file" id="fileInput2" class="fileInput" multiple>
                                            <p>Maximun upload file size <span>1GiB</span></p>
                                        </div>
                                        <div class="upload-filelist">
                                            <div class="title">
                                                <h5>Files (0)</h5>
                                                <a href="#" title="Delete all" class="btn-file-deleteall">Delete all</a>
                                            </div>
                                            <ul class="filelist">
                                            </ul>
                                        </div>
                                    </div>
                                </td>
                            </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
                <div class="popup-button">
                    <button class="btn-popup-close">취소</button>
                    <button class="btn-navy">저장</button>
                </div>
            </div>
        </div> <!-- //dashboard-layout-popup end -->


    </div>


</th:block>

<th:block layout:fragment="scripts">
    <script type="text/javascript">
        class SujuUploadPage {
            constructor() {
                this.grid = null;
                this.baseUrl = '/api/sale/upload/sale_upload_main';
                this.init();
            }

            init() {
                let _this = this;
                let config = {
                    target: $('[data-ax5grid="sujuGrid"]'),
                    frozenColumnIndex: 0, // 열 고정
                    frozenRowIndex: 0,    // 행 고정
                    showLineNumber: true, // 열의 번호 보이기 여부
                    showRowSelector: true,  // checkbox(선택) 보이기 여부
                    multipleSelect: true, // 여러행 선택 가능 여부 (false시 단독 선택)
                    sortable: true, // 모든 컬럼에 정렬 아이콘 표시 (columns에서 컬럼별 소팅여부 재설정 가능)
                    multiSort: true, // 다중 정렬 여부
                    header: {
                        align: 'center',  // 헤더의 기본 정렬
                        columnHeight: 35  // 헤더 높이
                    },
                    body: {
                        columnHeight: 25, // body의 기본 높이
                        onClick: function (e) {
                            this.self.select(this.dindex);
                            _this.showDetailUserGroup(e.item.number);

                        }
                    },
                    page: {
                        display: true,  // 페이징 보이기 여부
                        statusDisplay: true,
                    },
                    columns: [
                        { key: 'number', label: 'No.', width: 0, align: 'center', display: false },
                        { key: 'date', label: '일자', width: 110, align: 'center' },
                        { key: 'Baljungi_code', label: '발전기코드', width: 100, align: 'center' },
                        { key: 'Baljungi_name', label: '발전기명', width: 250, align: 'center' },
                        { key: 'charge', label: '충전/방전', width: 100, align: 'center' },
                        { key: 'time01', label: '01시', width: 100, align: 'center', formatter: 'money' },{ key: 'time02', label: '02시', width: 100, align: 'center', formatter: 'money' },
                        { key: 'time03', label: '03시', width: 100, align: 'center', formatter: 'money' },{ key: 'time04', label: '04시', width: 100, align: 'center', formatter: 'money' },
                        { key: 'time05', label: '05시', width: 100, align: 'center', formatter: 'money' },{ key: 'time06', label: '06시', width: 100, align: 'center', formatter: 'money' },
                        { key: 'time07', label: '07시', width: 100, align: 'center', formatter: 'money' },{ key: 'time08', label: '08시', width: 100, align: 'center', formatter: 'money' },
                        { key: 'time09', label: '09시', width: 100, align: 'center', formatter: 'money' },{ key: 'time10', label: '10시', width: 100, align: 'center', formatter: 'money' },
                        { key: 'time11', label: '11시', width: 100, align: 'center', formatter: 'money' },{ key: 'time12', label: '12시', width: 100, align: 'center', formatter: 'money' },
                        { key: 'time13', label: '13시', width: 100, align: 'center', formatter: 'money' },{ key: 'time14', label: '14시', width: 100, align: 'center', formatter: 'money' },
                        { key: 'time15', label: '15시', width: 100, align: 'center', formatter: 'money' },{ key: 'time16', label: '16시', width: 100, align: 'center', formatter: 'money' },
                        { key: 'time17', label: '17시', width: 100, align: 'center', formatter: 'money' },{ key: 'time18', label: '18시', width: 100, align: 'center', formatter: 'money' },
                        { key: 'time19', label: '19시', width: 100, align: 'center', formatter: 'money' },{ key: 'time20', label: '20시', width: 100, align: 'center', formatter: 'money' },
                        { key: 'time21', label: '21시', width: 100, align: 'center', formatter: 'money' },{ key: 'time22', label: '22시', width: 100, align: 'center', formatter: 'money' },
                        { key: 'time23', label: '23시', width: 100, align: 'center', formatter: 'money' },{ key: 'time24', label: '24시', width: 100, align: 'center', formatter: 'money' },
                        { key: 'sum', label: '합계', width: 80, align: 'center' },
                        { key: 'suju_qty', label: '등록일자', width: 80, align: 'right' ,formatter:'money'},
                        { key: 'jumun_date', label: '등록자', width: 120, align: 'center' },
                        { key: 'due_date', label: '최종수정일', width: 120, align: 'center' }


                    ],
                    footSum: [
                        [
                            {label: "합계", colspan: 5, align: "center"},
                            {key: "time01", collector: "sum", formatter: "money", align: "center"},
                            {key: "time02", collector: "sum", formatter: "money", align: "center"},
                            {key: "time03", collector: "sum", formatter: "money", align: "center"},
                            {key: "time04", collector: "sum", formatter: "money", align: "center"},
                            {key: "time05", collector: "sum", formatter: "money", align: "center"},
                            {key: "time06", collector: "sum", formatter: "money", align: "center"},
                            {key: "time07", collector: "sum", formatter: "money", align: "center"},
                            {key: "time08", collector: "sum", formatter: "money", align: "center"},
                            {key: "time09", collector: "sum", formatter: "money", align: "center"},
                            {key: "time10", collector: "sum", formatter: "money", align: "center"},
                            {key: "time11", collector: "sum", formatter: "money", align: "center"},
                            {key: "time12", collector: "sum", formatter: "money", align: "center"},
                            {key: "time13", collector: "sum", formatter: "money", align: "center"},
                            {key: "time14", collector: "sum", formatter: "money", align: "center"},
                            {key: "time15", collector: "sum", formatter: "money", align: "center"},
                            {key: "time16", collector: "sum", formatter: "money", align: "center"},
                            {key: "time17", collector: "sum", formatter: "money", align: "center"},
                            {key: "time18", collector: "sum", formatter: "money", align: "center"},
                            {key: "time19", collector: "sum", formatter: "money", align: "center"},
                            {key: "time20", collector: "sum", formatter: "money", align: "center"},
                            {key: "time21", collector: "sum", formatter: "money", align: "center"},
                            {key: "time22", collector: "sum", formatter: "money", align: "center"},
                            {key: "time23", collector: "sum", formatter: "money", align: "center"},
                            {key: "time24", collector: "sum", formatter: "money", align: "center"},


                        ]]
                };
                this.grid = new ax5.ui.grid(config);

                let nowDate = CommonUtil.getYYYYMMDD();
                let dueDate = CommonUtil.getYYYYMMDD(10);

                // 엔터키 검색
                $('#keyword').on('keypress', function (e) {
                    if (event.keyCode == 13) {
                        _this.searchDataBind();
                    }
                });
            }

            // 엑셀 다운로드
            exportExcel(){
                var targetview = this.grid;

                targetview.exportExcel('발전량등록.xls');

            }



            searchDataBind(){
                let _this = this;

                let start = $('#date_from').val();
                let end = $('#date_to').val();

                let data = {
                    'start' : start,
                    'end'   : end,
                    'flag'  : 'list'
                };


                let fnseccess = function (result) {
                    if(result.data != null) {
                        let recordsTotal = result.data.length;
                        _this.grid.setData({
                            list: result.data,
                            page: {
                                display: true,
                                totalElements: recordsTotal,
                            }
                        });
                    }
                };
                AjaxUtil.getAsyncData(_this.baseUrl + '/read',data, fnseccess);

            }

            //삭제
            deleteSujuBulkData(items) {
                let _this = this;
                /*
                let data = {
                    'list_data': items,
                }
                let Q = {
                    value :JSON.stringify(data)
                }
                */
                let data = {
                    Q: JSON.stringify(items)
                }

                let fnSuccess = function (res) {
                    if (res.success) {
                        Notify.success('삭제되었습니다');
                        _this.searchDataBind();
                    } else {
                        Alert.alert('', res.message);
                    }
                };

                AjaxUtil.postAsyncData(_this.baseUrl + '/delete', data, fnSuccess);
            }


        }

        let page = null;
        var picker = new ax5.ui.picker();

        $(document).ready(function (e) {
            page = new SujuUploadPage();

            picker.bind({
                target: $('[data-ax5picker="multi"]'),
                direction: "top",
                locale: {
                    format: 'YY-MM-DD'
                },
                content: {
                    width:  212,  // 130, //270,
                    margin: 10,
                    type: 'date',

                    config: {
                        control: {
                            left: '<i class="fa fa-arrow-left"></i>',   //fa-chevron-left
                            yearTmpl: '%s',
                            monthTmpl: '%s',
                            right: '<i class="fa fa-arrow-right"></i>'
                        },
                        lang: {
                            yearTmpl: "%s년",
                            months: ['01', '02', '03', '04', '05', '06', '07', '08', '09', '10', '11', '12'],
                            dayTmpl: "%s"
                        }
                    }
                },
                btns: {
                    /*ok: {
                        label: "조회", theme: "default", onClick: function () {
                            this.self.close();
                            page.searchDataBind();


                        }
                    }*/
                },
                onStateChanged: function () {

                }
            });

            $('#date_from').val(CommonUtil.getYYYYMMDD());
            $('#date_to').val(CommonUtil.getYYYYMMDD());

            //검색
            $('#btnSearch').click(function (e){
                page.searchDataBind();
            });

            // 삭제 버튼
            $('#btnDelete').click(function (e) {
                let items = page.grid.getList('selected');
                if (items.length > 0) {
                    Alert.confirm('', '삭제하시겠습니까?',
                        function () {
                            page.deleteSujuBulkData(items);
                        },
                        function () { }
                    );
                } else {
                    Alert.alert('', '삭제할 항목을 선택해주세요.', function () {
                        $(this).focus();
                    });
                }
            });

        })
    </script>
</th:block>
</html>