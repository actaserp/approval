<th:block th:fragment="printTemplate">
<script type="text/x-tmpl" id="printTemplate">
<style>
    @media print {
        .pagebreak {
            page-break-before: always;
        }
        /* page-break-after works, as well */
    }
</style>

<style>

    .bg_gray {background: #dedede;}

    /*align*/
    .table_1 td.tar {text-align: right;}
    .table_1 td.tal {text-align: left;}
    .table_1 td.tac {text-align: center;}

    .table_1 {width: 100%;border-collapse: collapse;}

    /*.table_1 th.b2 {border: 2px solid #166614;}
    .table_1 th.b2lt {border-left: 2px solid #166614;border-top: 2px solid #166614;}
    .table_1 th.b2rt {border-right: 2px solid #166614;border-top: 2px solid #166614;}
    .table_1 th.b2l {border-left: 2px solid #166614;}
    .table_1 th.b2r {border-right: 2px solid #166614;}
    .table_1 th.b2lrt {border-left: 2px solid #166614;border-right: 2px solid #166614;border-top: 2px solid #166614;}
    .table_1 th.b2t {border-top: 2px solid #166614;}*/

    .table_1 td.b2lr {border-left: 2px solid #166614;border-right: 2px solid #166614;}
    .table_1 td.b2lbr {border-left: 2px solid #166614;border-right: 2px solid #166614;border-bottom: 2px solid #166614;}
    .table_1 td.b2tr {border-top: 2px solid #166614;border-right: 2px solid #166614;}
    .table_1 td.b2t {border-top: 2px solid #166614;}
    .table_1 td.b2tb {border-top: 2px solid #166614;border-bottom: 2px solid #166614;}
    .table_1 td.b2lt {border-left: 2px solid #166614;border-top: 2px solid #166614;}
    .table_1 td.b2ltb {border-left: 2px solid #166614;border-top: 2px solid #166614;border-bottom: 2px solid #166614;}
    .table_1 td.b2rtb {border-right: 2px solid #166614;border-top: 2px solid #166614;border-bottom: 2px solid #166614;}
    .table_1 td.b2l {border-left: 2px solid #166614;}
    .table_1 td.b2r {border-right: 2px solid #166614;}
    .table_1 td.b2lb {border-bottom: 2px solid #166614;border-left: 2px solid #166614;}
    .table_1 td.b2b {border-bottom: 2px solid #166614;}
    .table_1 td.b2rb {border-bottom: 2px solid #166614;border-right: 2px solid #166614;}

    .table_1 th,td {border: 1px solid black;text-align: center;padding-left: 3px;padding-right:3px;}

    .table_1 .line{border:1px solid #166614;color:#166614;font-size:14px;}
    .table_1 .line.clb{color:black;font-weight:600;font-size:12px;font-family:휴먼고딕;}
    .table_1 .line.clb.money{font-size:20px;}

    .table_1 td>.ts{font-size:10px;}
    .table_1 td>.ts2{font-size:18px;position:relative;top:10px;}
    .table_1 .title{font-size:24px;font-weight:600;padding:5px;}

</style>
{%
    function comma_number(value) {
        if (value == null)
            return null;
        let value2 = parseFloat(value);

        //if ( Number.isNaN(value2) ) return value;

        if (value2 == 0) return 0;

        let reg = /(^[+-]?\d+)(\d{3})/;
        let n = (value2 + '');

        while (reg.test(n)) n = n.replace(reg, '$1' + ',' + '$2');

        return n;
    }
 %}

{% for (let pageIndex = 1; pageIndex <= 2; pageIndex++) { %}
    <table class="table_1">
        <tbody>
        <tr>
            <td class="line b2lt" colspan="6">거 래 일 자</td>
            <td class="line title b2t" colspan="19" rowspan="2">
                거 래 명 세 서 <span class="ts">(공급자용)</span>
            </td>
            <td class="line  title b2tr" colspan="4" rowspan="2">
                <span class="ts2">1 / 1 </span>
            </td>
        </tr>
        <tr>
            <td class="line b2l" colspan="6">
                {%=o.issue_date%}
            </td>
        </tr>
        <tr>
            <td class="line b2ltb" rowspan="4"> 공<p>급<p>받<p>는<p>자 </td>
            <td class="line b2t" colspan="3"> 상 호<br />(법인명) </td>
            <td class="line b2t clb" colspan="10"> {%=o.customer_name%} </td>
            <td class="line b2t"> 귀하 </td>
            <td class="line b2tb" rowspan="4"> 공<p>급<p>자 </td>
            <td class="line b2t"> 등록번호 </td>
            <td class="line b2t"> 1 </td>
            <td class="line b2t"> 2 </td>
            <td class="line b2t"> 3 </td>
            <td class="line b2t"> - </td>
            <td class="line b2t"> 1 </td>
            <td class="line b2t"> 2 </td>
            <td class="line b2t"> - </td>
            <td class="line b2t"> 1 </td>
            <td class="line b2t"> 2 </td>
            <td class="line b2t"> 3 </td>
            <td class="line b2t"> 4 </td>
            <td class="line b2r"> 5 </td>
        </tr>
        <tr>
            <td class="line " colspan="3"> 사 업 장<br />주 소 </td>
            <td class="line clb" colspan="11"> {%=o.customer_address%} </td>
            <td class="line "> 상호<br />(법인명) </td>
            <td class="line clb" colspan="7"> {%=o.supplier_name%} </td>
            <td class="line "> 성<p>명 </td>
            <td class="line clb b2r" colspan="4"> {%=o.supplier_ceo_name%} </td>
        </tr>
        <tr>
            <td class="line " colspan="3"> 전 화<br>번 호 </td>
            <td class="line clb" colspan="8"> {%=o.customer_tel%} </td>
            <td class="line "> 팩스 </td>
            <td class="line clb" colspan="2"> {%=o.customer_fax%} </td>

            <td class="line "> 사 업 장<br />주 소  </td>
            <td class="line clb b2r" colspan="12"> {%=o.supplier_address%} </td>

        </tr>
        <tr>
            <td class="line b2b " colspan="3"> 합 계<br /> 금 액  </td>
            <td class="line clb money b2b" colspan="11"> {%=comma_number(o.total_price2)%} </td>
            <td class="line b2b "> 전 화<br>번 호 </td>

            <td class="line clb b2b" colspan="7"> {%=o.supplier_tel%} </td>
            <td class="line b2b"> 팩<br />스 </td>
            <td class="line clb b2rb" colspan="4"> {%=o.supplier_fax%} </td>
        </tr>

        <tr>
            <td class="line b2ltb "> 월 </td>     
            <td class="line b2tb "> 일 </td>
            <td class="line b2tb " colspan="10"> 품 목 </td>
            <td class="line b2tb " colspan="2">  규 격  </td>
            <td class="line b2tb " colspan="2">  수 량  </td>
            <td class="line b2tb " colspan="1">  단 가 </td>
            <td class="line b2tb " colspan="4">  공급가액 </td>
            <td class="line b2tb " colspan="4">  세액  </td>
            <td class="line b2rtb " colspan="4">  비고  </td>
        </tr>
        {% for (let index = 0; index < 10; index++) { 
            let item = o.item_list[index];
            if (item != null) {
            %}
        <tr>
            <td class="line clb b2l tar">  </td>
            <td class="line clb tar">  </td>
            <td class="line clb tal" colspan="10">{%=item.mat_name%}</td>
            <td class="line clb tac " colspan="2">{%=item.mat_spec%}</td>
            <td class="line clb tar" colspan="2">{%=comma_number(item.order_qty)%}</td>
            <td class="line clb tar" colspan="1">{%=comma_number(item.unit_price)%}</td>
            <td class="line clb tar" colspan="4">{%=comma_number(item.price)%}</td>
            <td class="line clb tar" colspan="4">{%=comma_number(item.vat)%}</td>
            <td class="line clb b2r " colspan="4">{%=item.description%}</td>
        </tr>
            {% } else { %}
        <tr>
            <td class="line clb b2l tar"> </td>
            <td class="line clb  tar">  </td>
            <td class="line clb tal" colspan="10">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </td>
            <td class="line clb tac " colspan="2"> </td>
            <td class="line clb tar" colspan="2"> </td>
            <td class="line clb " colspan="1"> </td>
            <td class="line clb " colspan="4"></td>
            <td class="line clb " colspan="4"></td>
            <td class="line clb b2r " colspan="4"></td>
        </tr>
            {% } %}
       {% } %}
        <tr>
            <td class="line b2ltb " colspan="2"> 공급<br />가액  </td>
            <td class="line clb b2tb  tar" colspan="3">{%=comma_number(o.total_price)%}</td>
            <td class="line b2b " colspan="2"> 세액 </td>
            <td class="line clb b2tb  tar" colspan="3">{%=comma_number(o.total_vat)%}</td>
            <td class="line b2b " colspan="2"> 미수금 </td>
            <td class="line clb b2tb  tar" colspan="4"></td>
            <td class="line b2tb " colspan="1"> 합계<br />금액  </td>
            <td class="line clb b2tb  tar" colspan="4">{%=comma_number(o.total_price2)%}</td>
            <td class="line b2tb " colspan="4"> 인수자 </td>
            <td class="line clb b2rtb " colspan="4">  </td>
        </tr>
    </tbody>
</table>
  
    <hr size="1" noshade width="100%" style="color:black;border-style:dashed; margin-top:40px;margin-bottom:40px;" />
{% } %}

</script>
</th:block>