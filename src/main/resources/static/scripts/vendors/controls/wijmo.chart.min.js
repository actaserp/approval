/*!
    *
    * Wijmo Library 5.20241.9
    * https://developer.mescius.com/wijmo
    *
    * Copyright(c) MESCIUS inc. All rights reserved.
    *
    * Licensed under the End-User License Agreement For MESCIUS Wijmo Software.
    * us.sales@mescius.com
    * https://developer.mescius.com/wijmo/licensing
    *
    */

var wijmo,__extends=this&&this.__extends||function(){var extendStatics=function(t,e){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)};return function(t,e){extendStatics(t,e);function __(){this.constructor=t}t.prototype=null===e?Object.create(e):(__.prototype=e.prototype,new __)}}();!function(t){!function(e){"use strict";var i=function(){function _VolumeHelper(e,i,n,r,s){this._volumes=t.asArray(e);this._xVals=t.asArray(i);this._xDataMin=t.asNumber(n,!0,!1);this._xDataMax=t.asNumber(r,!0,!1);this._xDataType=t.asEnum(s,t.DataType,!0);this._calcData=[];this._init()}_VolumeHelper.prototype.convert=function(e,i,n){var r=void 0,s=this._calcData.length,a=-1;if(this._hasXs&&this._xDataType===t.DataType.Date){if(-1===(a=this._xVals.indexOf(e)))for(var o=0;o<this._xVals.length;o++){if(o<this._xVals.length-1&&this._xVals[o]<=e&&e<=this._xVals[o+1]){a=o;break}if(0===o&&e<=this._xVals[o]){a=o;break}if(o===this._xVals.length-1&&this._xVals[o]<=e){a=o;break}}if(-1===a){a=this._xVals.indexOf(Math.floor(e));a=t.clamp(a,0,s-1)}}else if(this._hasXs){if(-1===(a=this._xVals.indexOf(e))){a=this._xVals.indexOf(Math.floor(e));a=t.clamp(a,0,s-1)}}else a=t.clamp(Math.round(e),0,s-1);if(0<=a&&a<s){this._hasXs&&(e=_VolumeHelper.convertToRange(e,0,s-1,this._xDataMin,this._xDataMax));r=((r=this._calcData[a].value+(e-a)*this._calcData[a].width-.5*this._calcData[a].width)-(i=this._getXVolume(i)))/((n=this._getXVolume(n))-i)}return r};_VolumeHelper.prototype.convertBack=function(t,e,i){var n,r=void 0,s=this._calcData.length,a=-1;for(n=0;n<s;n++)if(this._calcData[n].x1<=t&&t<=this._calcData[n].x2||0===n&&t<=this._calcData[n].x2||n===s-1&&this._calcData[n].x1<=t){a=n;break}if(0<=a&&a<s){r=t/this._calcData[a].width-this._calcData[a].value/this._calcData[a].width+.5+n;this._hasXs&&(r=_VolumeHelper.convertToRange(r,this._xDataMin,this._xDataMax,0,s-1))}return r};_VolumeHelper.prototype._init=function(){this._hasXs=null!==this._xVals&&this._xVals.length>0;this._hasXs&&!t.isNumber(this._xDataMin)&&(this._xDataMin=Math.min.apply(null,this._xVals));this._hasXs&&!t.isNumber(this._xDataMax)&&(this._xDataMax=Math.max.apply(null,this._xVals));this._hasXs&&(this._hasXs=t.isNumber(this._xDataMin)&&t.isNumber(this._xDataMax));this._hasXs&&this._xDataType===t.DataType.Date&&this._fillGaps();var e=0,i=0,n=null!==this._volumes&&this._volumes.length>0?this._volumes.length:0;for(i=0;i<n;i++)e+=this._volumes[i]||0;var r,s,a=0;for(i=0;i<n;i++){r=a+(s=(this._volumes[i]||0)/e);this._calcData.push({value:r,width:s,x1:a,x2:r});a=this._calcData[i].value}};_VolumeHelper.prototype._getXVolume=function(e){var i=this._calcData.length,n=-1;if(this._hasXs){n=this._xVals.indexOf(e);for(var r=0;r<this._xVals.length;r++){if(r<this._xVals.length-1&&this._xVals[r]<=e&&e<=this._xVals[r+1]){n=r;break}if(0===r&&e<=this._xVals[r]){n=r;break}if(r===this._xVals.length-1&&this._xVals[r]<=e){n=r;break}}}this._hasXs&&(e=_VolumeHelper.convertToRange(e,0,i-1,this._xDataMin,this._xDataMax));-1===n&&(n=t.clamp(Math.round(e),0,i-1));return this._calcData[n].value+(e-n)*this._calcData[n].width-.5*this._calcData[n].width};_VolumeHelper.convertToRange=function(t,e,i,n,r){return e===i||n===r?0:(t-n)*(i-e)/(r-n)+e};_VolumeHelper.prototype._fillGaps=function(){if(!(this._xDataType!==t.DataType.Date||null===this._xVals||this._xVals.length<=0)){var e,i=this._xDataMin,n=this._xDataMax;for(e=1;i<n;e++){(i=new Date(i)).setDate(i.getDate()+1);if((i=i.valueOf())!==this._xVals[e]){this._xVals.splice(e,0,i);this._volumes.splice(e,0,0)}}}};return _VolumeHelper}();e._VolumeHelper=i}(t.chart||(t.chart={}))}(wijmo||(wijmo={}));!function(t){!function(e){var i=function(){function _Curve(t,e,i,s){this.monoX=!1;this.monoY=!1;var a=i||Math.min(t.length,e.length),o=0,h=0,l=0,_=0;if(a>3)for(var u=0;u<a-1;u++)if(u>0){h=Math.min(h,t[u]-t[u-1]);o=Math.max(o,t[u]-t[u-1]);_=Math.min(_,e[u]-e[u-1]);l=Math.max(l,e[u]-e[u-1])}this.monoX=o>0&&0===h||h<0&&0===o;this.monoY=l>0&&0===_||_<0&&0===l;this.monoX&&"spline"!==s?this.calc=h<0?new r(t.reverse(),e.reverse(),i):new r(t,e,i):this.calc=new n(t,e,i)}_Curve.prototype.calculate=function(){return this.calc.calculate()};return _Curve}();e._Curve=i;var n=function(){function _Spline(e,i,n){this.k=.002;this._a=[];this._b=[];this._c=[];this._d=[];this.m=[[-.5,1.5,-1.5,.5],[1,-2.5,2,-.5],[-.5,0,.5,0],[0,1,0,0]];this._x=e;this._y=i;var r=this._len=n||Math.min(e.length,i.length);if(r>3)for(var s=0;s<r-1;s++){var a=0==s?new t.Point(e[s],i[s]):new t.Point(e[s-1],i[s-1]),o=new t.Point(e[s],i[s]),h=new t.Point(e[s+1],i[s+1]),l=s==r-2?new t.Point(e[s+1],i[s+1]):new t.Point(e[s+2],i[s+2]),_=new t.Point,u=new t.Point,c=new t.Point,f=new t.Point;_.x=a.x*this.m[0][0]+o.x*this.m[0][1]+h.x*this.m[0][2]+l.x*this.m[0][3];u.x=a.x*this.m[1][0]+o.x*this.m[1][1]+h.x*this.m[1][2]+l.x*this.m[1][3];c.x=a.x*this.m[2][0]+o.x*this.m[2][1]+h.x*this.m[2][2]+l.x*this.m[2][3];f.x=a.x*this.m[3][0]+o.x*this.m[3][1]+h.x*this.m[3][2]+l.x*this.m[3][3];_.y=a.y*this.m[0][0]+o.y*this.m[0][1]+h.y*this.m[0][2]+l.y*this.m[0][3];u.y=a.y*this.m[1][0]+o.y*this.m[1][1]+h.y*this.m[1][2]+l.y*this.m[1][3];c.y=a.y*this.m[2][0]+o.y*this.m[2][1]+h.y*this.m[2][2]+l.y*this.m[2][3];f.y=a.y*this.m[3][0]+o.y*this.m[3][1]+h.y*this.m[3][2]+l.y*this.m[3][3];this._a.push(_);this._b.push(u);this._c.push(c);this._d.push(f)}}_Spline.prototype.calculatePoint=function(t){var e=Math.floor(t);e<0&&(e=0);e>this._len-2&&(e=this._len-2);var i=t-e;return{x:((this._a[e].x*i+this._b[e].x)*i+this._c[e].x)*i+this._d[e].x,y:((this._a[e].y*i+this._b[e].y)*i+this._c[e].y)*i+this._d[e].y}};_Spline.prototype.calculate=function(){if(this._len<=3)return{xs:this._x,ys:this._y};var t=[],e=[],i=this.calculatePoint(0);t.push(i.x);e.push(i.y);for(var n=Math.min(this._len*this.k,.2),r=n;r<=this._len-1;r+=n){var s=Math.ceil(r),a=this.calculatePoint(r);if(Math.abs(i.x-a.x)>=3||Math.abs(i.y-a.y)>=3){t.push(a.x);e.push(a.y);i=a}if(r+n>=s){t.push(this._x[s]);e.push(this._y[s])}}return{xs:t,ys:e}};return _Spline}();e._Spline=n;var r=function(){function _SplineMono(t,e,i){this._x=[];this._y=[];this._c1s=[];this._c2s=[];this._c3s=[];for(var n=this._len=i||Math.min(t.length,e.length),r=0;r<n;r++){this._x.push(t[r]);this._y.push(e[r])}t=this._x;e=this._y;if(!(this._len<=3)){var s=[],a=[],o=[];for(r=0;r<n-1;r++){var h=t[r+1]-t[r],l=e[r+1]-e[r];a[r]=h;s[r]=l;o[r]=l/h}var _=this._c1s;_.push(o[0]);for(r=0;r<a.length-1;r++){var u=o[r],c=o[r+1];if(u*c<=0)_.push(0);else{var f=a[r],p=a[r+1],d=f+p;_.push(3*d/((d+p)/u+(d+f)/c))}}_.push(o[o.length-1]);var g=this._c2s,m=this._c3s;for(r=0;r<_.length-1;r++){var y=_[r],x=o[r],b=1/a[r],v=y+_[r+1]-x-x;g[r]=(x-y-v)*b;m[r]=v*b*b}}}_SplineMono.prototype.interpolate=function(t){var e=this._x.length-1;if(t>=this._x[e])return this._y[e];for(var i,n=0,r=this._c3s.length-1;n<=r;){i=Math.floor(.5*(n+r));var s=this._x[i];if(s<t)n=i+1;else{if(!(s>t))return this._y[i];r=i-1}}e=Math.max(0,r);var a=t-this._x[e];return this._y[e]+a*(this._c1s[e]+a*(this._c2s[e]+a*this._c3s[e]))};_SplineMono.prototype.calculate=function(){if(this._len<=3)return{xs:this._x,ys:this._y};for(var t=[],e=[],i=this._len,n=this._x[0],r=this._x[i-1],s=Math.min(.001*this._len,.2),a=n;a<=r;a+=s){t.push(a);e.push(this.interpolate(a))}return{xs:t,ys:e}};return _SplineMono}()}(t.chart||(t.chart={}))}(wijmo||(wijmo={}));!function(t){!function(t){"use strict";var e=function(){function Palettes(){}Palettes._isExtended=function(t){return-1!==this._values(Palettes.Diverging).indexOf(t)||-1!==this._values(Palettes.Qualitative).indexOf(t)||-1!==this._values(Palettes.SequentialSingle).indexOf(t)||-1!==this._values(Palettes.SequentialMulti).indexOf(t)};Palettes._values=function(t){return Object.keys(t).map((function(e){return t[e]}))};Palettes.standard=["#88bde6","#fbb258","#90cd97","#f6aac9","#bfa554","#bc99c7","#eddd46","#f07e6e","#8c8c8c"];Palettes.cocoa=["#466bb0","#c8b422","#14886e","#b54836","#6e5944","#8b3872","#73b22b","#b87320","#141414"];Palettes.coral=["#84d0e0","#f48256","#95c78c","#efa5d6","#ba8452","#ab95c2","#ede9d0","#e96b7d","#888888"];Palettes.dark=["#005fad","#f06400","#009330","#e400b1","#b65800","#6a279c","#d5a211","#dc0127","#000000"];Palettes.highcontrast=["#ff82b0","#0dda2c","#0021ab","#bcf28c","#19c23b","#890d3a","#607efd","#1b7700","#000000"];Palettes.light=["#ddca9a","#778deb","#cb9fbb","#b5eae2","#7270be","#a6c7a7","#9e95c7","#95b0c7","#9b9b9b"];Palettes.midnight=["#83aaca","#e37849","#14a46a","#e097da","#a26d54","#a584b7","#d89c54","#e86996","#2c343b"];Palettes.modern=["#2d9fc7","#ec993c","#89c235","#e377a4","#a68931","#a672a6","#d0c041","#e35855","#68706a"];Palettes.organic=["#9c88d9","#a3d767","#8ec3c0","#e9c3a9","#91ab36","#d4ccc0","#61bbd8","#e2d76f","#80715a"];Palettes.slate=["#7493cd","#f99820","#71b486","#e4a491","#cb883b","#ae83a4","#bacc5c","#e5746a","#505d65"];Palettes.zen=["#7bb5ae","#e2d287","#92b8da","#eac4cb","#7b8bbd","#c7d189","#b9a0c8","#dfb397","#a9a9a9"];Palettes.cyborg=["#2a9fd6","#77b300","#9933cc","#ff8800","#cc0000","#00cca3","#3d6dcc","#525252","#000000"];Palettes.superhero=["#5cb85c","#f0ad4e","#5bc0de","#d9534f","#9f5bde","#46db8c","#b6b86e","#4e5d6c","#2b3e4b"];Palettes.flatly=["#18bc9c","#3498db","#f39c12","#6cc1be","#99a549","#8f54b5","#e74c3c","#8a9899","#2c3e50"];Palettes.darkly=["#375a7f","#00bc8c","#3498db","#f39c12","#e74c3c","#8f61b3","#b08725","#4a4949","#000000"];Palettes.cerulan=["#033e76","#87c048","#59822c","#53b3eb","#fc6506","#d42323","#e3bb00","#cccccc","#222222"];Palettes.Qualitative={Accent:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"],Dark2:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"],Paired:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00"],Pastel1:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec"],Pastel2:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"],Set1:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf"],Set2:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"],Set3:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5"]};Palettes.Diverging={BrBG:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],PiYG:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],PRGn:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],PuOr:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],RdBu:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],RdGy:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],RdYlBu:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],RdYlGn:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],Spectral:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"]};Palettes.SequentialSingle={Blues:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"],Greens:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"],Greys:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"],Oranges:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"],Purples:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"],Reds:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"]};Palettes.SequentialMulti={BuGn:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"],BuPu:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"],GnBu:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"],OrRd:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"],PuBu:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"],PuBuGn:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"],PuRd:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"],RdPu:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"],YlGn:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"],YlGnBu:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"],YlOrBr:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"],YlOrRd:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"]};return Palettes}();t.Palettes=e}(t.chart||(t.chart={}))}(wijmo||(wijmo={}));!function(t){!function(t){"use strict";t.empty={}}(t.chart||(t.chart={}))}(wijmo||(wijmo={}));!function(t){!function(e){"use strict";var i=function(){function PlotArea(e){this._row=0;this._col=0;this._rect=new t.Rect(0,0,0,0);t.copy(this,e)}Object.defineProperty(PlotArea.prototype,"row",{get:function(){return this._row},set:function(e){if(e!=this._row){this._row=t.asInt(e,!0,!0);this._invalidate()}},enumerable:!0,configurable:!0});Object.defineProperty(PlotArea.prototype,"column",{get:function(){return this._col},set:function(e){if(e!=this._col){this._col=t.asInt(e,!0,!0);this._invalidate()}},enumerable:!0,configurable:!0});Object.defineProperty(PlotArea.prototype,"name",{get:function(){return this._name},set:function(e){e!=this._name&&(this._name=t.asString(e,!0))},enumerable:!0,configurable:!0});Object.defineProperty(PlotArea.prototype,"width",{get:function(){return this._width},set:function(t){if(t!=this._width){this._width=t;this._invalidate()}},enumerable:!0,configurable:!0});Object.defineProperty(PlotArea.prototype,"height",{get:function(){return this._height},set:function(t){if(t!=this._height){this._height=t;this._invalidate()}},enumerable:!0,configurable:!0});Object.defineProperty(PlotArea.prototype,"style",{get:function(){return this._style},set:function(t){if(t!=this._style){this._style=t;this._invalidate()}},enumerable:!0,configurable:!0});PlotArea.prototype._invalidate=function(){this._chart&&this._chart.invalidate()};PlotArea.prototype._render=function(t){t.drawRect(this._rect.left,this._rect.top,this._rect.width,this._rect.height,null,this.style)};PlotArea.prototype._setPlotX=function(t,e){this._rect.left=t;this._rect.width=e};PlotArea.prototype._setPlotY=function(t,e){this._rect.top=t;this._rect.height=e};return PlotArea}();e.PlotArea=i;var n,r=function(t){__extends(PlotAreaCollection,t);function PlotAreaCollection(){return null!==t&&t.apply(this,arguments)||this}PlotAreaCollection.prototype.getPlotArea=function(t){var e=this.indexOf(t);return e>-1?this[e]:null};PlotAreaCollection.prototype.indexOf=function(t){for(var e=0;e<this.length;e++)if(this[e].name==t)return e;return-1};PlotAreaCollection.prototype._getWidth=function(t){for(var e=0;e<this.length;e++){var i=this[e];if(i.column==t&&0==i.row)return i.width}};PlotAreaCollection.prototype._getHeight=function(t){for(var e=0;e<this.length;e++){var i=this[e];if(i.row==t&&0==i.column)return i.height}};PlotAreaCollection.prototype._calculateWidths=function(t,e){if(e<=0)throw"ncols";for(var i=[],n=0;n<e;n++){var r=this._getWidth(n);i[n]=new s(r)}return this._calculateLengths(t,e,i)};PlotAreaCollection.prototype._calculateHeights=function(t,e){if(e<=0)throw"nrows";for(var i=[],n=0;n<e;n++){var r=this._getHeight(n);i[n]=new s(r)}return this._calculateLengths(t,e,i)};PlotAreaCollection.prototype._calculateLengths=function(t,e,i){for(var n=[e],r=0,s=0,a=0;a<e;a++)if(i[a].isAbsolute){n[a]=i[a].value;r+=n[a]}else i[a].isStar?s+=i[a].value:i[a].isAuto&&s++;var o=(t-r)/s;for(a=0;a<e;a++){i[a].isStar?n[a]=o*i[a].value:i[a].isAuto&&(n[a]=o);n[a]<0&&(n[a]=0)}return n};return PlotAreaCollection}(t.collections.ObservableArray);e.PlotAreaCollection=r;!function(t){t[t.Auto=0]="Auto";t[t.Pixel=1]="Pixel";t[t.Star=2]="Star"}(n||(n={}));var s=function(){function _GridLength(t){void 0===t&&(t=null);this._unitType=n.Auto;if(t)if((t=t.toString()).indexOf("*")>=0){this._unitType=n.Star;t=t.replace("*","");this._value=parseFloat(t);isNaN(this._value)&&(this._value=1)}else{this._unitType=n.Pixel;this._value=parseFloat(t);if(isNaN(this._value)){this._unitType=n.Auto;this._value=1}}}Object.defineProperty(_GridLength.prototype,"value",{get:function(){return this._value},enumerable:!0,configurable:!0});Object.defineProperty(_GridLength.prototype,"isStar",{get:function(){return this._unitType==n.Star},enumerable:!0,configurable:!0});Object.defineProperty(_GridLength.prototype,"isAbsolute",{get:function(){return this._unitType==n.Pixel},enumerable:!0,configurable:!0});Object.defineProperty(_GridLength.prototype,"isAuto",{get:function(){return this._unitType==n.Auto},enumerable:!0,configurable:!0});return _GridLength}()}(t.chart||(t.chart={}))}(wijmo||(wijmo={}));!function(t){!function(e){"use strict";var i=function(){function _SvgRenderEngine(t){this._STROKE_JOIN="round";this._strokeWidth=1;this._fontSize=null;this._fontFamily=null;this._savedGradient={};this._bbCache={};this._baseUrl="";this._cssPriority=!0;this._readOnly=!1;this._isRtl=!1;this._precision=1;this._options=null;this._element=t;this._create();this._element&&this._element.appendChild(this._svg);var e=navigator.userAgent.toLowerCase();void 0===_SvgRenderEngine._isff&&(_SvgRenderEngine._isff=e.indexOf("firefox")>=0);void 0===_SvgRenderEngine._isSafari&&(_SvgRenderEngine._isSafari=e.indexOf("safari")>-1&&-1==e.indexOf("chrome"))}_SvgRenderEngine.prototype.attach=function(t){this._element=t;if(t){t.insertBefore(this._svg,t.childNodes[0]);t.appendChild(this._svg)}};_SvgRenderEngine.prototype.detach=function(){this._element&&this._element.removeChild(this._svg);for(;this._svg.firstChild;)t.removeChild(this._svg.firstChild)};_SvgRenderEngine.prototype.beginRender=function(){for(;this._svg.firstChild;)t.removeChild(this._svg.firstChild);this._savedGradient={};this._bbCache={};this._svg.appendChild(this._defs);this._svg.appendChild(this._textGroup);this._isRtl=this._checkRtl()};_SvgRenderEngine.prototype.endRender=function(){t.removeChild(this._textGroup)};_SvgRenderEngine.prototype.setViewportSize=function(t,e){this._svg.setAttribute("width",t.toString());this._svg.setAttribute("height",e.toString())};Object.defineProperty(_SvgRenderEngine.prototype,"element",{get:function(){return this._svg},enumerable:!0,configurable:!0});Object.defineProperty(_SvgRenderEngine.prototype,"fill",{get:function(){return this._fill},set:function(t){this._fill=t},enumerable:!0,configurable:!0});Object.defineProperty(_SvgRenderEngine.prototype,"fontSize",{get:function(){return this._fontSize},set:function(t){this._fontSize=t},enumerable:!0,configurable:!0});Object.defineProperty(_SvgRenderEngine.prototype,"fontFamily",{get:function(){return this._fontFamily},set:function(t){this._fontFamily=t},enumerable:!0,configurable:!0});Object.defineProperty(_SvgRenderEngine.prototype,"stroke",{get:function(){return this._stroke},set:function(t){this._stroke=t},enumerable:!0,configurable:!0});Object.defineProperty(_SvgRenderEngine.prototype,"strokeWidth",{get:function(){return this._strokeWidth},set:function(t){this._strokeWidth=void 0===t?null:t},enumerable:!0,configurable:!0});Object.defineProperty(_SvgRenderEngine.prototype,"textFill",{get:function(){return this._textFill},set:function(t){this._textFill=t},enumerable:!0,configurable:!0});Object.defineProperty(_SvgRenderEngine.prototype,"cssPriority",{get:function(){return this._cssPriority},set:function(t){this._cssPriority=t},enumerable:!0,configurable:!0});Object.defineProperty(_SvgRenderEngine.prototype,"readOnly",{get:function(){return this._readOnly},set:function(t){this._readOnly=t},enumerable:!0,configurable:!0});Object.defineProperty(_SvgRenderEngine.prototype,"precision",{get:function(){return this._precision},set:function(e){this._precision=t.asNumber(e)},enumerable:!0,configurable:!0});Object.defineProperty(_SvgRenderEngine.prototype,"group",{get:function(){return this._group},enumerable:!0,configurable:!0});Object.defineProperty(_SvgRenderEngine.prototype,"options",{get:function(){return this._options},set:function(t){this._options=t},enumerable:!0,configurable:!0});_SvgRenderEngine.prototype.addClipRect=function(t,e){if(t&&e){var i=this.precision,n=document.createElementNS(_SvgRenderEngine.svgNS,"clipPath"),r=document.createElementNS(_SvgRenderEngine.svgNS,"rect");r.setAttribute("x",(t.left-1).toFixed(i));r.setAttribute("y",(t.top-1).toFixed(i));r.setAttribute("width",(t.width+2).toFixed(i));r.setAttribute("height",(t.height+2).toFixed(i));n.appendChild(r);n.setAttribute("id",e);this._svg.appendChild(n)}};_SvgRenderEngine.prototype.drawEllipse=function(t,e,i,n,r,s){var a=document.createElementNS(_SvgRenderEngine.svgNS,"ellipse"),o=this.precision;this._applyColor(a,"stroke",this._stroke);null!==this._strokeWidth&&this._setAttribute(a,"stroke-width",this._strokeWidth.toString());this._applyColor(a,"fill",this._fill);a.setAttribute("cx",t.toFixed(o));a.setAttribute("cy",e.toFixed(o));a.setAttribute("rx",i.toFixed(o));a.setAttribute("ry",n.toFixed(o));r&&a.setAttribute("class",r);this._applyStyle(a,s);this._appendChild(a);return a};_SvgRenderEngine.prototype.drawRect=function(t,e,i,n,r,s,a){var o=document.createElementNS(_SvgRenderEngine.svgNS,"rect"),h=this.precision;this._applyColor(o,"fill",this._fill);this._applyColor(o,"stroke",this._stroke);null!==this._strokeWidth&&this._setAttribute(o,"stroke-width",this._strokeWidth.toString());o.setAttribute("x",t.toFixed(h));isNaN(Number(e))||o.setAttribute("y",e.toFixed(h));i>0&&i<.05?o.setAttribute("width","0.1"):o.setAttribute("width",i.toFixed(h));n>0&&n<.05?o.setAttribute("height","0.1"):o.setAttribute("height",n.toFixed(h));a&&this._setClipPath(o,a);r&&o.setAttribute("class",r);this._applyStyle(o,s);this._appendChild(o);return o};_SvgRenderEngine.prototype.drawLine=function(t,e,i,n,r,s){var a=document.createElementNS(_SvgRenderEngine.svgNS,"line"),o=this.precision;this._applyColor(a,"stroke",this._stroke);null!==this._strokeWidth&&this._setAttribute(a,"stroke-width",this._strokeWidth.toString());a.setAttribute("x1",t.toFixed(o));a.setAttribute("x2",i.toFixed(o));a.setAttribute("y1",e.toFixed(o));a.setAttribute("y2",n.toFixed(o));r&&a.setAttribute("class",r);this._applyStyle(a,s);this._appendChild(a);return a};_SvgRenderEngine.prototype.drawLines=function(t,e,i,n,r,s){if(t&&e){var a=s||Math.min(t.length,e.length);if(a>0){var o=document.createElementNS(_SvgRenderEngine.svgNS,"polyline"),h=this.precision;this._applyColor(o,"stroke",this._stroke);if(null!==this._strokeWidth){this._setAttribute(o,"stroke-width",this._strokeWidth.toString());this._strokeWidth>1&&this._setAttribute(o,"stroke-linejoin",this._STROKE_JOIN)}o.setAttribute("fill","none");for(var l="",_=0;_<a;_++)l+=t[_].toFixed(h)+","+e[_].toFixed(h)+" ";o.setAttribute("points",l);i&&o.setAttribute("class",i);r&&this._setClipPath(o,r);this._applyStyle(o,n);this._appendChild(o);return o}}return null};_SvgRenderEngine.prototype.drawSplines=function(t,i,n,r,s,a){if(t&&i){var o=new e._Curve(t,i,a,this._options&&this._options.spline).calculate(),h=o.xs,l=o.ys,_=Math.min(h.length,l.length);if(_>0){var u=document.createElementNS(_SvgRenderEngine.svgNS,"polyline"),c=this.precision;this._applyColor(u,"stroke",this._stroke);if(null!==this._strokeWidth){this._setAttribute(u,"stroke-width",this._strokeWidth.toString());this._strokeWidth>1&&this._setAttribute(u,"stroke-linejoin",this._STROKE_JOIN)}u.setAttribute("fill","none");for(var f="",p=0;p<_;p++)f+=h[p].toFixed(c)+","+l[p].toFixed(c)+" ";u.setAttribute("points",f);n&&u.setAttribute("class",n);s&&this._setClipPath(u,s);this._applyStyle(u,r);this._appendChild(u);return u}}return null};_SvgRenderEngine.prototype.drawPolygon=function(t,e,i,n,r){if(t&&e){var s=Math.min(t.length,e.length);if(s>0){var a=document.createElementNS(_SvgRenderEngine.svgNS,"polygon"),o=this.precision;this._applyColor(a,"stroke",this._stroke);if(null!==this._strokeWidth){this._setAttribute(a,"stroke-width",this._strokeWidth.toString());this._strokeWidth>1&&this._setAttribute(a,"stroke-linejoin",this._STROKE_JOIN)}this._applyColor(a,"fill",this._fill);for(var h="",l=0;l<s;l++)h+=t[l].toFixed(o)+","+e[l].toFixed(o)+" ";a.setAttribute("points",h);i&&a.setAttribute("class",i);r&&this._setClipPath(a,r);this._applyStyle(a,n);this._appendChild(a);return a}}return null};_SvgRenderEngine.prototype.drawPieSegment=function(e,i,n,r,s,a,o,h){if(s>=2*Math.PI)return this.drawEllipse(e,i,n,n,a,o);var l=document.createElementNS(_SvgRenderEngine.svgNS,"path"),_=this.precision;this._applyColor(l,"fill",this._fill);this._applyColor(l,"stroke",this._stroke);null!==this._strokeWidth&&this._setAttribute(l,"stroke-width",this._strokeWidth.toString());var u=new t.Point(e,i);u.x+=n*Math.cos(r);u.y+=n*Math.sin(r);var c=r+s,f=new t.Point(e,i);f.x+=n*Math.cos(c);f.y+=n*Math.sin(c);var p=" 0 0,1 ";Math.abs(s)>Math.PI&&(p=" 0 1,1 ");var d="M "+u.x.toFixed(_)+","+u.y.toFixed(_);d+=" A "+n.toFixed(_)+","+n.toFixed(_)+p;d+=f.x.toFixed(_)+","+f.y.toFixed(_);d+=" L "+e.toFixed(_)+","+i.toFixed(_)+" z";l.setAttribute("d",d);h&&this._setClipPath(l,h);a&&l.setAttribute("class",a);this._applyStyle(l,o);this._appendChild(l);return l};_SvgRenderEngine.prototype.drawDonutSegment=function(e,i,n,r,s,a,o,h,l){var _=!1;if(a>=2*Math.PI){_=!0;a-=.001}var u=document.createElementNS(_SvgRenderEngine.svgNS,"path"),c=this.precision+2;this._applyColor(u,"fill",this._fill);this._applyColor(u,"stroke",this._stroke);null!==this._strokeWidth&&this._setAttribute(u,"stroke-width",this._strokeWidth.toString());var f=new t.Point(e,i);f.x+=n*Math.cos(s);f.y+=n*Math.sin(s);var p=s+a,d=new t.Point(e,i);d.x+=n*Math.cos(p);d.y+=n*Math.sin(p);var g=new t.Point(e,i);g.x+=r*Math.cos(p);g.y+=r*Math.sin(p);var m=new t.Point(e,i);m.x+=r*Math.cos(s);m.y+=r*Math.sin(s);var y=" 0 0,1 ",x=" 0 0,0 ";if(Math.abs(a)>Math.PI){y=" 0 1,1 ";x=" 0 1,0 "}var b="M "+f.x.toFixed(c)+","+f.y.toFixed(c);b+=" A "+n.toFixed(c)+","+n.toFixed(c)+y;b+=d.x.toFixed(c)+","+d.y.toFixed(c);b+=_?" M "+g.x.toFixed(c)+","+g.y.toFixed(c):" L "+g.x.toFixed(c)+","+g.y.toFixed(c);b+=" A "+r.toFixed(c)+","+r.toFixed(c)+x;b+=m.x.toFixed(c)+","+m.y.toFixed(c);_||(b+=" z");u.setAttribute("d",b);l&&this._setClipPath(u,l);o&&u.setAttribute("class",o);this._applyStyle(u,h);this._appendChild(u);return u};_SvgRenderEngine.prototype.drawString=function(e,i,n,r){var s=this._createText(i,e),a=this.precision;n&&s.setAttribute("class",n);this._applyStyle(s,r);this._appendChild(s);var o,h=this._getKey(e,n,this._groupCls);if(this._bbCache[h]){o=this._bbCache[h];s.setAttribute("y",(i.y-(o.y+o.height)).toFixed(a))}else{o=this._getBBox(s);s.setAttribute("y",(i.y-(o.y+o.height-i.y)).toFixed(a))}this._isRtl&&!t.isIE()&&s.setAttribute("x",(i.x+o.width).toFixed(a));return s};_SvgRenderEngine.prototype.drawStringRotated=function(e,i,n,r,s,a){var o=this._createText(i,e),h=this.precision;s&&o.setAttribute("class",s);this._applyStyle(o,a);var l=document.createElementNS(_SvgRenderEngine.svgNS,"g");l.setAttribute("transform","rotate("+r.toFixed(h)+","+n.x.toFixed(h)+","+n.y.toFixed(h)+")");l.appendChild(o);this._appendChild(l);var _=this._getBBox(o);o.setAttribute("y",(i.y-(_.y+_.height-i.y)).toFixed(h));this._isRtl&&!t.isIE()&&o.setAttribute("x",(i.x+_.width).toFixed(h));return o};_SvgRenderEngine.prototype.measureString=function(e,i,n,r){var s=new t.Size(0,0);if(!this._fontFamily&&!this._fontSize){var a=this._getKey(e,i,n);if(this._bbCache[a])return this._bbCache[a]}if(this.cssPriority){this._fontSize&&this._text.setAttribute("font-size",this._fontSize);this._fontFamily&&this._text.setAttribute("font-family",this._fontFamily)}else{var o="";this._fontSize&&(o+="font-size:"+this._fontSize+";");this._fontFamily&&(o+="font-family:"+this._fontFamily+";");o.length>0&&this._text.setAttribute("style",o)}i&&this._text.setAttribute("class",i);n&&this._textGroup.setAttribute("class",n);this._applyStyle(this._text,r);this._setText(this._text,e);var h=this._getBBox(this._text);s.width=h.width;s.height=h.height;this._text.removeAttribute("font-size");this._text.removeAttribute("font-family");this._text.removeAttribute("class");this._text.removeAttribute("style");if(r)for(var l in r)this._text.removeAttribute(this._deCase(l));this._textGroup.removeAttribute("class");this._text.textContent=null;if(!this._fontFamily&&!this._fontSize){var _=this._getKey(e,i,n);this._bbCache[_]={x:h.x,y:h.y+1e3,width:h.width,height:h.height}}return s};_SvgRenderEngine.prototype.startGroup=function(t,e,i){void 0===i&&(i=!1);var n=document.createElementNS(_SvgRenderEngine.svgNS,"g");if(t){n.setAttribute("class",t);this._groupCls=t}e&&this._setClipPath(n,e);this._appendChild(n);i&&n.transform.baseVal.appendItem(this._svg.createSVGTransform());this._group=n;return n};_SvgRenderEngine.prototype.endGroup=function(){if(this._group){var t=this._group.parentNode;if(t==this._svg){this._group=null;this._groupCls=null}else{this._group=t;this._groupCls=this._getClass(this._group)}}};_SvgRenderEngine.prototype.drawImage=function(t,e,i,n,r){var s=document.createElementNS(_SvgRenderEngine.svgNS,"image"),a=this.precision;s.setAttributeNS(_SvgRenderEngine.xlinkNS,"href",t);s.setAttribute("x",e.toFixed(a));s.setAttribute("y",i.toFixed(a));s.setAttribute("width",n.toFixed(a));s.setAttribute("height",r.toFixed(a));this._appendChild(s);return s};_SvgRenderEngine.prototype._setClipPath=function(e,i){e.setAttribute("clip-path","url(#"+i+")");_SvgRenderEngine._isSafari&&t.setCss(e,{"-webkit-clip-path":"url(#"+i+")"})};_SvgRenderEngine.prototype._appendChild=function(t){if(!this.readOnly){var e=this._group;e||(e=this._svg);e.appendChild(t)}};_SvgRenderEngine.prototype._create=function(){this._svg=document.createElementNS(_SvgRenderEngine.svgNS,"svg");this._defs=document.createElementNS(_SvgRenderEngine.svgNS,"defs");this._svg.appendChild(this._defs);this._text=this._createText(new t.Point(-1e3,-1e3),"");this._textGroup=document.createElementNS(_SvgRenderEngine.svgNS,"g");this._textGroup.appendChild(this._text);this._svg.appendChild(this._textGroup)};_SvgRenderEngine.prototype._setText=function(t,e){var i=e?e.toString():null;if(i&&i.indexOf("tspan")>=0)try{t.textContent=null;for(var n=new DOMParser,r='<svg xmlns="http://www.w3.org/2000/svg">'+i+"</svg>",s=n.parseFromString(r,"text/xml").documentElement.firstChild;s;){t.appendChild(t.ownerDocument.importNode(s,!0));s=s.nextSibling}}catch(t){throw new Error("Error parsing XML string.")}else t.textContent=i};_SvgRenderEngine.prototype._getKey=function(t,e,i){return t+(e||"")+(i||"")};_SvgRenderEngine.prototype._createText=function(t,e){var i=document.createElementNS(_SvgRenderEngine.svgNS,"text"),n=this.precision;this._setText(i,e);i.setAttribute("x",t.x.toFixed(n));i.setAttribute("y",t.y.toFixed(n));if(this.cssPriority){null!=this._textFill&&i.setAttribute("fill",this._textFill);this._fontSize&&i.setAttribute("font-size",this._fontSize);this._fontFamily&&i.setAttribute("font-family",this._fontFamily)}else{var r="";null!=this._textFill&&(r+="fill:"+this._textFill+";");this._fontSize&&(r+="font-size:"+this._fontSize+";");this._fontFamily&&(r+="font-family:"+this._fontFamily+";");r.length>0&&i.setAttribute("style",r)}return i};_SvgRenderEngine.prototype._applyStyle=function(t,e){if(e)for(var i in e)"fill"===i||"stroke"===i?this._applyColor(t,i,e[i]):t.setAttribute(this._deCase(i),e[i])};_SvgRenderEngine.prototype._deCase=function(t){return t.replace(/[A-Z]/g,(function(t){return"-"+t.toLowerCase()}))};_SvgRenderEngine.prototype._getClass=function(t){var e;if(t)for(var i=t;i&&!(e=i.getAttribute("class"));i=i.parentNode);return e};_SvgRenderEngine.prototype._getBBox=function(t){if(!_SvgRenderEngine._isff)return t.getBBox();try{return t.getBBox()}catch(t){return{x:0,y:0,width:0,height:0}}};_SvgRenderEngine.prototype._applyColor=function(e,i,r){var s=n.tryParse(r);if(null!=s){if(!t.isString(s)){if(null==this._savedGradient[r]){var a,o="gc"+(1e6*Math.random()).toFixed();if(null!=s.x1){a=document.createElementNS(_SvgRenderEngine.svgNS,"linearGradient");["x1","y1","x2","y2","gradientUnits"].forEach((function(t){null!=s[t]&&a.setAttribute(t,s[t])}))}else if(null!=s.r){a=document.createElementNS(_SvgRenderEngine.svgNS,"radialGradient");["cx","cy","r","fx","fy","fr","gradientUnits"].forEach((function(t){null!=s[t]&&a.setAttribute(t,s[t])}))}s.colors&&s.colors&&s.colors.length>0&&s.colors.forEach((function(t){var e=document.createElementNS(_SvgRenderEngine.svgNS,"stop");null!=t.color&&e.setAttribute("stop-color",t.color);null!=t.offset&&e.setAttribute("offset",t.offset);null!=t.opacity&&e.setAttribute("stop-opacity",t.opacity);a.appendChild(e)}));a.setAttribute("id",o);this._defs.appendChild(a);this._savedGradient[r]=o}s="url("+this._baseUrl+"#"+this._savedGradient[r]+")"}this.cssPriority?e.setAttribute(i,s):this._addInlineStyle(e,i,s)}};_SvgRenderEngine.prototype._addInlineStyle=function(t,e,i){var n=t.getAttribute("style");n?t.setAttribute("style",n+e+":"+i+";"):t.setAttribute("style",e+":"+i+";")};_SvgRenderEngine.prototype._setAttribute=function(t,e,i){this.cssPriority?t.setAttribute(e,i):this._addInlineStyle(t,e,i)};_SvgRenderEngine.prototype._checkRtl=function(){return this._element&&t.hasClass(this._element,"wj-rtl")};_SvgRenderEngine.svgNS="http://www.w3.org/2000/svg";_SvgRenderEngine.xlinkNS="http://www.w3.org/1999/xlink";return _SvgRenderEngine}();e._SvgRenderEngine=i;var n=function(){function _GradientColorUtil(){}_GradientColorUtil.tryParse=function(t){if(_GradientColorUtil.parsedColor[t])return _GradientColorUtil.parsedColor[t];if(null==t||-1===t.indexOf("-")||-1!==t.indexOf("var("))return t;var e,i=t.replace(/\s+/g,"").split(/\-/g),n=i[0][0],r=!1,s=i[0].match(/\(\S+\)/);if(!s||0==s.length)return t;var a=s[0].replace(/[\(\\)]/g,"").split(/\,/g);if("l"===n||"L"===n){e={x1:"0",y1:"0",x2:"0",y2:"0",colors:[]};"l"===n&&(r=!0);["x1","y1","x2","y2"].forEach((function(t,i){null!=a[i]&&(e[t]=r?100*+a[i]+"%":a[i]+"")}))}else if("r"===n||"R"===n){e={cx:"0",cy:"0",r:"0",colors:[]};"r"===n&&(r=!0);["cx","cy","r","fx","fy","fr"].forEach((function(t,i){null!=a[i]&&""!==a[i]&&(e[t]=r?100*+a[i]+"%":a[i]+"")}))}r||(e.gradientUnits="userSpaceOnUse");_GradientColorUtil.parsedColor[t]=e;var o=i.length-1;i.forEach((function(t,i){t.indexOf(")")>-1&&(t=t.match(/\)\S+/)[0].replace(")",""));var n=t.split(":"),s={color:"black"};null!=n[0]&&(s.color=n[0]);null!=n[1]?s.offset=r?100*+n[1]+"%":n[1]+"":s.offset=i/o*100+"%";null!=n[2]&&(s.opacity=n[2]);e.colors.push(s)}));return e};_GradientColorUtil.parsedColor={};return _GradientColorUtil}(),r=function(t){__extends(SvgRenderEngine,t);function SvgRenderEngine(){return null!==t&&t.apply(this,arguments)||this}return SvgRenderEngine}(i);e.SvgRenderEngine=r}(t.chart||(t.chart={}))}(wijmo||(wijmo={}));!function(t){!function(e){"use strict";var i=function(){function Legend(i){this._position=e.Position.Right;this._title="";this._titleAlign="left";this._titlePadding=5;this._areas=new Array;this._sz=new t.Size;this._colRowLens=[];this._orient=e.Orientation.Auto;this._scrollbar=!1;this._chart=i}Object.defineProperty(Legend.prototype,"position",{get:function(){return this._position},set:function(i){if((i=t.asEnum(i,e.Position))!=this._position){this._position=i;this._invalidate()}},enumerable:!0,configurable:!0});Object.defineProperty(Legend.prototype,"title",{get:function(){return this._title},set:function(e){if(e!=this._title){this._title=t.asString(e,!1);this._invalidate()}},enumerable:!0,configurable:!0});Object.defineProperty(Legend.prototype,"titleAlign",{get:function(){return this._titleAlign},set:function(e){if(e!=this._titleAlign){var i=t.asString(e,!1);this._titleAlign="right"===i?"right":"center"===i?"center":"left";this._invalidate()}},enumerable:!0,configurable:!0});Object.defineProperty(Legend.prototype,"orientation",{get:function(){return this._orient},set:function(i){if((i=t.asEnum(i,e.Orientation))!=this._orient){this._orient=i;this._invalidate()}},enumerable:!0,configurable:!0});Object.defineProperty(Legend.prototype,"maxSize",{get:function(){return this._maxSz},set:function(i){if(i!=this._maxSz){if(t.isNumber(i))this._maxSz=i;else if(t.isString(i)){var n=t.asString(i);t.assert(e.FlexChartBase._endsWith(n,"px")||e.FlexChartBase._endsWith(n,"%"),"number with unit (px or %) expected.");this._maxSz=n}else i&&t.assert(!1,"number or string expected.");this._invalidate()}},enumerable:!0,configurable:!0});Object.defineProperty(Legend.prototype,"scrollbar",{get:function(){return this._scrollbar},set:function(e){if(e!=this._scrollbar){this._scrollbar=t.asBoolean(e,!1);this._invalidate()}},enumerable:!0,configurable:!0});Legend.prototype._getDesiredSize=function(i,n,r,s){if(n==e.Position.None)return null;var a=this.orientation==e.Orientation.Auto?n==e.Position.Right||n==e.Position.Left:this.orientation==e.Orientation.Vertical,o=new t.Size;this.title.length>0&&(s-=(o=i.measureString(this.title,"wj-title","wj-legend")).height+this._titlePadding);var h=this._chart._getDesiredLegendSize(i,a,r,s);if(null!=h){if(this.title.length>0){h.height+=o.height+this._titlePadding;o.width>h.width&&(h.width=o.width)}this._sz=h.clone();if(this.scrollbar&&h.height>s){a&&(h.width+=18);h.height=s}}return h};Legend.prototype._getPosition=function(t,i){return this.position==e.Position.Auto?t>=i?e.Position.Right:e.Position.Bottom:this.position};Legend.prototype._render=function(t,i,n,r,s){this._areas=[];var a=this.orientation==e.Orientation.Auto?n==e.Position.Right||n==e.Position.Left:this.orientation==e.Orientation.Vertical,o=0;t.fill="transparent";t.stroke=null;t.drawRect(i.x,i.y,r,s);if(this.title.length){var h=i.clone(),l=t.measureString(this.title,"wj-title`");h.y+=l.height;"right"===this.titleAlign?h.x=i.x+r-l.width:"center"===this.titleAlign&&(h.x=i.x+.5*(r-l.width));t.drawString(this.title,h,"wj-title");o=l.height+this._titlePadding;i.y+=o;s-=o}var _=!1;this.scrollbar&&this._sz.height>s&&(_=!0);this._chart._renderLegend(t,i,this._areas,a,_?r-18:r,s);if(_){i.y-=o;s+=o;this._addScrollbar(t,i,r,s,this._sz.height)}};Legend.prototype._hitTest=function(t){for(var i=this._areas,n=0;n<i.length;n++)if(i[n]&&e.FlexChartBase._contains(i[n],t))return n;return null};Legend.prototype._addScrollbar=function(t,e,i,n,r){t.endGroup();var s=t.element,a=s.children.item(s.children.length-1);a.removeAttribute("clip-path");a.remove();Array.from(a.querySelectorAll("text,rect")).forEach((function(t){t.setAttribute("x",(+t.getAttribute("x")-e.x).toFixed(2));t.setAttribute("y",(+t.getAttribute("y")-e.y).toFixed(2))}));Array.from(a.querySelectorAll("ellipse")).forEach((function(t){t.setAttribute("cx",(+t.getAttribute("cx")-e.x).toFixed(2));t.setAttribute("cy",(+t.getAttribute("cy")-e.y).toFixed(2))}));Array.from(a.querySelectorAll("line")).forEach((function(t){t.setAttribute("x1",(+t.getAttribute("x1")-e.x).toFixed(2));t.setAttribute("y1",(+t.getAttribute("y1")-e.y).toFixed(2));t.setAttribute("x2",(+t.getAttribute("x2")-e.x).toFixed(2));t.setAttribute("y2",(+t.getAttribute("y2")-e.y).toFixed(2))}));var o=document.createElementNS("http://www.w3.org/2000/svg","foreignObject");o.setAttribute("x",e.x.toFixed(2));o.setAttribute("y",e.y.toFixed(2));o.setAttribute("width",i.toFixed(2));o.setAttribute("height",n.toFixed(2));var h=document.createElement("div");h.setAttribute("style","height:100%;overflow-x:hidden;overflow-y:scroll;");var l=document.createElementNS("http://www.w3.org/2000/svg","svg");l.setAttribute("width",i.toFixed(2));l.setAttribute("height",r.toFixed(2));l.appendChild(a);h.appendChild(l);o.appendChild(h);s.appendChild(o)};Legend.prototype._invalidate=function(){this._chart&&this._chart.invalidate()};Legend.prototype._getMaxSize=function(i){var n=this.maxSize;if(t.isNumber(n)){if((s=t.asNumber(n,!0))>0)return Math.min(s,i)}else{var r=t.asString(n,!0);if(r)if(e.FlexChartBase._endsWith(r,"px")){if((s=parseFloat(r.replace("px","")))>0)return Math.min(s,i)}else if(e.FlexChartBase._endsWith(r,"%")){var s;if((s=parseFloat(r.replace("%","")))>0)return i*Math.min(s,100)/100}}return.5*i};return Legend}();e.Legend=i}(t.chart||(t.chart={}))}(wijmo||(wijmo={}));!function(t){!function(e){"use strict";var i=function i(t,e){void 0===t&&(t=0);void 0===e&&(e=0);this.x=t;this.y=e};e.DataPoint=i;var n=function(t){__extends(RenderEventArgs,t);function RenderEventArgs(e){var i=t.call(this)||this;i._engine=e;return i}Object.defineProperty(RenderEventArgs.prototype,"engine",{get:function(){return this._engine},enumerable:!0,configurable:!0});return RenderEventArgs}(t.CancelEventArgs);e.RenderEventArgs=n;var r,s,a,o=function(t){__extends(SeriesRenderingEventArgs,t);function SeriesRenderingEventArgs(e,i,n){var r=t.call(this,e)||this;r._index=i;r._count=n;return r}Object.defineProperty(SeriesRenderingEventArgs.prototype,"index",{get:function(){return this._index},enumerable:!0,configurable:!0});Object.defineProperty(SeriesRenderingEventArgs.prototype,"count",{get:function(){return this._count},enumerable:!0,configurable:!0});return SeriesRenderingEventArgs}(n);e.SeriesRenderingEventArgs=o;!function(t){t[t.Png=0]="Png";t[t.Jpeg=1]="Jpeg";t[t.Svg=2]="Svg"}(r=e.ImageFormat||(e.ImageFormat={}));!function(t){t[t.None=0]="None";t[t.Series=1]="Series";t[t.Point=2]="Point"}(s=e.SelectionMode||(e.SelectionMode={}));!function(t){t[t.None=0]="None";t[t.Left=1]="Left";t[t.Top=2]="Top";t[t.Right=3]="Right";t[t.Bottom=4]="Bottom";t[t.Auto=5]="Auto"}(a=e.Position||(e.Position={}));!function(t){t[t.Auto=0]="Auto";t[t.Vertical=1]="Vertical";t[t.Horizontal=2]="Horizontal"}(e.Orientation||(e.Orientation={}));var h=function(i){__extends(FlexChartBase,i);function FlexChartBase(){var n=null!==i&&i.apply(this,arguments)||this;n._palette=null;n._selectionMode=s.None;n._defPalette=e.Palettes.standard;n._notifyCurrentChanged=!0;n._legendHost=null;n._needBind=!1;n._skipLightClr=!1;n.rendering=new t.Event;n.rendered=new t.Event;n.itemsSourceChanging=new t.Event;n.itemsSourceChanged=new t.Event;n.selectionChanged=new t.Event;return n}Object.defineProperty(FlexChartBase.prototype,"itemsSource",{get:function(){return this._items},set:function(e){if(this._items!=e){var i=new t.CancelEventArgs;if(!this.onItemsSourceChanging(i))return;if(this._cv){this._cv.currentChanged.removeHandler(this._cvCurrentChanged,this);this._cv.collectionChanged.removeHandler(this._cvCollectionChanged,this);this._cv=null}this._items=e;this._cv=t.asCollectionView(e);if(null!=this._cv){this._cv.currentChanged.addHandler(this._cvCurrentChanged,this);this._cv.collectionChanged.addHandler(this._cvCollectionChanged,this)}this._clearCachedValues();this.onItemsSourceChanged(i);this._bindChart()}},enumerable:!0,configurable:!0});Object.defineProperty(FlexChartBase.prototype,"collectionView",{get:function(){return this._cv},enumerable:!0,configurable:!0});Object.defineProperty(FlexChartBase.prototype,"palette",{get:function(){return this._palette},set:function(i){if(i!=this._palette){this._palette=t.asArray(i);this._skipLightClr=e.Palettes._isExtended(this._palette);this.invalidate()}},enumerable:!0,configurable:!0});Object.defineProperty(FlexChartBase.prototype,"plotMargin",{get:function(){return this._plotMargin},set:function(t){if(t!=this._plotMargin){this._plotMargin=t;this.invalidate()}},enumerable:!0,configurable:!0});Object.defineProperty(FlexChartBase.prototype,"legend",{get:function(){return this._legend},set:function(i){if(i!=this._legend){this._legend=t.asType(i,e.Legend);null!=this._legend&&(this._legend._chart=this)}},enumerable:!0,configurable:!0});Object.defineProperty(FlexChartBase.prototype,"header",{get:function(){return this._header},set:function(e){if(e!=this._header){this._header=t.asString(e,!0);this.invalidate()}},enumerable:!0,configurable:!0});Object.defineProperty(FlexChartBase.prototype,"footer",{get:function(){return this._footer},set:function(e){if(e!=this._footer){this._footer=t.asString(e,!0);this.invalidate()}},enumerable:!0,configurable:!0});Object.defineProperty(FlexChartBase.prototype,"headerStyle",{get:function(){return this._headerStyle},set:function(t){if(t!=this._headerStyle){this._headerStyle=t;this.invalidate()}},enumerable:!0,configurable:!0});Object.defineProperty(FlexChartBase.prototype,"footerStyle",{get:function(){return this._footerStyle},set:function(t){if(t!=this._footerStyle){this._footerStyle=t;this.invalidate()}},enumerable:!0,configurable:!0});Object.defineProperty(FlexChartBase.prototype,"selectionMode",{get:function(){return this._selectionMode},set:function(e){if((e=t.asEnum(e,s))!=this._selectionMode){this._selectionMode=e;this.invalidate()}},enumerable:!0,configurable:!0});Object.defineProperty(FlexChartBase.prototype,"itemFormatter",{get:function(){return this._itemFormatter},set:function(e){if(e!=this._itemFormatter){this._itemFormatter=t.asFunction(e);this.invalidate()}},enumerable:!0,configurable:!0});FlexChartBase.prototype.onRendering=function(t){this.rendering.raise(this,t)};FlexChartBase.prototype.onRendered=function(t){this.rendered.raise(this,t)};FlexChartBase.prototype.onItemsSourceChanging=function(t){this.itemsSourceChanging.raise(this,t);return!t.cancel};FlexChartBase.prototype.onItemsSourceChanged=function(t){this.itemsSourceChanged.raise(this,t)};FlexChartBase.prototype.saveImageToFile=function(t){var e,i,n,s;t&&0!==t.length&&-1!==t.indexOf(".")||(t="image.png");s=t.split(".");e=s[0];i=s[1].toLowerCase();n=r[i[0].toUpperCase()+i.substring(1)];this.saveImageToDataUrl(n,(function(t){_.downloadImage(t,e,i)}))};FlexChartBase.prototype.saveImageToDataUrl=function(e,i){var n=t.asEnum(e,r,!1),s=r[n].toLowerCase();s&&s.length&&this._exportToImage(s,(function(t){i.call(i,t)}))};FlexChartBase.prototype.saveSvgToDataUrl=function(t,e){void 0===e&&(e=!0);this._exportToImage("svg",(function(e){t.call(t,e)}),{embedCss:e})};FlexChartBase.prototype.saveSvgToFile=function(t,e){void 0===e&&(e=!0);this.saveSvgToDataUrl((function(e){_.downloadImage(e,t,"svg")}),e)};FlexChartBase.prototype._exportToImage=function(t,e,i){var n=this;void 0===i&&(i=null);var r=this._currentRenderEngine.element;i&&!1===i.embedCss?_.getDataUri2(r,this,(function(i){n.prepareDataUri(r,t,i,e)})):_.getDataUri(r,this,(function(i){n.prepareDataUri(r,t,i,e)}))};FlexChartBase.prototype.prepareDataUri=function(e,i,n,r){var s=this;if("svg"===i)r.call(null,n);else{var a=new Image;a.onload=function(){var n,o=document.createElement("canvas"),h=e.parentNode||e,l=t.getElementRect(h);o.width=l.width;o.height=l.height;var _=o.getContext("2d"),u=s._bgColor(s.hostElement);s._isTransparent(u)&&(u="#ffffff");_.fillStyle=u;_.fillRect(0,0,l.width,l.height);var c=window.getComputedStyle(h,null).getPropertyValue("padding-left").replace("px",""),f=window.getComputedStyle(h,null).getPropertyValue("padding-top").replace("px","");_.drawImage(a,+c||0,+f||0);n=o.toDataURL("image/"+i);r.call(null,n);o=null};a.src=n}};FlexChartBase.prototype.refresh=function(t){void 0===t&&(t=!0);i.prototype.refresh.call(this,t);this.isUpdating||this._refreshChart()};FlexChartBase.prototype.onSelectionChanged=function(t){this.selectionChanged.raise(this,t)};FlexChartBase.prototype.onLostFocus=function(t){this._tooltip&&this._tooltip.isVisible&&!this.isTouching&&this._tooltip.hide();i.prototype.onLostFocus.call(this,t)};FlexChartBase.prototype._cvCollectionChanged=function(t,e){this._clearCachedValues();this._bindChart()};FlexChartBase.prototype._cvCurrentChanged=function(t,e){this._notifyCurrentChanged&&this._bindChart()};FlexChartBase.prototype._bgColor=function(t){if(!t)return"transparent";var e=getComputedStyle(t).backgroundColor;return this._isTransparent(e)?this._bgColor(t.parentElement):e};FlexChartBase.prototype._isTransparent=function(e){var i=new t.Color(e);return 0==i.a&&0==i.b&&0==i.g&&0==i.r};FlexChartBase.prototype._getColor=function(t){var e=this._defPalette;null!=this._palette&&this._palette.length>0&&(e=this._palette);return e[t%e.length]};FlexChartBase.prototype._getColorLight=function(t){var e=this._getColor(t);this._skipLightClr||(e=this._getLightColor(e));return e};FlexChartBase.prototype._getLightColor=function(e){var i=new t.Color(e);if(null!=i&&-1===e.indexOf("-")){1==i.a&&-1==e.indexOf("rgba")&&-1==e.indexOf("hsla")&&(i.a*=.7);e=i.toString()}return e};FlexChartBase.prototype._bindChart=function(){this._needBind=!0;this.invalidate()};FlexChartBase.prototype._clearCachedValues=function(){};FlexChartBase.prototype._renderEls=function(e,i,n,r,s){void 0===n&&(n=!0);void 0===r&&(r=null);void 0===s&&(s=!1);var a=i.width,o=i.height;if(0!=a){(isNaN(a)||a<0)&&(a=FlexChartBase._WIDTH);(o<=0||isNaN(o))&&(o=FlexChartBase._HEIGHT);var h=a>0&&o>0;h&&e.setViewportSize(a,o);var l=0;if(this.legend.scrollbar&&this._legendHost){(f=this._legendHost.closest("div"))&&(l=f.scrollTop)}e.beginRender();e.cssPriority=!0;if(h){this._rectChart=new t.Rect(0,0,a,o);this._prepareRender();if(r){var _=e.stroke,u=e.fill;e.fill=r;e.stroke=null;e.drawRect(0,0,a,o);e.fill=u;e.stroke=_}var c=new t.Rect(0,0,a,o);this._chartRectId="chartRect"+(1e6*Math.random()).toFixed();e.addClipRect(c,this._chartRectId);this._renderHeader(e,c);this._renderFooter(e,c);this._renderLegends(e,c);this._renderChart(e,c,n);if(this.legend.scrollbar&&this._legendHost){var f;(f=this._legendHost.closest("div"))&&(f.scrollTop=l)}}e.endRender()}};FlexChartBase.prototype._render=function(t,e,i){void 0===e&&(e=!0);void 0===i&&(i=null);var n=this._getHostSize();if(this._h){var r=n.height-this._h;r>=4&&r<=6&&!1!==this._isPCUnit("height")&&(n.height=this._h)}this._h=n.height;this._renderEls(t,n,e,i)};FlexChartBase.prototype._isPCUnit=function(t){var e=null,i=this.hostElement;if(i&&i.computedStyleMap){var n=i.computedStyleMap();if(n){var r=n.get(t);r&&(e="percent"==r.unit)}}return e};FlexChartBase.prototype._renderHidden=function(i,n){void 0===i&&(i=null);void 0===n&&(n=null);var r=document.createElement("div");t.addClass(r,this.hostElement.getAttribute("class")||"");r.style.visibility="hidden";var s=new e._SvgRenderEngine(r);document.body.appendChild(r);if(!i){var a=this._getHostComputedStyle(),o=0,h=0;if(a){o=this._parsePx(a.width);h=this._parsePx(a.height);0==o&&(o=FlexChartBase._WIDTH);0==h&&(h=FlexChartBase._HEIGHT);o-=this._parsePx(a.paddingLeft);o-=this._parsePx(a.paddingRight);h-=this._parsePx(a.paddingTop);h-=this._parsePx(a.paddingBottom);o-=this._parsePx(a.borderLeftWidth);o-=this._parsePx(a.borderRightWidth);h-=this._parsePx(a.borderTopWidth);h-=this._parsePx(a.borderBottomWidth)}0==o&&(o=FlexChartBase._WIDTH);0==h&&(h=FlexChartBase._HEIGHT);i=new t.Size(o,h)}this._renderEls(s,i,!0,n,!0);t.removeChild(r);return s.element};FlexChartBase.prototype._renderHeader=function(t,e){t.startGroup(FlexChartBase._CSS_HEADER,this._chartRectId);e=this._drawTitle(t,e,this.header,this.headerStyle,!1);t.endGroup()};FlexChartBase.prototype._renderFooter=function(t,e){t.startGroup(FlexChartBase._CSS_FOOTER,this._chartRectId);e=this._drawTitle(t,e,this.footer,this.footerStyle,!0);t.endGroup()};FlexChartBase.prototype._renderLegends=function(e,i){var n,r,s=this.legend,o=i.width,h=i.height,l=s._getPosition(o,h),_=o,u=h;l==a.Left||l==a.Right?_=this._getLegendSize(o,_):u=this._getLegendSize(h,u);if(n=s._getDesiredSize(e,l,_,u)){l==a.Left||l==a.Right?n.width=this._getLegendSize(o,n.width):n.height=this._getLegendSize(h,n.height);n.height>i.height&&(n.height=i.height);switch(l){case a.Right:o-=n.width;r=new t.Point(o,i.top+.5*(h-n.height));break;case a.Left:i.left+=n.width;o-=n.width;r=new t.Point(0,i.top+.5*(h-n.height));break;case a.Top:h-=n.height;r=new t.Point(.5*(o-n.width),i.top);i.top+=n.height;break;case a.Bottom:h-=n.height;r=new t.Point(.5*(o-n.width),i.top+h)}i.width=o;i.height=h;this._rectLegend=new t.Rect(r.x,r.y,n.width,n.height);var c="legRect"+(1e6*Math.random()).toFixed();e.addClipRect(this._rectLegend,c);this._legendHost=e.startGroup(FlexChartBase._CSS_LEGEND,c);this.legend._render(e,r,l,n.width,n.height);e.endGroup()}else{this._legendHost=null;this._rectLegend=null}};FlexChartBase.prototype._prepareRender=function(){};FlexChartBase.prototype._renderChart=function(t,e,i){};FlexChartBase.prototype._performBind=function(){};FlexChartBase.prototype._getDesiredLegendSize=function(t,e,i,n){return null};FlexChartBase.prototype._renderLegend=function(t,e,i,n,r,s){};FlexChartBase.prototype._getHitTestItem=function(t){return null};FlexChartBase.prototype._getHitTestValue=function(t,e){return null};FlexChartBase.prototype._getHitTestLabel=function(t){return null};FlexChartBase.prototype._refreshChart=function(){if(this._needBind){this._needBind=!1;this._performBind()}this.hostElement&&this._render(this._currentRenderEngine)};FlexChartBase.prototype._drawTitle=function(e,i,n,r,s){var a=FlexChartBase._CSS_TITLE,o=s?FlexChartBase._CSS_FOOTER:FlexChartBase._CSS_HEADER,h=null;s?this._rectFooter=null:this._rectHeader=null;if(null!=n){var l=null,_=null,u=null,c=null;if(r){r.fontSize&&(l=r.fontSize);r.foreground&&(_=r.foreground);r.fill&&(_=r.fill);r.fontFamily&&(u=r.fontFamily);r.halign&&(c=r.halign)}e.fontSize=l;e.fontFamily=u;h=e.measureString(n,a,o,r);i.height-=h.height;_||(_=FlexChartBase._FG);e.textFill=_;if(s){"left"==c?FlexChartBase._renderText(e,n,new t.Point(i.left,i.bottom),0,0,a,o,r):"right"==c?FlexChartBase._renderText(e,n,new t.Point(i.left+i.width,i.bottom),2,0,a,o,r):FlexChartBase._renderText(e,n,new t.Point(i.left+.5*i.width,i.bottom),1,0,a,o,r);this._rectFooter=new t.Rect(i.left,i.bottom,i.width,h.height)}else{this._rectHeader=new t.Rect(i.left,i.top,i.width,h.height);i.top+=h.height;"left"==c?FlexChartBase._renderText(e,n,new t.Point(i.left,0),0,0,a,o,r):"right"==c?FlexChartBase._renderText(e,n,new t.Point(i.left+i.width,0),2,0,a,o,r):FlexChartBase._renderText(e,n,new t.Point(i.left+.5*i.width,0),1,0,a,o,r)}e.textFill=null;e.fontSize=null;e.fontFamily=null}return i};FlexChartBase.prototype.pageToControl=function(t,e){return this._toControl(t,e)};FlexChartBase.prototype._toControl=function(e,i){t.isNumber(e)&&t.isNumber(i)?e=new t.Point(e,i):e instanceof MouseEvent&&(e=t.mouseToPage(e));t.asType(e,t.Point);var n=e.clone(),r=this._getHostOffset();n.x-=r.x;n.y-=r.y;var s=this._currentRenderEngine?this._currentRenderEngine.element:null;if(null!=s){var a=s.getBoundingClientRect(),o=parseFloat(s.getAttribute("width")),h=parseFloat(s.getAttribute("height"));a.width!=o&&(n.x*=o/a.width);a.height!=h&&(n.y*=h/a.height)}var l=this._getHostComputedStyle();if(l){var _=parseInt(l.paddingLeft.replace("px",""));_&&!isNaN(_)&&(n.x-=_);var u=parseInt(l.paddingTop.replace("px",""));u&&!isNaN(u)&&(n.y-=u)}return n};FlexChartBase.prototype._highlightItems=function(e,i,n){if(n)for(var r=0;r<e.length;r++)t.addClass(e[r],i);else for(r=0;r<e.length;r++)t.removeClass(e[r],i)};FlexChartBase.prototype._parseMargin=function(e){var i={};if(t.isNumber(e)&&!isNaN(e))i.top=i.bottom=i.left=i.right=t.asNumber(e);else if(t.isString(e)){var n=t.asString(e).split(" ",4),r=NaN,s=NaN,a=NaN,o=NaN;if(n){if(4==n.length){r=parseFloat(n[0]);o=parseFloat(n[1]);s=parseFloat(n[2]);a=parseFloat(n[3])}else if(2==n.length){r=s=parseFloat(n[0]);a=o=parseFloat(n[1])}else 1==n.length&&(r=s=a=o=parseFloat(n[1]));isNaN(r)||(i.top=r);isNaN(s)||(i.bottom=s);isNaN(a)||(i.left=a);isNaN(o)||(i.right=o)}}return i};FlexChartBase.prototype._showToolTip=function(t,e){var i=this,n=this._tooltip.showDelay;i._clearTimeouts();if(!i.isDisabled){t||i._tooltip.hide();if(n>0)i._toShow=setTimeout((function(){i._tooltip.show(i.hostElement,t,e);i._tooltip.hideDelay>0&&(i._toHide=setTimeout((function(){i._tooltip.hide()}),i._tooltip.hideDelay))}),n);else{i._tooltip.show(i.hostElement,t,e);i._tooltip.hideDelay>0&&(i._toHide=setTimeout((function(){i._tooltip.hide()}),i._tooltip.hideDelay))}}};FlexChartBase.prototype._hideToolTip=function(){this._clearTimeouts();this._tooltip.hide()};FlexChartBase.prototype._clearTimeouts=function(){if(this._toShow){clearTimeout(this._toShow);this._toShow=null}if(this._toHide){clearTimeout(this._toHide);this._toHide=null}};FlexChartBase.prototype._getHostOffset=function(){var e=t.getElementRect(this.hostElement);return new t.Point(e.left,e.top)};FlexChartBase.prototype._getHostSize=function(){var e=new t.Size,i=this.hostElement,n=this._getHostComputedStyle(),r=i.offsetWidth,s=i.offsetHeight;if(n){r-=this._parsePx(n.paddingLeft);r-=this._parsePx(n.paddingRight);s-=this._parsePx(n.paddingTop);s-=this._parsePx(n.paddingBottom);r-=this._parsePx(n.borderLeftWidth);r-=this._parsePx(n.borderRightWidth);s-=this._parsePx(n.borderTopWidth);s-=this._parsePx(n.borderBottomWidth);e.width=r;e.height=s}return e};FlexChartBase.prototype._parsePx=function(t){var e=parseFloat(t.replace("px",""));return isNaN(e)?0:e};FlexChartBase.prototype._getHostComputedStyle=function(){var t=this.hostElement;return t&&t.ownerDocument&&t.ownerDocument.defaultView?t.ownerDocument.defaultView.getComputedStyle(this.hostElement):null};FlexChartBase.prototype._find=function(t,e){for(var i=[],n=0;n<t.childElementCount;n++){var r=t.childNodes.item(n);if(e.indexOf(r.nodeName)>=0)i.push(r);else{var s=this._find(r,e);if(s.length>0)for(var a=0;a<s.length;a++)i.push(s[a])}}return i};FlexChartBase.prototype._getLegendSize=function(t,e){return Math.min(e,this.legend._getMaxSize(t))};FlexChartBase._contains=function(t,e){return!(!t||!e)&&(e.x>=t.left&&e.x<=t.right&&e.y>=t.top&&e.y<=t.bottom)};FlexChartBase._intersects=function(t,e){return!(t.left>e.right||t.right<e.left||t.top>e.bottom||t.bottom<e.top)};FlexChartBase._toOADate=function(t){return t.valueOf()};FlexChartBase._fromOADate=function(t){return new Date(t)};FlexChartBase._renderText=function(e,i,n,r,s,a,o,h,l){var _=e.measureString(i,a,o,h),u=n.x,c=n.y;switch(r){case 1:u-=.5*_.width;break;case 2:u-=_.width}switch(s){case 1:c+=.5*_.height;break;case 0:c+=_.height}var f=new t.Rect(u,c-_.height,_.width,_.height);if(l){if(l(f)){e.drawString(i,new t.Point(u,c),a,h);return f}return null}e.drawString(i,new t.Point(u,c),a,h);return f};FlexChartBase._renderRotatedText=function(e,i,n,r,s,a,o,h,l,_){var u=e.measureString(i,h,l,_),c=n.x,f=n.y;switch(r){case 1:c-=.5*u.width;break;case 2:c-=u.width}switch(s){case 1:f+=.5*u.height;break;case 0:f+=u.height}return e.drawStringRotated(i,new t.Point(c,f),a,o,h,_)};FlexChartBase._endsWith=function(t,e){if(t&&e){var i=t.length-e.length;return i>=0&&t.indexOf(e,i)===i}return!1};FlexChartBase._WIDTH=300;FlexChartBase._HEIGHT=200;FlexChartBase._SELECTION_THRESHOLD=15;FlexChartBase._CSS_LEGEND="wj-legend";FlexChartBase._CSS_HEADER="wj-header";FlexChartBase._CSS_FOOTER="wj-footer";FlexChartBase._CSS_TITLE="wj-title";FlexChartBase._CSS_LABEL="wj-label";FlexChartBase._CSS_SELECTION="wj-state-selected";FlexChartBase._CSS_PLOT_AREA="wj-plot-area";FlexChartBase._FG="#666";FlexChartBase._epoch=new Date(1899,11,30).getTime();FlexChartBase._msPerDay=864e5;return FlexChartBase}(t.Control);e.FlexChartBase=h;var l=function(){function _KeyWords(){this._keys={};this._keys.seriesName=null;this._keys.pointIndex=null;this._keys.x=null;this._keys.y=null;this._keys.value=null;this._keys.name=null}_KeyWords.prototype.replace=function(e,i){var n=this;return t.format(e,{},(function(t,e,r,s){return n.getValue(e,i,r)}))};_KeyWords.prototype.getValue=function(e,i,n){switch(e){case"seriesName":return i.series?i.series.name:"";case"pointIndex":return null!=i.pointIndex?i.pointIndex.toFixed():"";case"x":return n?t.Globalize.format(i.x,n):i._xfmt;case"y":return n?t.Globalize.format(i.y,n):i._yfmt;case"value":return n?t.Globalize.format(i.value,n):i._getValueFmt();case"name":return i.name}if(i.item){0==e.indexOf("item.")&&(e=e.substr(5));var r=i.item[e];if(!t.isUndefined(r))return n?t.Globalize.format(r,n):r}return""};return _KeyWords}();e._KeyWords=l;var _=function(){function ExportHelper(){}ExportHelper.downloadImage=function(e,i,n){var r=document.createElement("a"),s="image/"+n;if(navigator.msSaveOrOpenBlob){e=e.substring(e.indexOf(",")+1);var a,o,h,l=atob(e),_=[];for(a=0;a<l.length;a+=512){o=l.slice(a,a+512);for(var u=new Array(o.length),c=0;c<o.length;c++)u[c]=o.charCodeAt(c);var f=new Uint8Array(u);_.push(f)}h=new Blob(_,{type:s});navigator.msSaveOrOpenBlob(h,i+"."+n)}else{r.download=i+"."+n;r.href=e;document.body.appendChild(r);r.addEventListener("click",(function(e){t.removeChild(r)}));r.click()}};ExportHelper.getDataUri=function(e,i,n){var r,s,a,o,l,_,u,c,f,p,d=document.createElement("div"),g=e.cloneNode(!0),m=!1;if("svg"==e.tagName){s=(r=t.getElementRect(e.parentNode||e)).width||0;a=r.height||0;0==s&&(m=!0);o=e.viewBox.baseVal&&0!==e.viewBox.baseVal.width?e.viewBox.baseVal.width:s;l=e.viewBox.baseVal&&0!==e.viewBox.baseVal.height?e.viewBox.baseVal.height:a}else{s=(_=e.getBBox()).x+_.width;a=_.y+_.height;g.setAttribute("transform",g.getAttribute("transform").replace(/translate\(.*?\)/,""));o=s;l=a;(c=document.createElementNS("http://www.w3.org/2000/svg","svg")).appendChild(g);g=c}if(m){var y=i._renderHidden(),x=i._getHostComputedStyle(),b=0,v=0;if(x){b=i._parsePx(x.width);v=i._parsePx(x.height)}0==b&&(b=h._WIDTH);0==v&&(v=h._HEIGHT);o=s=b;l=a=v;g=y.cloneNode(!0)}g.setAttribute("version","1.1");g.setAttributeNS(ExportHelper.xmlns,"xmlns","http://www.w3.org/2000/svg");g.setAttributeNS(ExportHelper.xmlns,"xmlns:xlink","http://www.w3.org/1999/xlink");g.setAttribute("width",s);g.setAttribute("height",a);g.setAttribute("viewBox","0 0 "+o+" "+l);t.addClass(g,e.parentNode&&e.parentNode.getAttribute("class")||"");d.appendChild(g);u=ExportHelper.getStyles(e);u+=".wj-flexchart{margin:0px;padding:0px;border:none;width:"+s+"px;height:"+a+"px;}\n";(f=document.createElement("style")).setAttribute("type","text/css");f.innerHTML="<![CDATA[\n"+u+"\n]]>";(p=document.createElementNS("http://www.w3.org/2000/svg","defs")).appendChild(f);g.insertBefore(p,g.firstChild);t.isIE()||g.querySelectorAll("foreignObject").forEach((function(t){g.removeChild(t)}));var S=i._currentRenderEngine.canvas;if(S){var C=document.createElementNS("http://www.w3.org/2000/svg","image");C.setAttribute("width",S.width);C.setAttribute("height",S.height);C.setAttribute("href",S.toDataURL());g.insertBefore(C,g.firstChild);i.invalidate()}this.convertImagesToDataUrl(g,(function(){var t="data:image/svg+xml;base64,"+window.btoa(window.unescape(encodeURIComponent(ExportHelper.doctype+d.innerHTML)));n.call(null,t)}))};ExportHelper.convertImagesToDataUrl=function(t,e){var i=t.querySelectorAll("image");if(0!==i.length){var n=Array.from(i);Array.from(i).forEach((function(t){var i=new Image;i.onload=function(){var r=document.createElement("canvas");r.width=+t.getAttribute("width");r.height=+t.getAttribute("height");var s=r.getContext("2d"),a=i.width/i.height;a<r.width/r.height?s.drawImage(i,0,0,i.width,i.height,.5*(r.width-a*r.height),0,a*r.height,r.height):s.drawImage(i,0,0,i.width,i.height,0,.5*(r.height-r.width/a),r.width,r.width/a);t.setAttribute("href",r.toDataURL());i.remove();n.splice(n.indexOf(t),1);0==n.length&&e()};i.src=t.getAttribute("href")}))}else e()};ExportHelper.getDataUri2=function(e,i,n){var r,s,a,o,l,_,u,c=document.createElement("div"),f=this.cloneWithComputedStyles(e),p=!1;if("svg"==e.tagName){s=(r=t.getElementRect(e.parentNode||e)).width||0;a=r.height||0;0==s&&(p=!0);o=e.viewBox.baseVal&&0!==e.viewBox.baseVal.width?e.viewBox.baseVal.width:s;l=e.viewBox.baseVal&&0!==e.viewBox.baseVal.height?e.viewBox.baseVal.height:a}else{s=(_=e.getBBox()).x+_.width;a=_.y+_.height;f.setAttribute("transform",f.getAttribute("transform").replace(/translate\(.*?\)/,""));o=s;l=a;(u=document.createElementNS("http://www.w3.org/2000/svg","svg")).appendChild(f);f=u}if(p){var d=i._renderHidden(),g=i._getHostComputedStyle(),m=0,y=0;if(g){m=i._parsePx(g.width);y=i._parsePx(g.height)}0==m&&(m=h._WIDTH);0==y&&(y=h._HEIGHT);o=s=m;l=a=y;f=this.cloneWithComputedStyles(d)}f.setAttribute("version","1.1");f.setAttributeNS(ExportHelper.xmlns,"xmlns","http://www.w3.org/2000/svg");f.setAttributeNS(ExportHelper.xmlns,"xmlns:xlink","http://www.w3.org/1999/xlink");f.setAttribute("width",s);f.setAttribute("height",a);f.setAttribute("viewBox","0 0 "+o+" "+l);c.appendChild(f);var x=i._currentRenderEngine.canvas;if(x){var b=document.createElementNS("http://www.w3.org/2000/svg","image");b.setAttribute("width",x.width);b.setAttribute("height",x.height);b.setAttribute("href",x.toDataURL());f.insertBefore(b,f.firstChild);i.invalidate()}this.convertImagesToDataUrl(f,(function(){var t="data:image/svg+xml;base64,"+window.btoa(window.unescape(encodeURIComponent(ExportHelper.doctype+c.innerHTML)));n.call(null,t)}))};ExportHelper.computeAttributes=function(t,e,i){var n=getComputedStyle(t);i.forEach((function(t){var i=n.getPropertyValue(t);i&&i.length>0&&e.setAttribute(t,i)}))};ExportHelper.cloneWithComputedStyles=function(t){var e=this,i=t.cloneNode();Array.from(t.childNodes).forEach((function(t){var n=e.cloneWithComputedStyles(t);1===t.nodeType&&("text"===t.nodeName?e.computeAttributes(t,n,e.textAttrs):"line"===t.nodeName&&e.computeAttributes(t,n,e.lineAttrs));i.appendChild(n)}));return i};ExportHelper.getStyles=function(e){var i="",n=document.styleSheets;if(null==n||0===n.length)return null;[].forEach.call(n,(function(n){var r;try{if(null==n.cssRules||0===n.cssRules.length)return!0}catch(t){if("SecurityError"==t.name){console.log("SecurityError. Can't read: "+n.href);return!0}}r=n.cssRules;[].forEach.call(r,(function(n){var r,s=n.style;if(null==s)return!0;var a=n.selectorText;if(t.isIE()&&a){var o=a.match(/\[(.*?)\]/g);o&&o.forEach((function(t){return a=a.replace(t,t.replace(":","\\:"))}))}try{r=".wj-flexchart"==a||e.querySelector(a)}catch(t){console.warn('Invalid CSS selector "'+n.selectorText+'"',t)}r?i+=n.selectorText+" { "+s.cssText+" }\n":n.cssText.match(/^@font-face/)&&(i+=n.cssText+"\n")}))}));var r=getComputedStyle(e),s=r?r.getPropertyValue("font"):null;s&&(i+=".wj-flexchart{font:"+s+"}\n");return i};ExportHelper.doctype='<?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">';ExportHelper.xmlns="http://www.w3.org/2000/xmlns/";ExportHelper.textAttrs=["font-family","font-size","font-style","font-weight","fill"];ExportHelper.lineAttrs=["stroke","stroke-width","stroke-dasharray"];return ExportHelper}(),u=function(e){__extends(ChartTooltip,e);function ChartTooltip(){var t=e.call(this)||this;t._content="<b>{seriesName}</b><br/>{x} {y}";t._threshold=15;return t}Object.defineProperty(ChartTooltip.prototype,"content",{get:function(){return this._content},set:function(t){t!=this._content&&(this._content=t)},enumerable:!0,configurable:!0});Object.defineProperty(ChartTooltip.prototype,"threshold",{get:function(){return this._threshold},set:function(e){e!=this._threshold&&(this._threshold=t.asNumber(e))},enumerable:!0,configurable:!0});ChartTooltip.prototype.show=function(t,i,n){e.prototype.show.call(this,t,i,n);var r=ChartTooltip._eTip;r&&r.style&&(r.style.pointerEvents="none")};return ChartTooltip}(t.Tooltip);e.ChartTooltip=u}(t.chart||(t.chart={}))}(wijmo||(wijmo={}));!function(t){!function(e){"use strict";var i,n;!function(t){t[t.Column=0]="Column";t[t.Bar=1]="Bar";t[t.Scatter=2]="Scatter";t[t.Line=3]="Line";t[t.LineSymbols=4]="LineSymbols";t[t.Area=5]="Area";t[t.Bubble=6]="Bubble";t[t.Candlestick=7]="Candlestick";t[t.HighLowOpenClose=8]="HighLowOpenClose";t[t.Spline=9]="Spline";t[t.SplineSymbols=10]="SplineSymbols";t[t.SplineArea=11]="SplineArea";t[t.Funnel=12]="Funnel";t[t.Step=13]="Step";t[t.StepSymbols=14]="StepSymbols";t[t.StepArea=15]="StepArea"}(i=e.ChartType||(e.ChartType={}));!function(t){t[t.None=0]="None";t[t.Stacked=1]="Stacked";t[t.Stacked100pc=2]="Stacked100pc"}(n=e.Stacking||(e.Stacking={}));var r=function(r){__extends(FlexChartCore,r);function FlexChartCore(i,s){var o=r.call(this,i,null,!0)||this;o._series=new t.collections.ObservableArray;o._axes=new e.AxisCollection;o._pareas=new e.PlotAreaCollection;o._interpolateNulls=!1;o._legendToggle=!1;o._symbolSize=10;o._dataInfo=new a;o.__barPlotter=null;o.__linePlotter=null;o.__areaPlotter=null;o.__bubblePlotter=null;o.__financePlotter=null;o.__funnelPlotter=null;o._plotters=[];o._rotated=!1;o._stacking=n.None;o._xlabels=[];o._xvals=[];o._lblAreas=[];o._colRowLens=[];o._selectedEls=[];o._markers=[];o._bindingSeparator=",";o.seriesVisibilityChanged=new t.Event;o.applyTemplate("wj-control wj-flexchart",null,null);var h=o;h._series.collectionChanged.addHandler((function(){for(var i=h._series,n=0;n<i.length;n++){var r=t.tryCast(i[n],e.SeriesBase);if(!r)throw"chartSeries array must contain SeriesBase objects.";r._chart=h;if(r.axisX&&null==r.axisX._chart){r.axisX._chart=h;h.axes.push(r.axisX)}if(r.axisY&&null==r.axisY._chart){r.axisY._chart=h;h.axes.push(r.axisY)}}h.invalidate()}));o._currentRenderEngine=new e._SvgRenderEngine(o.hostElement);o._hitTester=new e._HitTester(o);o._legend=new e.Legend(o);o._tooltip=new e.ChartTooltip;o._tooltip.showDelay=0;o._lbl=new e.DataLabel;o._lbl._chart=o;o._initAxes();h._axes.collectionChanged.addHandler((function(){for(var i=h._axes,n=0;n<i.length;n++){var r=t.tryCast(i[n],e.Axis);if(!r)throw"axes array must contain Axis objects.";r._chart=h}h.invalidate()}));h._pareas.collectionChanged.addHandler((function(){for(var i=h._pareas,n=0;n<i.length;n++){var r=t.tryCast(i[n],e.PlotArea);if(!r)throw"plotAreas array must contain PlotArea objects.";r._chart=h}h.invalidate()}));o._keywords=new e._KeyWords;o.hostElement.addEventListener("click",(function(t){var e=h._tooltip;e.content&&h.isTouching&&h._updateTooltip(e,t)}));o.hostElement.addEventListener("mousemove",(function(t){var e=h._tooltip;e.content&&!h.isTouching&&h._updateTooltip(e,t)}));o.hostElement.addEventListener("mouseleave",(function(t){h._hideToolTip()}));o.hostElement.addEventListener("click",(function(t){if(h.selectionMode!=e.SelectionMode.None){var i=h._hitTestData(t),n=FlexChartCore._SELECTION_THRESHOLD;h.tooltip&&h.tooltip.threshold&&(n=h.tooltip.threshold);i.distance<=n&&i.series?h._select(i.series,i.pointIndex):h.selectionMode==e.SelectionMode.Series&&(i=h.hitTest(t)).chartElement==e.ChartElement.Legend&&i.series?h._select(i.series,null):h._select(null,null)}if(!0===h.legendToggle&&(i=h.hitTest(t)).chartElement==e.ChartElement.Legend&&i.series){i.series.visibility==e.SeriesVisibility.Legend?i.series.visibility=e.SeriesVisibility.Visible:i.series.visibility==e.SeriesVisibility.Visible&&(i.series.visibility=e.SeriesVisibility.Legend);h.focus()}}));o.deferUpdate((function(){return o.initialize(s)}));return o}FlexChartCore.prototype.initialize=function(i){if(i&&i.renderEngine){var n=t.asType(this._currentRenderEngine,e._SvgRenderEngine,!0);n&&n.detach();this._currentRenderEngine=null}r.prototype.initialize.call(this,i)};FlexChartCore.prototype._initAxes=function(){this._axisX=new e.Axis(e.Position.Bottom);this._axisY=new e.Axis(e.Position.Left);this._axisX.majorGrid=!1;this._axisX.name="axisX";this._axisY.majorGrid=!0;this._axisY.majorTickMarks=e.TickMark.None;this._axisY.name="axisY";this._axisX._chart=this;this._axisY._chart=this;this._axes.push(this._axisX);this._axes.push(this._axisY)};Object.defineProperty(FlexChartCore.prototype,"series",{get:function(){return this._series},enumerable:!0,configurable:!0});Object.defineProperty(FlexChartCore.prototype,"axes",{get:function(){return this._axes},enumerable:!0,configurable:!0});Object.defineProperty(FlexChartCore.prototype,"axisX",{get:function(){return this._axisX},set:function(i){if(i!=this._axisX){var n=this._axisX=t.asType(i,e.Axis);this.beginUpdate();if(n){void 0===n.majorGrid&&(n.majorGrid=!1);void 0===n.name&&(n.name="axisX");null==n.position&&(n.position=e.Position.Bottom);n._axisType=e.AxisType.X;n._chart=this}this.endUpdate()}},enumerable:!0,configurable:!0});Object.defineProperty(FlexChartCore.prototype,"axisY",{get:function(){return this._axisY},set:function(i){if(i!=this._axisY){var n=this._axisY=t.asType(i,e.Axis);this.beginUpdate();if(n){void 0===n.majorGrid&&(n.majorGrid=!0);void 0===n.name&&(n.name="axisY");void 0===n.majorTickMarks&&(n.majorTickMarks=e.TickMark.None);null==n.position&&(n.position=e.Position.Left);n._axisType=e.AxisType.Y;n._chart=this}this.endUpdate()}},enumerable:!0,configurable:!0});Object.defineProperty(FlexChartCore.prototype,"plotAreas",{get:function(){return this._pareas},enumerable:!0,configurable:!0});Object.defineProperty(FlexChartCore.prototype,"binding",{get:function(){return this._binding},set:function(e){if(e!=this._binding){this._binding=t.asString(e,!0);this.invalidate()}},enumerable:!0,configurable:!0});Object.defineProperty(FlexChartCore.prototype,"bindingX",{get:function(){return this._bindingX},set:function(e){if(e!=this._bindingX){this._bindingX=t.asString(e,!0);this._bindChart()}},enumerable:!0,configurable:!0});Object.defineProperty(FlexChartCore.prototype,"symbolSize",{get:function(){return this._symbolSize},set:function(e){if(e!=this._symbolSize){this._symbolSize=t.asNumber(e,!1,!0);this.invalidate()}},enumerable:!0,configurable:!0});Object.defineProperty(FlexChartCore.prototype,"interpolateNulls",{get:function(){return this._interpolateNulls},set:function(e){if(e!=this._interpolateNulls){this._interpolateNulls=t.asBoolean(e);this.invalidate()}},enumerable:!0,configurable:!0});Object.defineProperty(FlexChartCore.prototype,"legendToggle",{get:function(){return this._legendToggle},set:function(e){e!=this._legendToggle&&(this._legendToggle=t.asBoolean(e))},enumerable:!0,configurable:!0});Object.defineProperty(FlexChartCore.prototype,"tooltip",{get:function(){return this._tooltip},enumerable:!0,configurable:!0});Object.defineProperty(FlexChartCore.prototype,"dataLabel",{get:function(){return this._lbl},set:function(i){if(i!=this._lbl){this._lbl=t.asType(i,e.DataLabel);this._lbl&&(this._lbl._chart=this)}},enumerable:!0,configurable:!0});Object.defineProperty(FlexChartCore.prototype,"selection",{get:function(){return this._selection},set:function(i){if(i!=this._selection){this._selection=t.asType(i,e.SeriesBase,!0);this.invalidate()}},enumerable:!0,configurable:!0});Object.defineProperty(FlexChartCore.prototype,"renderEngine",{get:function(){return this._currentRenderEngine},set:function(i){if(i!=this._currentRenderEngine){var n=t.asType(this._currentRenderEngine,e._SvgRenderEngine,!0);n&&n.detach();this._currentRenderEngine=i;var r=t.asType(this._currentRenderEngine,e._SvgRenderEngine,!0);r&&r.attach(this.hostElement);this.refresh()}},enumerable:!0,configurable:!0});FlexChartCore.prototype.onSeriesVisibilityChanged=function(t){this.seriesVisibilityChanged.raise(this,t)};FlexChartCore.prototype.hitTest=function(t,i){var n=this._toControl(t,i),r=new e.HitTestInfo(this,n),s=null;if(FlexChartCore._contains(this._rectHeader,n))r._chartElement=e.ChartElement.Header;else if(FlexChartCore._contains(this._rectFooter,n))r._chartElement=e.ChartElement.Footer;else if(FlexChartCore._contains(this._rectLegend,n)){r._chartElement=e.ChartElement.Legend;var a=n.clone();if(this.legend.scrollbar&&this._legendHost){var o=this._legendHost.closest("div");a.y+=o.scrollTop}null!==(s=this.legend._hitTest(a))&&s>=0&&s<this.series.length&&r._setData(this.series[s])}else if(FlexChartCore._contains(this._rectChart,n)){var h=this._hitTestLabels(n);if(h){r._chartElement=e.ChartElement.DataLabel;r._dist=0;r._setDataPoint(h.tag)}else{for(var l=this._hitTester.hitTest(n),_=null,u=null,c=this.series.length-1;c>=0;c--)if(this.series[c].hitTest!==e.Series.prototype.hitTest){var f=this.series[c].hitTest(t);if(f){if(!_||f.distance<_.distance){_=f;u=c}if(0===f.distance)break}}if(l&&l.area)if(_&&_.distance<l.distance)r=_;else if(_&&_.distance==l.distance&&u>l.area.tag.seriesIndex)r=_;else{r._setDataPoint(l.area.tag);r._dist=l.distance}else _&&(r=_);var p=!1;this.axes.some((function(t){if(FlexChartCore._contains(t._axrect,n)){var i=void 0;if(t.axisType===e.AxisType.X){r._chartElement=e.ChartElement.AxisX;i=t._hitTest(n)}else{r._chartElement=e.ChartElement.AxisY;i=t._hitTest(n)}i?r._setName(i.label):r._setName("");p=!0;return!0}}));p||(FlexChartCore._contains(this._plotRect,n)?r._chartElement=e.ChartElement.PlotArea:FlexChartCore._contains(this._rectChart,n)&&(r._chartElement=e.ChartElement.ChartArea))}}else r._chartElement=e.ChartElement.None;return r};FlexChartCore.prototype.pointToData=function(e,i){t.isNumber(e)&&t.isNumber(i)&&(e=new t.Point(e,i));if(e instanceof MouseEvent){e=new t.Point(e.pageX,e.pageY);e=this._toControl(e)}else e=e.clone();e.x=this.axisX.convertBack(e.x);e.y=this.axisY.convertBack(e.y);return e};FlexChartCore.prototype.dataToPoint=function(e,i){t.isNumber(e)&&t.isNumber(i)&&(e=new t.Point(e,i));t.asType(e,t.Point);var n=e.clone();n.x=this.axisX.convert(n.x);n.y=this.axisY.convert(n.y);return n};FlexChartCore.prototype.dispose=function(){this._markers.forEach((function(t){return t.remove()}));this._markers=[];r.prototype.dispose.call(this)};FlexChartCore.prototype._copy=function(e,i){if("series"==e){this.series.clear();for(var n=t.asArray(i),r=0;r<n.length;r++){var s=this._createSeries();t.copy(s,n[r]);this.series.push(s)}return!0}return!1};FlexChartCore.prototype._createSeries=function(){return new e.Series};FlexChartCore.prototype._clearCachedValues=function(){for(var t=0;t<this._series.length;t++){var e=this._series[t];null==e.itemsSource&&e._clearValues()}};FlexChartCore.prototype._performBind=function(){this._xDataType=null;this._xlabels.splice(0);this._xvals.splice(0);if(this._cv){var e=this._cv.items;if(e){for(var i=e.length,n=this.bindingX?new t.Binding(this.bindingX):null,r=0;r<i;r++){var s=e[r];if(n){var a=n.getValue(s);if(t.isNumber(a)){this._xvals.push(t.asNumber(a));this._xDataType=t.DataType.Number}else if(t.isDate(a)){this._xvals.push(t.asDate(a).valueOf());this._xDataType=t.DataType.Date}this._xlabels.push(a)}}this._xvals.length==i?this._xlabels.splice(0):this._xvals.splice(0)}}};FlexChartCore.prototype._hitTestSeries=function(t,i){var n=this._toControl(t),r=new e.HitTestInfo(this,n),s=this._hitTester.hitTestSeries(n,i);if(s&&s.area){r._setDataPoint(s.area.tag);r._chartElement=e.ChartElement.PlotArea;r._dist=s.distance}return r};FlexChartCore.prototype._hitTestData=function(t){var i=this._toControl(t),n=new e.HitTestInfo(this,i),r=this._hitTester.hitTest(i,!0);if(r&&r.area){n._setDataPoint(r.area.tag);n._dist=r.distance}return n};FlexChartCore.prototype._hitTestLabels=function(t){for(var e=null,i=this._lblAreas.length,n=0;n<i;n++)if(this._lblAreas[n].contains(t)){e=this._lblAreas[n];break}return e};FlexChartCore._dist2=function(t,e){var i=t.x-e.x,n=t.y-e.y;return i*i+n*n};FlexChartCore._dist=function(t,e,i){return Math.sqrt(FlexChartCore._distToSegmentSquared(t,e,i))};FlexChartCore._distToSegmentSquared=function(e,i,n){var r=FlexChartCore._dist2(i,n);if(0==r)return FlexChartCore._dist2(e,i);var s=((e.x-i.x)*(n.x-i.x)+(e.y-i.y)*(n.y-i.y))/r;return s<0?FlexChartCore._dist2(e,i):s>1?FlexChartCore._dist2(e,n):FlexChartCore._dist2(e,new t.Point(i.x+s*(n.x-i.x),i.y+s*(n.y-i.y)))};FlexChartCore.prototype._isRotated=function(){return this._getChartType()==i.Bar?!this._rotated:this._rotated};FlexChartCore.prototype._getChartType=function(){return null};FlexChartCore.prototype._prepareRender=function(){this._hitTester.clear()};FlexChartCore.prototype._renderChart=function(n,r,s){var a=this._rectChart.clone(),o=new t.Size(a.width,a.height);r.width,r.height;this._selectedEls.length=0;(x=this._getPlotter(null)).stacking=this._stacking;if(this._curPlotter!=x){this._curPlotter&&this._curPlotter.unload();this._curPlotter=x}x.load();var h=this._isRotated();this._dataInfo.analyse(this._series,h,x.stacking,this._xvals.length>0?this._xvals:null,this.axisX._getLogBase()>0,this.axisY._getLogBase()>0);var l=x.adjustLimits(this._dataInfo,r.clone());if(h){var _=this._dataInfo.getDataTypeX();_||(_=this._xDataType);this.axisX._updateActualLimits(this._dataInfo.getDataTypeY(),l.left,l.right);this.axisY._updateActualLimits(_,l.top,l.bottom,this._xlabels,this._xvals)}else{var u=this._dataInfo.getDataTypeX();u||(u=this._xDataType);this.axisX._updateActualLimits(u,l.left,l.right,this._xlabels,this._xvals);this.axisY._updateActualLimits(this._dataInfo.getDataTypeY(),l.top,l.bottom)}var c=this._getAxes();this._updateAuxAxes(c,h);this._layout(r,o,n);n.startGroup(FlexChartCore._CSS_PLOT_AREA);n.fill="transparent";n.stroke=null;if(this.plotAreas.length>0)for(var f=0;f<this.plotAreas.length;f++){this.plotAreas[f]._render(n)}else{var p=this._plotRect;n.drawRect(p.left,p.top,p.width,p.height)}n.endGroup();var d=this._series.length;this._clearPlotters();var g={};for(f=0;f<d;f++){var m=this._series[f];if(((w=m.visibility)==e.SeriesVisibility.Visible||w==e.SeriesVisibility.Plot)&&m.getValues(0)){var y=m._getAxisY(),x=this._getPlotter(m);if(!y||y==this.axisY||x instanceof e._BarPlotter)x.seriesCount++;else{var b=y._uniqueId;g[b]?g[b].count+=1:g[b]={count:1,index:0}}}}this.onRendering(new e.RenderEventArgs(n));if(this._getChartType()!==i.Funnel)for(f=0;f<c.length;f++){var v=c[f];C=v.axisType==e.AxisType.X?n.startGroup(FlexChartCore._CSS_AXIS_X,this._chartRectId):n.startGroup(FlexChartCore._CSS_AXIS_Y,this._chartRectId);v._hostElement=s?C:v._hostElement;v._render(n);n.endGroup()}n.startGroup("wj-series-group");this._plotrectId="plotRect"+(1e6*Math.random()).toFixed();n.addClipRect(this._plotRect,this._plotrectId);n.options=this._options&&this._options.spline?{spline:this._options.spline.approximation}:null;for(f=0;f<d;f++){var S=this._series[f];S._pointIndexes=[];x=this._getPlotter(S);S._plotter=x;var C=n.startGroup(S.cssClass,x.clipping?this._plotrectId:null);S._hostElement=s?C:S._hostElement;var w=S.visibility,P=S.axisX,A=S.axisY;P||(P=this.axisX);A||(A=this.axisY);if(w==e.SeriesVisibility.Visible||w==e.SeriesVisibility.Plot){var M,T,L=g[A._uniqueId];if(!L||x instanceof e._BarPlotter){M=x.seriesIndex;T=x.seriesCount;x.seriesIndex++;S.onRendering(n,M,T)||x.plotSeries(n,P,A,S,this,M,T)}else{M=L.index;T=L.count;L.index++;S.onRendering(n,M,T)||x.plotSeries(n,P,A,S,this,M,T)}S.onRendered(n)}n.endGroup()}n.endGroup();this._lblAreas=[];this.dataLabel.content&&this.dataLabel.position!=e.LabelPosition.None&&this._renderLabels(n);this._highlightCurrent();this.onRendered(new e.RenderEventArgs(n))};FlexChartCore.prototype._getDesiredLegendSize=function(i,n,r,s){var a=new t.Size,o=this.series,h=o.length,l=this.legend.scrollbar?18:0,_=0,u=0;this._colRowLens=[];for(var c=0;c<h;c++){var f=t.tryCast(o[c],e.SeriesBase),p=f.visibility;if(f.name&&p!=e.SeriesVisibility.Hidden&&p!=e.SeriesVisibility.Plot)for(var d=f.legendItemLength(),g=0;g<d;g++){var m=f.measureLegendItem(i,g);if(n){if(_+m.height>s&&!this.legend.scrollbar){a.height=s;this._colRowLens.push(u);u=0;_=0}u<m.width&&(u=m.width);_+=m.height}else{if(u+m.width>r-l){a.width=r;this._colRowLens.push(_);_=0;u=0}_<m.height&&(_=m.height);u+=m.width}}}if(n){a.height<_&&(a.height=_);this._colRowLens.push(u);a.width=this._colRowLens.reduce((function(t,e){return t+e}),0)}else{a.width<u&&(a.width=u);this._colRowLens.push(_);a.height=this._colRowLens.reduce((function(t,e){return t+e}),0)}return a};FlexChartCore.prototype._renderLegend=function(i,n,r,s,a,o){var h,l=this.series,_=l.length,u=n.clone(),c=0;if(this._legendReversed()){for(var f=_-1;f>=0;f--){h=t.tryCast(l[f],e.SeriesBase);c=this._renderLegendElements(i,h,n,u,r,s,a,o,c)}r.reverse()}else for(f=0;f<_;f++){h=t.tryCast(l[f],e.SeriesBase);c=this._renderLegendElements(i,h,n,u,r,s,a,o,c)}};FlexChartCore.prototype._legendReversed=function(){var t=!1,e=this._getChartType();(e===i.Bar||e===i.Column&&this._rotated)&&(this._stacking!==n.None||this.axisY.reversed||(t=!0));return t};FlexChartCore.prototype._renderLegendElements=function(i,n,r,s,a,o,h,l,_){var u=new t.Rect(r.x,r.y,h,l),c=_;if(!n)return c;var f=n.visibility;if(!n.name||f==e.SeriesVisibility.Hidden||f==e.SeriesVisibility.Plot){n._legendElement=null;a.push(null);return c}var p=n.legendItemLength(),d=i.startGroup(n.cssClass);if(f==e.SeriesVisibility.Legend){d.setAttribute("opacity","0.5");n._legendElement=d}else f==e.SeriesVisibility.Visible?n._legendElement=d:n._legendElement=null;for(var g=0;g<p;g++){var m=n.measureLegendItem(i,g);if(o){if(s.y+m.height>u.bottom+1&&!this.legend.scrollbar){s.x+=this._colRowLens[c];c++;s.y=r.y}}else if(s.x+m.width>u.right+1){s.y+=this._colRowLens[c];c++;s.x=r.x}var y=new t.Rect(s.x,s.y,m.width,m.height);f!=e.SeriesVisibility.Legend&&f!=e.SeriesVisibility.Visible||n.drawLegendItem(i,y,g);a.push(y);o?s.y+=m.height:s.x+=m.width}i.endGroup();return c};FlexChartCore.prototype._renderLabels=function(t){var e=this.series,i=e.length;t.stroke="null";t.fill="transparent";t.strokeWidth=1;var n=FlexChartCore._CSS_DATA_LABELS;t.startGroup(n);for(var r=0;r<i;r++){var s=e[r],a=this._hitTester._map[r];a&&s._renderLabels(t,a,this,this._lblAreas)}t.endGroup()};FlexChartCore.prototype._getAxes=function(){for(var t=[this.axisX,this.axisY],e=this.series.length,i=0;i<e;i++){var n=this.series[i],r=n.axisX;r&&-1===t.indexOf(r)&&t.push(r);var s=n.axisY;s&&-1===t.indexOf(s)&&t.push(s)}return t};FlexChartCore.prototype._clearPlotters=function(){for(var t=this._plotters.length,e=0;e<t;e++)this._plotters[e].clear()};FlexChartCore.prototype._initPlotter=function(t){t.chart=this;t.dataInfo=this._dataInfo;t.hitTester=this._hitTester;this._plotters.push(t)};Object.defineProperty(FlexChartCore.prototype,"_barPlotter",{get:function(){if(null===this.__barPlotter){this.__barPlotter=new e._BarPlotter;this._initPlotter(this.__barPlotter)}return this.__barPlotter},enumerable:!0,configurable:!0});Object.defineProperty(FlexChartCore.prototype,"_linePlotter",{get:function(){if(null===this.__linePlotter){this.__linePlotter=new e._LinePlotter;this._initPlotter(this.__linePlotter)}return this.__linePlotter},enumerable:!0,configurable:!0});Object.defineProperty(FlexChartCore.prototype,"_areaPlotter",{get:function(){if(null===this.__areaPlotter){this.__areaPlotter=new e._AreaPlotter;this._initPlotter(this.__areaPlotter)}return this.__areaPlotter},enumerable:!0,configurable:!0});Object.defineProperty(FlexChartCore.prototype,"_bubblePlotter",{get:function(){if(null===this.__bubblePlotter){this.__bubblePlotter=new e._BubblePlotter;this._initPlotter(this.__bubblePlotter)}return this.__bubblePlotter},enumerable:!0,configurable:!0});Object.defineProperty(FlexChartCore.prototype,"_financePlotter",{get:function(){if(null===this.__financePlotter){this.__financePlotter=new e._FinancePlotter;this._initPlotter(this.__financePlotter)}return this.__financePlotter},enumerable:!0,configurable:!0});Object.defineProperty(FlexChartCore.prototype,"_funnelPlotter",{get:function(){if(null===this.__funnelPlotter){this.__funnelPlotter=new e._FunnelPlotter;this._initPlotter(this.__funnelPlotter)}return this.__funnelPlotter},enumerable:!0,configurable:!0});FlexChartCore.prototype._getPlotter=function(t){var e,n=this._getChartType(),r=!1;if(t){var s=t._getChartType();if(null!=s&&s!=n){n=s;r=!0}}switch(n){case i.Column:this._barPlotter.isVolume=!1;this._barPlotter.width=.7;e=this._barPlotter;break;case i.Bar:this._barPlotter.rotated=!this._rotated;this._barPlotter.isVolume=!1;this._barPlotter.width=.7;e=this._barPlotter;break;case i.Line:this._linePlotter.hasSymbols=!1;this._linePlotter.hasLines=!0;this._linePlotter.isSpline=!1;this._linePlotter.isStep=!1;e=this._linePlotter;break;case i.Scatter:this._linePlotter.hasSymbols=!0;this._linePlotter.hasLines=!1;this._linePlotter.isSpline=!1;this._linePlotter.isStep=!1;e=this._linePlotter;break;case i.LineSymbols:this._linePlotter.hasSymbols=!0;this._linePlotter.hasLines=!0;this._linePlotter.isSpline=!1;this._linePlotter.isStep=!1;e=this._linePlotter;break;case i.Area:this._areaPlotter.isSpline=!1;this._areaPlotter.isStep=!1;e=this._areaPlotter;break;case i.Bubble:e=this._bubblePlotter;break;case i.Candlestick:(a=this._financePlotter).isCandle=!0;a.isEqui=!1;a.isArms=!1;a.isVolume=!1;e=a;break;case i.HighLowOpenClose:var a;(a=this._financePlotter).isCandle=!1;a.isEqui=!1;a.isArms=!1;a.isVolume=!1;e=a;break;case i.Spline:this._linePlotter.hasSymbols=!1;this._linePlotter.hasLines=!0;this._linePlotter.isSpline=!0;this._linePlotter.isStep=!1;e=this._linePlotter;break;case i.SplineSymbols:this._linePlotter.hasSymbols=!0;this._linePlotter.hasLines=!0;this._linePlotter.isSpline=!0;this._linePlotter.isStep=!1;e=this._linePlotter;break;case i.SplineArea:this._areaPlotter.isSpline=!0;this._areaPlotter.isStep=!1;e=this._areaPlotter;break;case i.Funnel:e=this._funnelPlotter;break;case i.Step:this._linePlotter.hasSymbols=!1;this._linePlotter.hasLines=!0;this._linePlotter.isSpline=!1;this._linePlotter.isStep=!0;e=this._linePlotter;break;case i.StepSymbols:this._linePlotter.hasSymbols=!0;this._linePlotter.hasLines=!0;this._linePlotter.isSpline=!1;this._linePlotter.isStep=!0;e=this._linePlotter;break;case i.StepArea:this._areaPlotter.isSpline=!1;this._areaPlotter.isStep=!0;e=this._areaPlotter;break;default:throw"Invalid chart type."}e.rotated=this._rotated;n==i.Bar&&(e.rotated=!e.rotated);r&&(e.rotated=this._isRotated());return e};FlexChartCore.prototype._layout=function(t,e,i){this.plotAreas.length>0?this._layoutMultiple(t,e,i):this._layoutSingle(t,e,i)};FlexChartCore.prototype._layoutSingle=function(i,n,r){var s=i.width,a=i.height,o=new t.Size(s,.75*a),h=new t.Size(a,.75*s),l=0,_=0,u=s,c=a,f=0,p=0,d=s,g=a;if(this.dataLabel.position===e.LabelPosition.Top?this.dataLabel.content:null){_=r.measureString(this.dataLabel.content,"wj-data-label").height}for(var m=this._getAxes(),y=this.axisY._getHeight(r,a),x=0;x<m.length;x++){var b=(T=m[x]).origin,v=T._getPosition();if(T.axisType==e.AxisType.X){(P=T._getHeight(r,Math.max(10,s-y)))>o.height&&(P=o.height);T._desiredSize=new t.Size(o.width,P);var S=T._hasOrigin=t.isNumber(b)&&b>this.axisY._getMinNum()&&b<this.axisY._getMaxNum(),C=Math.min(.25*s,T._annoSize.width);if(v==e.Position.Bottom){l=Math.max(l,.5*C);u=Math.min(u,s-.5*C);if(S){var w=this._convertY(b,p,g);g-=Math.max(0,w+P-g)}else g-=P}else if(v==e.Position.Top){l=Math.max(l,.5*C);u=Math.min(u,s-.5*C);if(S){w=this._convertY(b,p,g);p+=Math.max(0,p-(w-P))}else p+=P}}else if(T.axisType==e.AxisType.Y){var P;(P=T===this.axisX?y:T._getHeight(r,a))>h.height&&(P=h.height);T._desiredSize=new t.Size(h.width,P);S=T._hasOrigin=t.isNumber(b)&&b>this.axisX._getMinNum()&&b<this.axisX._getMaxNum();if(v==e.Position.Left){if(T._actualAngle<0)c=Math.min(c,a-T._annoSize.height);else if(T._actualAngle>0)_=Math.max(_,T._annoSize.height);else{_=Math.max(_,T._annoSize.height);c=Math.min(c,a-T._annoSize.height)}if(S){var A=this._convertX(b,f,d);f+=Math.max(0,f-(A-P))}else f+=P}else if(v==e.Position.Right){if(T._actualAngle>0)c=Math.min(c,a-T._annoSize.height);else if(T._actualAngle<0)_=Math.max(_,T._annoSize.height);else{_=Math.max(_,T._annoSize.height);c=Math.min(c,a-T._annoSize.height)}if(S){A=this._convertX(b,f,d);d-=Math.max(0,A+P-d)}else d-=P}}}var M=this._parseMargin(this.plotMargin);l=f=isNaN(M.left)?Math.max(l,f)+i.left:M.left;u=d=isNaN(M.right)?Math.min(u,d)+i.left:n.width-M.right;_=p=isNaN(M.top)?Math.max(_,p)+i.top:M.top;c=g=isNaN(M.bottom)?Math.min(c,g)+i.top:n.height-M.bottom;s=Math.max(1,u-l);a=Math.max(1,c-_);this._plotRect=new t.Rect(l,_,s,a);c<=_&&(g=p+1);r.stroke=null;for(x=0;x<m.length;x++){var T;b=(T=m[x]).origin,v=T._getPosition();if(T.axisType==e.AxisType.X){var L;if(T._hasOrigin){w=this._convertY(b,this._plotRect.top,this._plotRect.bottom);if(v==e.Position.Bottom){L=new t.Rect(l,w,s,T._desiredSize.height);g+=Math.max(0,L.bottom-this._plotRect.bottom)}else if(v==e.Position.Top){L=new t.Rect(l,w-T._desiredSize.height,s,T._desiredSize.height);p-=Math.max(0,this._plotRect.top-L.top)}else L=new t.Rect(l,w,s,1)}else if(v==e.Position.Bottom){L=new t.Rect(l,g,s,T._desiredSize.height);g+=T._desiredSize.height}else if(v==e.Position.Top){L=new t.Rect(l,p-T._desiredSize.height,s,T._desiredSize.height);p-=T._desiredSize.height}else L=new t.Rect(l,p,s,1);T._layout(L,this._plotRect)}else if(T.axisType==e.AxisType.Y){var E;if(T._hasOrigin){A=this._convertX(b,this._plotRect.left,this._plotRect.right);if(v==e.Position.Left){E=new t.Rect(A-T._desiredSize.height,_,a,T._desiredSize.height);f-=T._desiredSize.height}else if(v==e.Position.Right){E=new t.Rect(A,_,a,T._desiredSize.height);d+=T._desiredSize.height}else E=new t.Rect(A,_,a,1)}else if(v==e.Position.Left){E=new t.Rect(f-T._desiredSize.height,_,a,T._desiredSize.height);f-=T._desiredSize.height}else if(v==e.Position.Right){E=new t.Rect(d,_,a,T._desiredSize.height);d+=T._desiredSize.height}else E=new t.Rect(f,_,a,1);T._layout(E,this._plotRect)}}};FlexChartCore.prototype._layoutMultiple=function(i,n,r){for(var a=i.width,o=i.height,h=[],l=[],_=this._getAxes(),u=_.length,c=0;c<u;c++){(M=_[c])._plotrect=null;if(M.axisType==e.AxisType.X){for(var f=M.plotArea?M.plotArea.column:0;h.length<=f;)h.push(new s);h[f].axes.push(M)}else if(M.axisType==e.AxisType.Y){for(var p=M.plotArea?M.plotArea.row:0;l.length<=p;)l.push(new s);l[p].axes.push(M)}}for(var d=h.length,g=l.length,m=new t.Size(a,.3*o),y=new t.Size(o,.3*a),x=0,b=0,v=a,S=o,C=0;C<d;C++){(k=h[C]).right=a;k.bottom=o;for(c=0;c<k.axes.length;c++){var w=(M=k.axes[c])._getHeight(r,M.axisType==e.AxisType.X?a:o);w>m.height&&(w=m.height);var P=new t.Size(m.width,w);M._desiredSize=P;0==C&&(k.left=Math.max(k.left,.5*M._annoSize.width));C==d-1&&(k.right=Math.min(k.right,a-.5*M._annoSize.width));(j=M._getPosition())==e.Position.Bottom?k.bottom-=P.height:j==e.Position.Top&&(k.top+=P.height)}}for(var A=0;A<g;A++){(k=l[A]).right=a;k.bottom=o;for(c=0;c<k.axes.length;c++){var M=k.axes[c],T=new t.Size(y.width,M._getHeight(r,M.axisType==e.AxisType.X?a:o));T.height>y.height&&(T.height=y.height);M._desiredSize=T;0==A&&(k.top=Math.max(k.top,.5*M._annoSize.width));A==g-1&&(k.bottom=Math.min(k.bottom,o-.5*M._annoSize.width));(j=M._getPosition())==e.Position.Left?k.left+=T.height:j==e.Position.Right&&(k.right-=T.height)}}var L=0,E=0,F=a,N=o;for(C=0;C<d;C++){var k=h[C];L=Math.max(L,k.left);E=Math.max(E,k.top);F=Math.min(F,k.right);N=Math.min(N,k.bottom)}for(A=0;A<g;A++){k=l[A];L=Math.max(L,k.left);E=Math.max(E,k.top);F=Math.min(F,k.right);N=Math.min(N,k.bottom)}L=x=Math.max(x,L);F=v=Math.min(v,F);E=b=Math.max(b,E);N=S=Math.min(S,N);this._plotRect=new t.Rect(x,b,v-x,S-b);var I=this._plotRect.clone(),D=x,R=this.plotAreas._calculateWidths(this._plotRect.width,d);for(C=0;C<d;C++){N=S;E=b;k=h[C];var B=R[C];for(c=0;c<k.axes.length;c++){var O,j=(M=k.axes[c])._getPosition(),V=new t.Rect(D,I.top,B,I.height);if(j==e.Position.Bottom){O=new t.Rect(D,N,B,M._desiredSize.height);N+=M._desiredSize.height}else if(j==e.Position.Top){O=new t.Rect(D,E-M._desiredSize.height,B,M._desiredSize.height);E-=M._desiredSize.height}M._layout(O,V)}for(c=0;c<this.plotAreas.length;c++){(Y=this.plotAreas[c]).column==C&&Y._setPlotX(D,B)}D+=B}var H=b,z=this.plotAreas._calculateHeights(this._plotRect.height,g);for(A=0;A<g;A++){L=x;F=v;k=l[A];var X=z[A];for(c=0;c<k.axes.length;c++){var G;j=(M=k.axes[c])._getPosition(),V=new t.Rect(I.left,H,I.width,X);if(M._plotrect){V.left=M._plotrect.left;V.width=M._plotrect.width}else R&&R.length>0&&(V.width=R[0]);if(j==e.Position.Left){G=new t.Rect(L-M._desiredSize.height,H,X,M._desiredSize.height);L-=M._desiredSize.height}else if(j==e.Position.Right){G=new t.Rect(F,H,X,M._desiredSize.height);F+=M._desiredSize.height}M._layout(G,V)}for(c=0;c<this.plotAreas.length;c++){var Y;(Y=this.plotAreas[c]).row==A&&Y._setPlotY(H,X)}H+=X}};FlexChartCore.prototype._convertX=function(t,e,i){var n=this.axisX;return n.reversed?i-(i-e)*(t-n._getMinNum())/(n._getMaxNum()-n._getMinNum()):e+(i-e)*(t-n._getMinNum())/(n._getMaxNum()-n._getMinNum())};FlexChartCore.prototype._convertY=function(t,e,i){var n=this.axisY;return n.reversed?e+(i-e)*(t-n._getMinNum())/(n._getMaxNum()-n._getMinNum()):i-(i-e)*(t-n._getMinNum())/(n._getMaxNum()-n._getMinNum())};FlexChartCore.prototype._getLabelContent=function(i,n){return i.chartElement!==e.ChartElement.AxisX&&i.chartElement!==e.ChartElement.AxisY||!i.name?t.isString(n)?this._keywords.replace(n,i):t.isFunction(n)?n(i):null:i.name};FlexChartCore.prototype._select=function(t,i){var n=this.selectionMode,r=!1;(t!=this._selection||n==e.SelectionMode.Point&&i!=this._selectionIndex)&&(r=!0);this._selection&&this._highlight(this._selection,!1,this._selectionIndex);this._selection=t;this._selectionIndex=i;this._selection&&this._highlight(this._selection,!0,this._selectionIndex);if(n==e.SelectionMode.Point){var s=t?t.collectionView:this._cv;if(s){this._notifyCurrentChanged=!1;s.moveCurrentToPosition(t?i:-1);this._notifyCurrentChanged=!0}}r&&this.onSelectionChanged()};FlexChartCore.prototype._highlightCurrent=function(){if(this.selectionMode!=e.SelectionMode.None){var t=this._selection,i=-1;if(t){var n=t.collectionView;n||(n=this._cv);n&&(i=n.currentPosition);this._highlight(t,!0,i)}}};FlexChartCore.prototype._highlight=function(i,n,r){i=t.asType(i,e.SeriesBase,!0);if(this.selectionMode==e.SelectionMode.Series){var s=this.series.indexOf(i),a=i.hostElement;n?a.parentNode.appendChild(a):a.parentNode.insertBefore(a,a.parentNode.childNodes.item(s));var o=this._find(a,["rect","ellipse","polyline","polygon","line","path"]);this._highlightItems(o,FlexChartCore._CSS_SELECTION,n);i.legendElement&&this._highlightItems(this._find(i.legendElement,["rect","ellipse","line"]),FlexChartCore._CSS_SELECTION,n)}else if(this.selectionMode==e.SelectionMode.Point){s=this.series.indexOf(i),a=i.hostElement;if(n){a.parentNode.appendChild(a);var h=i.getPlotElement(r);if(h)if(h instanceof SVGElement){if("g"!=h.nodeName){this._highlightItems([h],FlexChartCore._CSS_SELECTION,n);this._selectedEls.push(h)}if((o=this._find(h,["line","rect","ellipse","path","polygon"])).length>0){this._highlightItems(o,FlexChartCore._CSS_SELECTION,n);for(var l=0;l<o.length;l++)this._selectedEls.push(o[l])}}else if(Array.isArray(h)){this._highlightItems(h,FlexChartCore._CSS_SELECTION,n);for(l=0;l<h.length;l++)this._selectedEls.push(h[l])}}else{a.parentNode.insertBefore(a,a.parentNode.childNodes.item(s));if(this._selectedEls.length>0){this._highlightItems(this._selectedEls,FlexChartCore._CSS_SELECTION,n);this._selectedEls.length=0}}}};FlexChartCore.prototype._updateTooltip=function(e,i){var n,r=this.hitTest(i);if(r.distance<=e.threshold){var s=e.content;if(r.series){var a=r.series.tooltipContent;(a||""===a)&&(s=a)}n=this._getLabelContent(r,s)}n?this._showToolTip(n,new t.Rect(i.clientX,i.clientY,5,5)):this._hideToolTip()};FlexChartCore.prototype._updateAuxAxes=function(i,n){for(var r=2;r<i.length;r++){var s=i[r];s._chart=this;for(var a,o,h=[],l=0;l<this.series.length;l++){var _=this.series[l];_.axisX!=s&&_.axisY!=s||h.push(_)}for(l=0;l<h.length;l++){var u=h[l].getDataRect()||h[l]._getDataRect();if(u)if(s.axisType==e.AxisType.X&&!n||s.axisType==e.AxisType.Y&&n){(void 0===a||u.left<a)&&(a=u.left);(void 0===o||u.right>o)&&(o=u.right)}else{(void 0===a||u.top<a)&&(a=u.top);(void 0===o||u.bottom>o)&&(o=u.bottom)}}var c=h[0].getDataType(0);null==c&&(c=t.DataType.Number);i[r]._updateActualLimits(c,a,o)}};FlexChartCore._CSS_AXIS_X="wj-axis-x";FlexChartCore._CSS_AXIS_Y="wj-axis-y";FlexChartCore._CSS_LINE="wj-line";FlexChartCore._CSS_GRIDLINE="wj-gridline";FlexChartCore._CSS_TICK="wj-tick";FlexChartCore._CSS_GRIDLINE_MINOR="wj-gridline-minor";FlexChartCore._CSS_TICK_MINOR="wj-tick-minor";FlexChartCore._CSS_DATA_LABELS="wj-data-labels";return FlexChartCore}(e.FlexChartBase);e.FlexChartCore=r;var s=function(){function _AreaDef(){this._axes=new Array;this.left=0;this.right=0;this.top=0;this.bottom=0}Object.defineProperty(_AreaDef.prototype,"axes",{get:function(){return this._axes},enumerable:!0,configurable:!0});return _AreaDef}(),a=function(){function _DataInfo(){this.stackAbs={};this._xvals=null}_DataInfo.prototype.analyse=function(r,s,a,o,h,l){var _=this;this.minY=NaN;this.maxY=NaN;this.minX=NaN;this.maxX=NaN;this.minXp=NaN;this.minYp=NaN;this.dx=0;var u={},c={},f={};this.dataTypeX=null;this.dataTypeY=null;this._xvals=o;if(null!=o)for(var p=o.length,d=0;d<p;d++){var g=o[d];(isNaN(this.minX)||this.minX>g)&&(this.minX=g);(isNaN(this.maxX)||this.maxX<g)&&(this.maxX=g);g>0&&(isNaN(this.minXp)||this.minXp>g)&&(this.minXp=g);if(d>0){var m=Math.abs(g-o[d-1]);!isNaN(m)&&(m<this.dx||0==this.dx)&&(this.dx=m)}}var y,x,b,v,S,C,w,P,A,M,T,_loop_1=function(){y=r[d];x=y._getChartType();b=void 0!==y.chartType;if((v=y.visibility)==e.SeriesVisibility.Hidden||v==e.SeriesVisibility.Legend)return"continue";if(S=y.getDataRect()){if(!isNaN(L.minX)&&L.minX<S.left){C=S.right;S.left=L.minX;S.width=C-L.minX}!isNaN(L.maxX)&&L.maxX>S.right&&(S.width=L.maxX-S.left);if(!y._isCustomAxisY()){if(!isNaN(L.minY)&&L.minY<S.top){C=S.bottom;S.top=L.minY;S.height=C-L.minY}!isNaN(L.maxY)&&L.maxY>S.bottom&&(S.height=L.maxY-S.top)}}w=null;s?y._isCustomAxisY()||(w=y.getValues(1)):y._isCustomAxisX()||(w=y.getValues(1));if(w){L.dataTypeX||(L.dataTypeX=y.getDataType(1));for(var h=0;h<w.length;h++){P=w[h];if(isFinite(P)){(isNaN(L.minX)||L.minX>P)&&(L.minX=P);(isNaN(L.maxX)||L.maxX<P)&&(L.maxX=P);if(h>0&&(!x||x==i.Column||x==i.Bar)){m=Math.abs(P-w[h-1]);!isNaN(m)&&m>0&&(m<L.dx||0==L.dx)&&(L.dx=m)}}}}A=null,M=!1;if(s){M=y._isCustomAxisX();A=y.getValues(0)}else{M=y._isCustomAxisY();A=y.getValues(0)}if(A){L.dataTypeY||M||(L.dataTypeY=y.getDataType(0));isNaN(L.minX)?L.minX=0:w||o||(L.minX=Math.min(L.minX,0));isNaN(L.maxX)?L.maxX=A.length-1:w||o||(L.maxX=Math.max(L.maxX,A.length-1));if(!M)for(var l=a==n.None||b,_loop_2=function(e){var i=A[e],n=w?t.asNumber(w[e],!0):o?t.asNumber(o[e],!0):e;t.isArray(i)?i.forEach((function(t){_._parseYVal(t,n,l,f,u,c)})):L._parseYVal(i,n,l,f,u,c)},p=0;p<A.length;p++)_loop_2(p)}if(T=y.getDataRect(new t.Rect(L.minX,L.minY,L.maxX-L.minX,L.maxY-L.minY),S)){L.minX=T.left;L.maxX=T.right;if(!M){L.minY=T.top;L.maxY=T.bottom}}},L=this;for(d=0;d<r.length;d++)_loop_1();if(a==n.Stacked){for(var E in u)u[E]>this.maxY&&(this.maxY=u[E]);for(var E in c)c[E]<this.minY&&(this.minY=c[E])}else if(a==n.Stacked100pc){this.minY=0;this.maxY=0;for(var E in f){var F=f[E];if(isFinite(F)&&0!=F){var N=u[E],k=c[E];isFinite(N)&&(N=Math.max(N/F,this.maxY))>this.maxY&&(this.maxY=N);isFinite(k)&&(k=Math.min(k/F,this.minY))<this.minY&&(this.minY=k)}}if(this.minY==this.maxY){this.minY=0;this.maxY=1}}this.stackAbs=f;h&&(s?this.minY=isNaN(this.minYp)?1:this.minYp:this.minX=isNaN(this.minXp)?1:this.minXp);l&&(s?this.minX=isNaN(this.minXp)?1:this.minXp:this.minY=isNaN(this.minYp)?1:this.minYp)};_DataInfo.prototype._parseYVal=function(t,e,i,n,r,s){if(isFinite(t)){null!=t&&(isNaN(this.minY)||this.minY>t)&&(this.minY=t);null!=t&&(isNaN(this.maxY)||this.maxY<t)&&(this.maxY=t);t>0&&(isNaN(this.minYp)||this.minYp>t)&&(this.minYp=t);if(!i){t>0?isNaN(r[e])?r[e]=t:r[e]+=t:isNaN(s[e])?s[e]=t:s[e]+=t;isNaN(n[e])?n[e]=Math.abs(t):n[e]+=Math.abs(t)}}};_DataInfo.prototype.getMinY=function(){return this.minY};_DataInfo.prototype.getMaxY=function(){return this.maxY};_DataInfo.prototype.getMinX=function(){return this.minX};_DataInfo.prototype.getMaxX=function(){return this.maxX};_DataInfo.prototype.getMinXp=function(){return this.minXp};_DataInfo.prototype.getMinYp=function(){return this.minYp};_DataInfo.prototype.getDeltaX=function(){return this.dx};_DataInfo.prototype.getDataTypeX=function(){return this.dataTypeX};_DataInfo.prototype.getDataTypeY=function(){return this.dataTypeY};_DataInfo.prototype.getStackedAbsSum=function(t){var e=this.stackAbs[t];return isFinite(e)?e:0};_DataInfo.prototype.getXVals=function(){return this._xvals};_DataInfo.isValid=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var i=t.length,n=0;n<i;n++)if(!isFinite(t[n]))return!1;return!0};return _DataInfo}();e._DataInfo=a}(t.chart||(t.chart={}))}(wijmo||(wijmo={}));!function(t){!function(e){"use strict";var i=function(i){__extends(FlexChart,i);function FlexChart(t,n){var r=i.call(this,t,null)||this;r._chartType=e.ChartType.Column;r.initialize(n);return r}FlexChart.prototype._getChartType=function(){return this._chartType};Object.defineProperty(FlexChart.prototype,"chartType",{get:function(){return this._chartType},set:function(i){if((i=t.asEnum(i,e.ChartType))!=this._chartType){this._chartType=i;this.invalidate()}},enumerable:!0,configurable:!0});Object.defineProperty(FlexChart.prototype,"rotated",{get:function(){return this._rotated},set:function(e){if(e!=this._rotated){this._rotated=t.asBoolean(e);this.invalidate()}},enumerable:!0,configurable:!0});Object.defineProperty(FlexChart.prototype,"stacking",{get:function(){return this._stacking},set:function(i){if((i=t.asEnum(i,e.Stacking))!=this._stacking){this._stacking=i;this.invalidate()}},enumerable:!0,configurable:!0});Object.defineProperty(FlexChart.prototype,"options",{get:function(){return this._options},set:function(t){if(t!=this._options){this._options=t;this.invalidate()}},enumerable:!0,configurable:!0});return FlexChart}(e.FlexChartCore);e.FlexChart=i}(t.chart||(t.chart={}))}(wijmo||(wijmo={}));!function(t){!function(e){"use strict";var i,n;!function(t){t[t.None=0]="None";t[t.Left=1]="Left";t[t.Top=2]="Top";t[t.Right=3]="Right";t[t.Bottom=4]="Bottom";t[t.Center=5]="Center"}(i=e.LabelPosition||(e.LabelPosition={}));!function(t){t[t.None=0]="None";t[t.Inside=1]="Inside";t[t.Center=2]="Center";t[t.Outside=3]="Outside";t[t.Radial=4]="Radial";t[t.Circular=5]="Circular"}(n=e.PieLabelPosition||(e.PieLabelPosition={}));var r=function(e){__extends(DataLabelRenderEventArgs,e);function DataLabelRenderEventArgs(t,i,n,r){var s=e.call(this,t)||this;s.cancel=!1;s._ht=i;s._pt=n;s._text=r;return s}Object.defineProperty(DataLabelRenderEventArgs.prototype,"point",{get:function(){return this._pt},enumerable:!0,configurable:!0});Object.defineProperty(DataLabelRenderEventArgs.prototype,"text",{get:function(){return this._text},set:function(e){this._text=t.asString(e)},enumerable:!0,configurable:!0});Object.defineProperty(DataLabelRenderEventArgs.prototype,"hitTestInfo",{get:function(){return this._ht},enumerable:!0,configurable:!0});return DataLabelRenderEventArgs}(e.RenderEventArgs);e.DataLabelRenderEventArgs=r;var s=function(){function DataLabelBase(){this.rendering=new t.Event}Object.defineProperty(DataLabelBase.prototype,"content",{get:function(){return this._content},set:function(t){if(t!=this._content){this._content=t;this._invalidate()}},enumerable:!0,configurable:!0});Object.defineProperty(DataLabelBase.prototype,"border",{get:function(){return this._bdr},set:function(e){if(e!=this._bdr){this._bdr=t.asBoolean(e,!0);this._invalidate()}},enumerable:!0,configurable:!0});Object.defineProperty(DataLabelBase.prototype,"offset",{get:function(){return this._off},set:function(e){if(e!=this._off){this._off=t.asNumber(e,!0);this._invalidate()}},enumerable:!0,configurable:!0});Object.defineProperty(DataLabelBase.prototype,"connectingLine",{get:function(){return this._line},set:function(e){if(e!=this._line){this._line=t.asBoolean(e,!0);this._invalidate()}},enumerable:!0,configurable:!0});DataLabelBase.prototype.onRendering=function(t){this.rendering.raise(this,t);return!t.cancel};DataLabelBase.prototype._invalidate=function(){this._chart&&this._chart.invalidate()};return DataLabelBase}();e.DataLabelBase=s;var a=function(e){__extends(DataLabel,e);function DataLabel(){var t=null!==e&&e.apply(this,arguments)||this;t._pos=i.Top;return t}Object.defineProperty(DataLabel.prototype,"position",{get:function(){return this._pos},set:function(e){if((e=t.asEnum(e,i))!=this._pos){this._pos=e;this._invalidate()}},enumerable:!0,configurable:!0});return DataLabel}(s);e.DataLabel=a;var o=function(e){__extends(PieDataLabel,e);function PieDataLabel(){var t=null!==e&&e.apply(this,arguments)||this;t._pos=n.Center;return t}Object.defineProperty(PieDataLabel.prototype,"position",{get:function(){return this._pos},set:function(e){if((e=t.asEnum(e,n))!=this._pos){this._pos=e;this._invalidate()}},enumerable:!0,configurable:!0});return PieDataLabel}(s);e.PieDataLabel=o}(t.chart||(t.chart={}))}(wijmo||(wijmo={}));!function(t){!function(e){"use strict";var i,n,r,s;!function(t){t[t.X=0]="X";t[t.Y=1]="Y"}(i=e.AxisType||(e.AxisType={}));!function(t){t[t.Auto=0]="Auto";t[t.Show=1]="Show"}(n=e.OverlappingLabels||(e.OverlappingLabels={}));!function(t){t[t.None=0]="None";t[t.Outside=1]="Outside";t[t.Inside=2]="Inside";t[t.Cross=3]="Cross"}(r=e.TickMark||(e.TickMark={}));!function(t){t[t.None=0]="None";t[t.Show=1]="Show";t[t.ShowGrid=2]="ShowGrid"}(s=e.AxisGroupsDisplay||(e.AxisGroupsDisplay={}));var a=function(){function Axis(s){this._GRIDLINE_WIDTH=1;this._LINE_WIDTH=1;this._TICK_WIDTH=1;this._TICK_HEIGHT=4;this._TICK_OVERLAP=1;this._TICK_LABEL_DISTANCE=4;this._minorGrid=!1;this._labels=!0;this._isTimeAxis=!1;this._labelPadding=5;this._actualLabels=[];this._labelMin=!1;this._labelMax=!1;this.rangeChanged=new t.Event;this._customConvert=null;this._customConvertBack=null;this.__uniqueId=Axis._id++;this._position=s;s==e.Position.Bottom||s==e.Position.Top?this._axisType=i.X:this._axisType=i.Y;this._minorTickMarks=r.None;this._overlap=n.Auto}Object.defineProperty(Axis.prototype,"hostElement",{get:function(){return this._hostElement},enumerable:!0,configurable:!0});Object.defineProperty(Axis.prototype,"actualMin",{get:function(){return this._isTimeAxis?new Date(this._actualMin):this._actualMin},enumerable:!0,configurable:!0});Object.defineProperty(Axis.prototype,"actualMax",{get:function(){return this._isTimeAxis?new Date(this._actualMax):this._actualMax},enumerable:!0,configurable:!0});Object.defineProperty(Axis.prototype,"min",{get:function(){return this._min},set:function(e){if(e!=this._min){t.isDate(e)?this._min=t.asDate(e,!0):this._min=t.asNumber(e,!0);this._invalidate()}},enumerable:!0,configurable:!0});Object.defineProperty(Axis.prototype,"max",{get:function(){return this._max},set:function(e){if(e!=this._max){t.isDate(e)?this._max=t.asDate(e,!0):this._max=t.asNumber(e,!0);this._invalidate()}},enumerable:!0,configurable:!0});Object.defineProperty(Axis.prototype,"reversed",{get:function(){return this._reversed},set:function(e){if(this._reversed!=e){this._reversed=t.asBoolean(e);this._invalidate()}},enumerable:!0,configurable:!0});Object.defineProperty(Axis.prototype,"position",{get:function(){return this._position},set:function(n){if((n=t.asEnum(n,e.Position,!1))!=this._position){this._position=n;this._position==e.Position.Bottom||this._position==e.Position.Top?this._axisType=i.X:this._position!=e.Position.Left&&this._position!=e.Position.Right||(this._axisType=i.Y);this._invalidate()}},enumerable:!0,configurable:!0});Object.defineProperty(Axis.prototype,"majorUnit",{get:function(){return this._majorUnit},set:function(e){if(e!=this._majorUnit){this._majorUnit=t.asNumber(e,!0);this._invalidate()}},enumerable:!0,configurable:!0});Object.defineProperty(Axis.prototype,"minorUnit",{get:function(){return this._minorUnit},set:function(e){if(e!=this._minorUnit){this._minorUnit=t.asNumber(e,!0);this._invalidate()}},enumerable:!0,configurable:!0});Object.defineProperty(Axis.prototype,"name",{get:function(){return this._name},set:function(e){e!=this._name&&(this._name=t.asString(e,!0))},enumerable:!0,configurable:!0});Object.defineProperty(Axis.prototype,"title",{get:function(){return this._title},set:function(e){if(e!=this._title){this._title=t.asString(e,!0);this._invalidate()}},enumerable:!0,configurable:!0});Object.defineProperty(Axis.prototype,"format",{get:function(){return this._format},set:function(e){if(e!=this._format){this._format=t.asString(e,!0);this._invalidate()}},enumerable:!0,configurable:!0});Object.defineProperty(Axis.prototype,"majorGrid",{get:function(){return this._majorGrid},set:function(e){if(e!=this._majorGrid){this._majorGrid=t.asBoolean(e,!0);this._invalidate()}},enumerable:!0,configurable:!0});Object.defineProperty(Axis.prototype,"majorTickMarks",{get:function(){return this._majorTickMarks},set:function(e){if((e=t.asEnum(e,r,!0))!=this._majorTickMarks){this._majorTickMarks=e;this._invalidate()}},enumerable:!0,configurable:!0});Object.defineProperty(Axis.prototype,"minorGrid",{get:function(){return this._minorGrid},set:function(e){if(e!=this._minorGrid){this._minorGrid=t.asBoolean(e,!0);this._invalidate()}},enumerable:!0,configurable:!0});Object.defineProperty(Axis.prototype,"minorTickMarks",{get:function(){return this._minorTickMarks},set:function(e){if((e=t.asEnum(e,r,!0))!=this._minorTickMarks){this._minorTickMarks=e;this._invalidate()}},enumerable:!0,configurable:!0});Object.defineProperty(Axis.prototype,"axisLine",{get:function(){return void 0===this._axisLine?this.axisType==i.X:this._axisLine},set:function(e){if(e!=this._axisLine){this._axisLine=t.asBoolean(e,!0);this._invalidate()}},enumerable:!0,configurable:!0});Object.defineProperty(Axis.prototype,"labels",{get:function(){return this._labels},set:function(e){if(e!=this._labels){this._labels=t.asBoolean(e,!0);this._invalidate()}},enumerable:!0,configurable:!0});Object.defineProperty(Axis.prototype,"labelAlign",{get:function(){return this._labelAlign},set:function(e){if(e!=this._labelAlign){this._labelAlign=t.asString(e,!0);this._invalidate()}},enumerable:!0,configurable:!0});Object.defineProperty(Axis.prototype,"labelAngle",{get:function(){return this._labelAngle},set:function(e){if(e!=this._labelAngle){this._labelAngle=t.asNumber(e,!0);this._invalidate()}},enumerable:!0,configurable:!0});Object.defineProperty(Axis.prototype,"labelMin",{get:function(){return this._labelMin},set:function(e){if(e!=this._labelMin){this._labelMin=t.asBoolean(e,!0);this._invalidate()}},enumerable:!0,configurable:!0});Object.defineProperty(Axis.prototype,"labelMax",{get:function(){return this._labelMax},set:function(e){if(e!=this._labelMax){this._labelMax=t.asBoolean(e,!0);this._invalidate()}},enumerable:!0,configurable:!0});Object.defineProperty(Axis.prototype,"origin",{get:function(){return this._origin},set:function(e){if(e!=this._origin){this._origin=t.asNumber(e,!0);this._invalidate()}},enumerable:!0,configurable:!0});Object.defineProperty(Axis.prototype,"overlappingLabels",{get:function(){return this._overlap},set:function(e){if((e=t.asEnum(e,n,!0))!=this._overlap){this._overlap=e;this._invalidate()}},enumerable:!0,configurable:!0});Object.defineProperty(Axis.prototype,"itemsSource",{get:function(){return this._items},set:function(e){if(this._items!=e){if(this._cv){this._cv.collectionChanged.removeHandler(this._cvCollectionChanged,this);this._cv=null}this._items=e;this._cv=t.asCollectionView(e);null!=this._cv&&this._cv.collectionChanged.addHandler(this._cvCollectionChanged,this)}},enumerable:!0,configurable:!0});Object.defineProperty(Axis.prototype,"binding",{get:function(){return this._binding},set:function(e){if(e!=this._binding){this._binding=t.asString(e,!0);this._invalidate()}},enumerable:!0,configurable:!0});Object.defineProperty(Axis.prototype,"itemFormatter",{get:function(){return this._ifmt},set:function(e){if(this._ifmt!=e){this._ifmt=t.asFunction(e,!0);this._invalidate()}},enumerable:!0,configurable:!0});Object.defineProperty(Axis.prototype,"logBase",{get:function(){return this._logBase},set:function(e){if(e!=this._logBase){this._logBase=t.asNumber(e,!0,!0);this._invalidate()}},enumerable:!0,configurable:!0});Object.defineProperty(Axis.prototype,"groupsOptions",{get:function(){return this._groupsOptions},set:function(t){if(t!=this._groupsOptions){this._groupsOptions=t;this._invalidate()}},enumerable:!0,configurable:!0});Object.defineProperty(Axis.prototype,"axisLabels",{get:function(){return this._actualLabels},enumerable:!0,configurable:!0});Axis.prototype._getLogBase=function(){return this._chart&&this._chart._stacking===e.Stacking.Stacked100pc?0:this.logBase};Axis.prototype._isLogAxis=function(){var t=this._getLogBase();return null!=t&&t>0};Object.defineProperty(Axis.prototype,"plotArea",{get:function(){return this._parea},set:function(i){if(i!=this._parea){this._parea=t.asType(i,e.PlotArea,!0);this._invalidate()}},enumerable:!0,configurable:!0});Object.defineProperty(Axis.prototype,"labelPadding",{get:function(){return this._labelPadding},set:function(e){if(e!=this._labelPadding){this._labelPadding=t.asNumber(e,!0,!0);this._invalidate()}},enumerable:!0,configurable:!0});Object.defineProperty(Axis.prototype,"_groupClass",{get:function(){return this.axisType===i.X?e.FlexChartCore._CSS_AXIS_X:e.FlexChartCore._CSS_AXIS_Y},enumerable:!0,configurable:!0});Axis.prototype.onRangeChanged=function(t){this.rangeChanged.raise(this,t)};Axis.prototype._getPosition=function(){if(this.axisType==i.X){if(this.position==e.Position.Auto)return e.Position.Bottom}else if(this.axisType==i.Y&&this.position==e.Position.Auto)return e.Position.Left;return this.position};Axis.prototype._isOverlapped=function(t,e,n,r){var s=this._lbls;if(null!=s&&s.length>1)for(var a=s.length,o=this._values&&this._values.length==a?this._values:null,h=0,l=0,_=0;_<a;_++){var u=o?o[_]:_;if(u>=this._actualMin&&u<=this._actualMax){var c=e*(u-this._actualMin)/(this._actualMax-this._actualMin),f=t.measureString(s[_],n,this._groupClass);if(this.axisType==i.X){if(_>0&&Math.abs(c-h)<.5*(f.width+l))return!0;h=c;l=f.width}else this.axisType,i.Y}}return!1};Axis.prototype._getHeight=function(n,a){this._actualAngle=null;var o=e.FlexChartCore._CSS_LABEL,h=e.FlexChartCore._CSS_TITLE,l=.1*(this._actualMax-this._actualMin),_=this._lbls,u=this.labelAngle;if(this.labels&&this._chart._getChartType()!==e.ChartType.Funnel){l=this._updateAutoFormat(l);if(null!=_&&_.length>0){var c=_.length,f=this._values&&this._values.length==c?this._values:null;this._annoSize=new t.Size;for(var p=0;p<c;p++){if((y=f?f[p]:p)>=this._actualMin&&y<=this._actualMax){var d=_[p],g=o;if(this.itemFormatter){d=(x=this._getFormattedItem(n,y,d,new t.Point,o,!0)).text;g=x.cls}var m=n.measureString(d,g,this._groupClass);this.axisType,i.X,m.width>this._annoSize.width&&(this._annoSize.width=m.width);m.height>this._annoSize.height&&(this._annoSize.height=m.height)}}null==u&&this.axisType==i.X&&(this._isOverlapped(n,Math.max(10,a-this._annoSize.width),o,this.axisType)?u=this._actualAngle=-45:this._actualAngle=0)}else{var y=this._actualMin-l;d=this._formatValue(y),g=o;if(this.itemFormatter){d=(x=this._getFormattedItem(n,y,d,new t.Point,o,!0)).text;g=o}m=n.measureString(d,g,this._groupClass);this._annoSize=m;y=this._actualMax+l;d=this._formatValue(y);g=o;if(this.itemFormatter){var x;d=(x=this._getFormattedItem(n,y,d,new t.Point,o,!0)).text;g=o}(m=n.measureString(d,g,this._groupClass)).width>this._annoSize.width&&(this._annoSize.width=m.width);m.height>this._annoSize.height&&(this._annoSize.height=m.height)}this._annoSizeBase=new t.Size(this._annoSize.width,this._annoSize.height);if(u){u>90?u=90:u<-90&&(u=-90);var b=u*Math.PI/180,v=this._annoSize.width,S=this._annoSize.height;this._annoSize.width=v*Math.abs(Math.cos(b))+S*Math.abs(Math.sin(b));this._annoSize.height=v*Math.abs(Math.sin(b))+S*Math.abs(Math.cos(b));this._actualAngle=u}}else{this._annoSize=new t.Size(8,8);this._annoSizeBase=new t.Size(this._annoSize.width,this._annoSize.height)}var C=0;if(this.labels){C=2*(this._labelPadding||5);this._axisType==i.X?C+=this._annoSize.height:C+=this._annoSize.width+this._TICK_LABEL_DISTANCE+2}var w=this._TICK_HEIGHT,P=this._TICK_OVERLAP,A=this.majorTickMarks;A==r.Outside?P=1:A==r.Inside?P=-1:A==r.Cross&&(P=0);null==A&&(A=r.Outside);A!=r.None&&(C+=.5*(1+P)*w);if(this._title){d=this._title;this._szTitle=n.measureString(d,h,this._groupClass);C+=this._szTitle.height}else this._szTitle=void 0;if(this._lbls&&this.groupsOptions&&this.groupsOptions.display!==s.None){this._groupsPanel||(this._groupsPanel=new e._AxisGroups(this));this._groupsPanel.createGroups();C+=this._groupsPanel.getHeight(n)}n.fontSize=null;return C};Axis.prototype._updateAutoFormat=function(e){if(this._isTimeAxis){var i=this.format,n=.001*this._getActualRange()/10,r=new l(n*l.TicksPerSecond),s=t.isNumber(this._majorUnit)?l.fromDays(this._majorUnit):_.NiceTimeSpan(r,i);i||(this._tfmt=_.GetTimeDefaultFormat(1e3*s.TotalSeconds,0));e=s.TotalSeconds}return e};Axis.prototype._getActualRange=function(){return this._actualMax-this._actualMin};Axis.prototype._updateActualLimitsByChartType=function(t,i,n){if(t&&t.length>0&&!this._isTimeAxis){var r=this._chart._getChartType();if(r!=e.ChartType.Column&&r!=e.ChartType.Bar){i-=.5;n+=.5}}return{min:i,max:n}};Axis.prototype._updateActualLimits=function(n,r,s,a,o){void 0===a&&(a=null);void 0===o&&(o=null);var h=this._actualMin,l=this._actualMax;this._isTimeAxis=n==t.DataType.Date;var _=this._updateActualLimitsByChartType(a,r,s);r=_.min;s=_.max;var u=this._min,c=this._max;t.isDate(u)&&(u=u.valueOf());t.isDate(c)&&(c=c.valueOf());var f=this._chart&&this._chart._stacking!==e.Stacking.Stacked100pc;f||(f=this._chart._isRotated()?this.axisType==i.Y:this.axisType==i.X);var p=this._actualMin=null!=u&&f?u:r;if(p==(this._actualMax=null!=c&&f?c:s))if(void 0!==u&&void 0===c)this._actualMax+=1;else if(void 0===u&&void 0!==c)this._actualMin-=1;else if(0===p)this._actualMax=1;else{var d=Math.abs(p);if(d<1){this._actualMin-=d;this._actualMax+=d}else{this._actualMin-=1;this._actualMax+=1}}if(this._getLogBase()>0){var g=this.logBase,m=Math.log(g);if(!this._max){var y=Math.ceil(Math.log(this._actualMax)/m);this._actualMax=Math.pow(g,y)}if(!this._min){var x=Math.floor(Math.log(this._actualMin)/m);this._actualMin=Math.pow(g,x)}(this._actualMin<=0||!t.isNumber(this._actualMin))&&(this._actualMin=1);this._actualMax<this._actualMin?this._actualMax=this._actualMin+1:this._actualMax===this._actualMin&&(this._actualMin=.1*this._actualMax)}(h!=this._actualMin&&(t.isNumber(h)||t.isNumber(this._actualMin))||l!=this._actualMax&&(t.isNumber(l)||t.isNumber(this._actualMax)))&&this.onRangeChanged();if(this._items){this._values=[];this._lbls=[];var b=this._items.length,v="value",S="text";if(this.binding){var C=this.binding.split(",");if(2==C.length){v=C[0];S=C[1]}}for(var w=0;w<b;w++){var P=this._items[w],A=P[v];if(t.isNumber(A)){this._values.push(A);this._lbls.push(P[S])}else if(t.isDate(A)){this._values.push(A.getTime());this._lbls.push(P[S])}}}else{this._lbls=a;this._values=o}};Axis.prototype._layout=function(e,n){var r=this.axisType==i.Y;this._plotrect=n;this._axrect=r?new t.Rect(e.left,e.top,e.height,e.width):e;this._groupsPanel&&this._groupsPanel.layout()};Axis.prototype._hasVisibileSeries=function(){for(var t,i=this._chart.series,n=0,r=i.length;n<r;n++)if((t=i[n].visibility)==e.SeriesVisibility.Plot||t==e.SeriesVisibility.Visible)return!0;return!1};Axis.prototype._render=function(i){if(this.position!=e.Position.None&&this._hasVisibileSeries()){this.axisLabels.length=0;this._vals={};var n=0;this.labelAngle&&((n=this.labelAngle)>90?n=90:n<-90&&(n=-90));null==this.labelAngle&&null!=this._actualAngle&&(n=this._actualAngle);var a=e.FlexChartCore._FG,o=this._actualMax-this._actualMin;if(t.isNumber(o)){var h=this._calcMajorUnit();0==h&&(h=.1*this._niceTickNumber(o));var l=Math.min(Axis.MAX_MAJOR,Math.floor(o/h)+1),_=[],u=[];this._rects=[];this._vals.major=_;this._vals.hasLbls=[];var c=Math.floor(this._actualMin/h)*h;c<this._actualMin&&(c+=h);var f=!1;if(this._lbls&&this._lbls.length>0){u=this._lbls;if(0==this._values.length){f=!0;for(var p=0;p<u.length;p++)_.push(p)}else _=this._values}else if(this._isTimeAxis){this._createTimeLabels(c,l,_,u);this._addMinMaxLabels(_,u)}else if(this._getLogBase()){this._createLogarithmicLabels(this._actualMin,this._actualMax,this.majorUnit,_,u,!0);this._addMinMaxLabels(_,u)}else{this._createLabels(c,l,h,_,u);this._addMinMaxLabels(_,u)}l=Math.min(_.length,u.length);i.textFill=a;var d=this._TICK_HEIGHT,g=this._TICK_OVERLAP,m=this.majorTickMarks;null==m&&(m=r.Outside);m==r.Outside?g=1:m==r.Inside?g=-1:m==r.Cross&&(g=0);var y=.5*(g-1)*d,x=.5*(1+g)*d;for(p=0;p<l;p++){var b=!0,v=_[p],S=u[p],C=this.labels;C&&(f||this.itemsSource)&&this.majorUnit&&p%this.majorUnit!=0&&(C=!1);if(v>=this._actualMin&&v<=this._actualMax){var w=i.textFill;b=this._renderLabelsAndTicks(i,p,v,S,n,m,C,y,x);i.textFill=w}this._vals.hasLbls.push(b);b&&this.axisLabels.push(S)}}(this.minorGrid||this.minorTickMarks!=r.None)&&this._renderMinor(i,_,f);i.stroke=a;i.fontSize=null;this._renderLineAndTitle(i);this._lbls&&this.groupsOptions&&this.groupsOptions.display!==s.None&&this._groupsPanel&&this._groupsPanel.render(i);i.stroke=null;i.fontSize=null;i.textFill=null;i.strokeWidth=null}};Axis.prototype._renderLineAndTitle=function(n){var r=this._getPosition(),s=this.axisType==i.Y,a=r!=e.Position.Top&&r!=e.Position.Right,o=e.FlexChartCore._CSS_TITLE,h=e.FlexChartCore._CSS_LINE;if(s)if(a){if(this._title){var l=new t.Point(this._axrect.left+.5*this._szTitle.height,this._axrect.top+.5*this._axrect.height);e.FlexChartCore._renderRotatedText(n,this._title,l,1,1,l,-90,o,this._groupClass)}this.axisLine&&n.drawLine(this._axrect.right,this._axrect.top,this._axrect.right,this._axrect.bottom,h)}else{if(this._title){l=new t.Point(this._axrect.right-.5*this._szTitle.height,this._axrect.top+.5*this._axrect.height);e.FlexChartCore._renderRotatedText(n,this._title,l,1,1,l,90,o,this._groupClass)}this.axisLine&&n.drawLine(this._axrect.left,this._axrect.top,this._axrect.left,this._axrect.bottom,h)}else if(a){this.axisLine&&n.drawLine(this._axrect.left,this._axrect.top,this._axrect.right,this._axrect.top,h);this._title&&e.FlexChartCore._renderText(n,this._title,new t.Point(this._axrect.left+.5*this._axrect.width,this._axrect.bottom),1,2,o)}else{this.axisLine&&n.drawLine(this._axrect.left,this._axrect.bottom,this._axrect.right,this._axrect.bottom,h);this._title&&e.FlexChartCore._renderText(n,this._title,new t.Point(this._axrect.left+.5*this._axrect.width,this._axrect.top),1,0,o)}};Axis.prototype._renderMinor=function(t,n,r){var s=this._getPosition(),a=this.axisType==i.Y,o=s!=e.Position.Top&&s!=e.Position.Right;if(this._getLogBase()){if(this.minorUnit>0){var h=[];this._createLogarithmicLabels(this._actualMin,this._actualMax,this.minorUnit,h,null,!1);for(var l=[],_=0;_<h.length;_++){var u=h[_];-1==n.indexOf(u)&&u>this._actualMin&&l.push(u)}this._renderMinors(t,l,a,o)}}else this._createMinors(t,n,a,o,r)};Axis.prototype._renderRotatedText=function(t,i,n,r,s,a,o,h,l,_,u){if(this.itemFormatter){var c=this._getFormattedItem(t,i,n,r,l);if(c){n=c.text;l=c.cls}else n=null}e.FlexChartCore._renderRotatedText(t,n,r,s,a,o,h,l,_,u)};Axis.prototype._getFormattedItem=function(t,n,r,s,a,o){void 0===o&&(o=!1);if(this.itemFormatter){var h=s.clone();this._plotrect&&(this.axisType==i.X?this.position==e.Position.Top?h.y=this._plotrect.top:h.y=this._plotrect.bottom:this.position==e.Position.Right?h.x=this._plotrect.right:h.x=this._plotrect.left);var l={val:n,text:r,pos:h,cls:a};o&&(t.readOnly=!0);l=this.itemFormatter(t,l);o&&(t.readOnly=!1);return l}};Axis.prototype._renderLabelsAndTicks=function(s,a,o,h,l,_,u,c,f){var p=this._getPosition(),d=!1,g=this.axisType==i.Y,m=p!=e.Position.Top&&p!=e.Position.Right,y=this.labelPadding||5,x=this._TICK_WIDTH,b=this._getLabelAlign(g),v=e.FlexChartCore._CSS_LABEL,S=e.FlexChartCore._CSS_GRIDLINE,C=e.FlexChartCore._CSS_TICK,w=e.FlexChartCore._FG,P=e.FlexChartCore._FG,A=this._GRIDLINE_WIDTH,M=o!=this._actualMin&&this.majorGrid;if(g){var T=this.convert(o);if(M){s.stroke=w;s.strokeWidth=A;s.drawLine(this._plotrect.left,T,this._plotrect.right,T,S)}s.stroke=P;s.strokeWidth=x;if(m){if(u){d=!0;var L=new t.Point(this._axrect.right-f-this._TICK_LABEL_DISTANCE-y,T);l>0?90==l?this._renderRotatedText(s,o,h,L,1,0,L,l,v,this._groupClass):this._renderRotatedText(s,o,h,L,2,1,L,l,v,this._groupClass):l<0?-90==l?this._renderRotatedText(s,o,h,L,1,2,L,l,v,this._groupClass):this._renderRotatedText(s,o,h,L,2,1,L,l,v,this._groupClass):d=this._renderLabel(s,o,h,L,2,b,v)}_!=r.None&&d&&s.drawLine(this._axrect.right-c,T,this._axrect.right-f,T,C)}else{if(u){d=!0;L=new t.Point(this._axrect.left+f+this._TICK_LABEL_DISTANCE+y,T);l>0?90==l?this._renderRotatedText(s,o,h,L,1,2,L,l,v,this._groupClass):this._renderRotatedText(s,o,h,L,0,1,L,l,v,this._groupClass):l<0?-90==l?this._renderRotatedText(s,o,h,L,1,0,L,l,v,this._groupClass):this._renderRotatedText(s,o,h,L,0,1,L,l,v,this._groupClass):d=this._renderLabel(s,o,h,L,0,b,v)}_!=r.None&&d&&s.drawLine(this._axrect.left+c,T,this._axrect.left+f,T,C)}}else{var E=this.convert(o);if(M&&u){s.stroke=w;s.strokeWidth=A;s.drawLine(E,this._plotrect.top,E,this._plotrect.bottom,S)}this.overlappingLabels==n.Auto&&this._xCross(E)&&(u=!1);s.stroke=P;s.strokeWidth=x;if(m){if(u){L=new t.Point(E,this._axrect.top+f+y);d=0!=l?this._renderRotatedLabel(s,o,h,L,b,l,v,m):this._renderLabel(s,o,h,L,b,0,v)}if(_!=r.None&&d){E=this.convert(o);s.drawLine(E,this._axrect.top+c,E,this._axrect.top+f,C)}}else{if(u){L=new t.Point(E,this._axrect.bottom-f-y);d=0!=l?this._renderRotatedLabel(s,o,h,L,b,l,v,m):this._renderLabel(s,o,h,L,b,2,v)}if(_!=r.None&&d){E=this.convert(o);s.drawLine(E,this._axrect.bottom-c,E,this._axrect.bottom-f,C)}}}return d};Axis.prototype._xCross=function(t){for(var e=this._rects.length,i=0;i<e;i++){var n=this._rects[i];if(t>=n.left&&t<=n.right)return!0}return!1};Axis.prototype._createMinors=function(e,i,n,r,s){if(i){for(var a=this.majorUnit?this._isTimeAxis?24*this.majorUnit*3600*1e3:this.majorUnit:i.length>1?i[1]-i[0]:i[0],o=t.isNumber(this.minorUnit)?this._isTimeAxis?24*this.minorUnit*3600*1e3:this.minorUnit:.5*a,h=[],l=i[0];l>this._actualMin&&h.length<Axis.MAX_MINOR;l-=o)-1==i.indexOf(l)&&h.push(l);for(l=i[0]+o;l<this._actualMax&&h.length<Axis.MAX_MINOR;l+=o)-1==i.indexOf(l)?h.push(l):s&&this.majorUnit&&l%this.majorUnit!=0&&h.push(l);this._renderMinors(e,h,n,r)}};Axis.prototype._renderMinors=function(t,i,n,s){var a=this._TICK_HEIGHT,o=this._TICK_WIDTH,h=this._TICK_OVERLAP,l=e.FlexChartCore._FG,_=this.minorTickMarks,u=!0;this._vals.minor=i;_==r.Outside?h=1:_==r.Inside?h=-1:_==r.Cross?h=0:u=!1;for(var c=.5*(h-1)*a,f=.5*(1+h)*a,p=i?i.length:0,d=this.minorGrid,g=this._plotrect,m=this._GRIDLINE_WIDTH,y=e.FlexChartCore._FG,x=e.FlexChartCore._CSS_GRIDLINE_MINOR,b=e.FlexChartCore._CSS_TICK_MINOR,v=0;v<p;v++)if(i[v]>=this.actualMin&&i[v]<=this.actualMax)if(n){var S=this.convert(i[v]);if(u){t.stroke=l;t.strokeWidth=o;s?t.drawLine(this._axrect.right-c,S,this._axrect.right-f,S,b):t.drawLine(this._axrect.left+c,S,this._axrect.left+f,S,b)}if(d){t.stroke=y;t.strokeWidth=m;t.drawLine(g.left,S,g.right,S,x)}}else{var C=this.convert(i[v]);if(u){t.stroke=l;t.strokeWidth=o;s?t.drawLine(C,this._axrect.top+c,C,this._axrect.top+f,b):t.drawLine(C,this._axrect.bottom-c,C,this._axrect.bottom-f,b)}if(d){t.stroke=y;t.strokeWidth=m;t.drawLine(C,g.top,C,g.bottom,x)}}};Axis.prototype._renderLabel=function(i,r,s,a,o,h,l){var _=!1;if(this.itemFormatter){var u=this._getFormattedItem(i,r,s,a,l);if(u){s=u.text;l=u.cls}else s=null}if(s){var c=this._rects,f=this.overlappingLabels==n.Auto&&!t.isNumber(this._actualAngle),p=e.FlexChartCore._renderText(i,s,a,o,h,l,this._groupClass,null,(function(t){if(f)for(var i=c.length,n=0;n<i;n++)if(e.FlexChartCore._intersects(c[n],t))return!1;return!0}));if(p){p.left+=4;p.width+=8;c.push(p);_=!0}}return _};Axis.prototype._renderRotatedLabel=function(i,r,s,a,o,h,l,_){if(this.itemFormatter){var u=this._getFormattedItem(i,r,s,a,l);if(u){s=u.text;l=u.cls}else s=null}if(s){var c=i.measureString(s,l,this._groupClass),f=.5*c.height,p=.5*c.width*Math.abs(Math.sin(h*Math.PI/180)),d=.5*c.width,g=.5*(c.width*Math.abs(Math.cos(h*Math.PI/180))+c.height*Math.abs(Math.sin(h*Math.PI/180))),m=new t.Point(a.x,a.y),y=new t.Point(a.x,a.y);this.labelAlign||(o=90==h||-90==h?1:_?h>0?0:2:h>0?2:0);if(_){a.y+=f+p;m.y+=f+p-.5*c.height}else{a.y-=f+p-c.height;m.y-=f+p-.5*c.height}var x=0;if(2===o){m.x-=g;a.x-=d+g;x=m.x+g-c.height-2}else if(0===o){m.x+=g;a.x-=d-g;x=m.x-g}else{a.x-=d;x=m.x-c.height/2}var b=new t.Rect(x,y.y,c.height+2,c.width),v=this._rects;if(this.overlappingLabels==n.Auto)for(var S=v.length,C=0;C<S;C++)if(e.FlexChartCore._intersects(v[C],b))return!1;e.FlexChartCore._renderRotatedText(i,s,a,0,2,m,h,l,this._groupClass);this._rects.push(b);return!0}return!1};Axis.prototype._getLabelAlign=function(t){var e=1;if(this.labelAlign){var i=this.labelAlign.toLowerCase();t?"top"==i?e=0:"bottom"==i&&(e=2):"left"==i?e=0:"right"==i&&(e=2)}return e};Axis.prototype._addMinMaxLabels=function(t,e){if(this.labelMin){var i=this.actualMin;if(isFinite(i)){e.splice(0,0,this._formatValue(i));t.splice(0,0,i)}}if(this.labelMax){var n=this.actualMax;if(isFinite(n)){e.splice(0,0,this._formatValue(n));t.splice(0,0,n)}}};Axis.prototype.convert=function(t,e,n){var r=null==e?this._actualMax:e,s=null==n?this._actualMin:n;if(r==s||!this._axrect)return 0;var a=this._axrect.left,o=this._axrect.width,h=this._axrect.top,l=this._axrect.height;if(null!=this._customConvert){var _=this._customConvert(t,s,r);return this.axisType==i.Y?h+_*l:a+_*o}if(this._getLogBase()){if(t<=0)return NaN;var u=Math.log(r/s);return this._reversed?this.axisType==i.Y?h+Math.log(t/s)/u*l:a+o-Math.log(t/s)/u*o:this.axisType==i.Y?h+l-Math.log(t/s)/u*l:a+Math.log(t/s)/u*o}return this._reversed?this.axisType==i.Y?h+(t-s)/(r-s)*l:a+o-(t-s)/(r-s)*o:this.axisType==i.Y?h+l-(t-s)/(r-s)*l:a+(t-s)/(r-s)*o};Axis.prototype.convertBack=function(t){if(this._actualMax==this._actualMin)return 0;var e=this._plotrect.left,n=this._plotrect.width,r=this._plotrect.top,s=this._plotrect.height,a=this._actualMax-this._actualMin,o=this._getLogBase();if(null!=this._customConvertBack)return this.axisType==i.Y?this._customConvertBack((t-r)/s,this._actualMin,this._actualMax):this._customConvertBack((t-e)/n,this._actualMin,this._actualMax);if(o){var h=0;h=this._reversed?this.axisType==i.Y?(t-r)/s:1-(t-e)/n:this.axisType==i.Y?1-(t-r)/s:(t-e)/n;return Math.pow(o,(Math.log(this._actualMin)+(Math.log(this._actualMax)-Math.log(this._actualMin))*h)/Math.log(o))}return this._reversed?this.axisType==i.Y?this._actualMin+(t-r)*a/s:this._actualMin+(e+n-t)*a/n:this.axisType==i.Y?this._actualMax-(t-r)*a/s:this._actualMin+(t-e)*a/n};Object.defineProperty(Axis.prototype,"axisType",{get:function(){var t=this._chart;if(t){if(t.axisX==this)return i.X;if(t.axisY==this)return i.Y}return this._axisType},enumerable:!0,configurable:!0});Axis.prototype._getMinNum=function(){return this._actualMin};Axis.prototype._getMaxNum=function(){return this._actualMax};Axis.prototype._getTitleSize=function(){return this._szTitle?this._szTitle:new t.Size};Axis.prototype._invalidate=function(){this._chart&&this._chart.invalidate()};Axis.prototype._cvCollectionChanged=function(t,e){this._invalidate()};Axis.prototype._createLabels=function(e,i,n,r,s){for(var a=0;a<i;a++){var o=(e+n*a).toFixed(14),h=parseFloat(o),l=this._formatAxisValue(h),_=s.indexOf(l);if(_>=0&&!t.isNumber(this.majorUnit)&&!this._format){var u=parseFloat(l);Math.abs(u-h)<Math.abs(u-r[_])&&(r[_]=h)}else{r.push(h);s.push(l)}}};Axis.prototype._createLogarithmicLabels=function(t,i,n,r,s,a){var o=this._getLogBase(),h=Math.log(o),l=Math.floor(Math.log(t)/h),_=Math.ceil(Math.log(i)/h),u=o,c=!0;if(n>0){c=!1;u=n}u<o&&(u=o);var f=(_-l+1)*o/u,p=1;if(a){var d=this._getPosition(),g=this._getAnnoNumber(d==e.Position.Left||d==e.Position.Right);f>g?p=Math.floor(f/g+1):c&&(f<=.2*g?u=.2*o:f<=.1*g&&(u=.1*o))}for(var m=l;m<=_;m+=p)if(c)for(var y=Math.pow(o,m),x=0;x*u<o-1;x++){if((b=y*(1+x*u))>=t&&b<=i)if(0==x){r.unshift(b);s&&s.unshift(this._formatValue(b))}else{r.push(b);s&&s.push(this._formatValue(b))}}else{var b;if((b=Math.pow(u,m))>=t&&b<=i){r.push(b);s&&s.push(this._formatValue(b))}}};Axis.prototype._createTimeLabels=function(e,n,r,s){var a=this._actualMin,o=this._actualMax,h=new Date(a),u=new Date(o),c=this._format,f=this._getAnnoNumber(this._axisType==i.Y);f>10&&(f=10);var p=.001*(this._actualMax-this._actualMin)/f,d=new l(p*l.TicksPerSecond),g=t.isNumber(this._majorUnit)?l.fromDays(this._majorUnit):_.NiceTimeSpan(d,c);c||(this._tfmt=c=_.GetTimeDefaultFormat(1e3*g.TotalSeconds,0));var m=g.Ticks,y=_.RoundTime(a,g.TotalDays,!1);isFinite(y)&&(a=y);var x=_.RoundTime(o,g.TotalDays,!0);isFinite(x)&&(o=x);var b=new Date(a);new Date(o);if(g.TotalDays>=365&&!t.isNumber(this._majorUnit)){(b=new Date(h.getFullYear(),0,1))<h&&b.setFullYear(b.getFullYear()+1);var v=g.TotalDays/365;v-=v%1;for(var S=b;S<=u&&v;S.setFullYear(S.getFullYear()+v)){var C=S.valueOf();r.push(C);s.push(this._formatValue(C))}}else if(g.TotalDays>=30&&!t.isNumber(this._majorUnit)){(b=new Date(h.getFullYear(),h.getMonth(),1))<h&&b.setMonth(b.getMonth()+1);var w=g.TotalDays/30;w-=w%1;for(S=b;S<=u;S.setMonth(S.getMonth()+w)){C=S.valueOf();r.push(C);s.push(this._formatValue(C))}}else{var P=1e3*m/l.TicksPerSecond,A=(S=b,h.getTime()-S.getTime());A>P&&(S=new Date(S.getTime()+Math.floor(A/P)*P));for(;S<=u&&P;S=new Date(S.getTime()+P)){if((C=S.valueOf()+A)>=h.valueOf()){r.push(C);s.push(this._formatValue(C))}}}};Axis.prototype._formatValue=function(e){if(this._isTimeAxis)return this._format?t.Globalize.format(new Date(e),this._format):t.Globalize.format(new Date(e),this._tfmt);if(this._format)return t.Globalize.format(e,this._format);var i=e==Math.round(e)?"n0":"n";return t.Globalize.format(e,i)};Axis.prototype._hitTest=function(t){return this._groupsPanel?this._groupsPanel.hitTest(t):void 0};Axis.prototype._formatAxisValue=function(e,i){void 0===i&&(i=void 0);if(this._isTimeAxis)return this._format?t.Globalize.format(new Date(e),this._format):t.Globalize.format(new Date(e),this._tfmt);if(this._format)return t.Globalize.format(e,this._format);if(t.isNumber(e)){var n=this._findFormat(e,i);return t.Globalize.format(e,n)}return e};Axis.prototype._findFormat=function(t,e){void 0===e&&(e=void 0);var i=t==Math.round(t)?"n0":"n";void 0!==e&&(i+=e.toString());if("n"==i){var n=t.toFixed(14),r=n.search(".");if(r>=0){e=1;for(var s=n.length-1;s>=r;s--)if("0"!=n[s]){e=s-r-1;break}i+=e.toString()}}return i};Axis.prototype._calcMajorUnit=function(){var e=this._majorUnit;if(!t.isNumber(e)){var n=this._actualMax-this._actualMin,r=this._nicePrecision(n),s=n/this._getAnnoNumber(this.axisType==i.Y);(e=this._niceNumber(2*s,-r,!0))<s&&(e=this._niceNumber(s,1-r,!1));e<s&&(e=this._niceTickNumber(s))}return e};Axis.prototype._getAnnoNumber=function(t){var e=t?this._annoSizeBase.height:this._annoSize.width,i=t?this._axrect.height:this._axrect.width;if(e>0&&i>0){var n=Math.floor(i/(e+6));n<=0&&(n=1);return n}return 10};Axis.prototype._nicePrecision=function(e){if(!t.isNumber(e)||e<=0)return 0;var i,n=Math.log(e)/Math.LN10;i=n>=0?Math.floor(n):Math.ceil(n);var r=e/Math.pow(10,i);if(r<3){i=1-i;(r=e/Math.pow(10,i))<3&&(i+=1)}return i};Axis.prototype._niceTickNumber=function(t){if(0==t)return t;t<0&&(t=-t);var e=Math.log(t)/Math.LN10,i=Math.floor(e),n=t/Math.pow(10,i),r=10;n<=1?r=1:n<=2?r=2:n<=5&&(r=5);return r*Math.pow(10,i)};Axis.prototype._niceNumber=function(t,e,i){if(0==t)return t;t<0&&(t=-t);var n=t/Math.pow(10,e),r=10;i?n<1.5?r=1:n<3?r=2:n<4.5?r=4:n<7&&(r=5):n<=1?r=1:n<=2?r=2:n<=5&&(r=5);return r*Math.pow(10,e)};Object.defineProperty(Axis.prototype,"_uniqueId",{get:function(){return this.__uniqueId},enumerable:!0,configurable:!0});Axis.MAX_MAJOR=1e3;Axis.MAX_MINOR=2e3;Axis._id=0;return Axis}();e.Axis=a;var o,h=function(t){__extends(AxisCollection,t);function AxisCollection(){return null!==t&&t.apply(this,arguments)||this}AxisCollection.prototype.getAxis=function(t){var e=this.indexOf(t);return e>-1?this[e]:null};AxisCollection.prototype.indexOf=function(t){for(var e=0;e<this.length;e++)if(this[e].name==t)return e;return-1};return AxisCollection}(t.collections.ObservableArray);e.AxisCollection=h;!function(t){t[t.tickf7=-7]="tickf7";t[t.tickf6=-6]="tickf6";t[t.tickf5=-5]="tickf5";t[t.tickf4=-4]="tickf4";t[t.tickf3=-3]="tickf3";t[t.tickf2=-2]="tickf2";t[t.tickf1=-1]="tickf1";t[t.second=1]="second";t[t.minute=60]="minute";t[t.hour=3600]="hour";t[t.day=86400]="day";t[t.week=604800]="week";t[t.month=2678400]="month";t[t.year=31536e3]="year";t[t.maxtime=Number.MAX_VALUE]="maxtime"}(o||(o={}));var l=function(){function _timeSpan(t){this.ticks=t}Object.defineProperty(_timeSpan.prototype,"Ticks",{get:function(){return this.ticks},enumerable:!0,configurable:!0});Object.defineProperty(_timeSpan.prototype,"TotalSeconds",{get:function(){return this.ticks/1e7},enumerable:!0,configurable:!0});Object.defineProperty(_timeSpan.prototype,"TotalDays",{get:function(){return this.ticks/1e7/86400},enumerable:!0,configurable:!0});_timeSpan.fromSeconds=function(t){return new _timeSpan(1e7*t)};_timeSpan.fromDays=function(t){return new _timeSpan(1e7*t*24*60*60)};_timeSpan.TicksPerSecond=1e7;return _timeSpan}(),_=function(){function _timeHelper(i){t.isDate(i)?this.init(i):t.isNumber(i)&&this.init(e.FlexChartCore._fromOADate(i))}_timeHelper.prototype.init=function(t){this.year=t.getFullYear();this.month=t.getMonth();this.day=t.getDate();this.hour=t.getHours();this.minute=t.getMinutes();this.second=t.getSeconds()};_timeHelper.prototype.getTimeAsDateTime=function(){if(this.hour>=24){this.hour-=24;this.day+=1}if(this.month<0){-1-this.day;this.month=1}else if(this.month>11){this.month-12;this.month=11}if(this.day<1){-1-this.day;this.day=1}else if(this.day>28&&1==this.month){this.day-28;this.day=28}else if(this.day>30&&(3==this.month||5==this.month||8==this.month||10==this.month)){this.day-30;this.day=30}else if(this.day>31){this.day-31;this.day=31}if(this.second>59){this.second-59;this.second=59}if(this.minute>59){this.minute-59;this.minute=59}return new Date(this.year,this.month,this.day,this.hour,this.minute,this.second)};_timeHelper.prototype.getTimeAsDouble=function(){return this.getTimeAsDateTime().valueOf()};_timeHelper.tround=function(t,e,i){var n=t/e*e;n-=n%1;i&&n!=t&&(n+=e-=e%1);return n};_timeHelper.RoundTime=function(t,e,i){var n=24*e*60*60;if(n>0){var r=new _timeHelper(t);if(n<o.minute){r.second=this.tround(r.second,n,i);return r.getTimeAsDouble()}r.second=0;if(n<o.hour){n/=o.minute;r.minute=this.tround(r.minute,n,i);return r.getTimeAsDouble()}r.minute=0;if(n<o.day){n/=o.hour;r.hour=this.tround(r.hour,n,i);return r.getTimeAsDouble()}r.hour=0;if(n<o.month){n/=o.day;r.day=this.tround(r.day,n,i);return r.getTimeAsDouble()}r.day=1;if(n<o.year){n/=o.month;1!=r.month&&(r.month=this.tround(r.month,n,i));return r.getTimeAsDouble()}r.month=1;n/=o.year;r.year=this.tround(r.year,n,i);return r.getTimeAsDouble()}var s=t,a=s-n,h=a/e*e;i&&h!=a&&(h+=e);return s=n+h};_timeHelper.TimeSpanFromTmInc=function(t){var e=l.fromSeconds(1);if(t!=o.maxtime)if(t>o.tickf1)e=l.fromSeconds(t);else{var i=t,n=1;i+=7;for(;i>0;){n*=10;i--}e=new l(n)}return e};_timeHelper.manualTimeInc=function(t){var e=o.second;if(null==t||0==t.length)return e;var i=t.indexOf("f");if(i>=0){var n=-1;if(i>0&&"%"==t.substr(i-1,1))n=-1;else for(var r=1;r<6&&!(i+r>=t.length);r++){if("f"!=t.substr(i+r,1))break;n--}e=n}else t.indexOf("s")>=0?e=o.second:t.indexOf("m")>=0?e=o.minute:t.indexOf("h")>=0||t.indexOf("H")?e=o.hour:t.indexOf("d")>=0?e=o.day:t.indexOf("M")>=0?e=o.month:t.indexOf("y")>=0&&(e=o.year);return e};_timeHelper.getNiceInc=function(t,e,i){for(var n=0;n<t.length;n++){var r=t[n]*i;if(e<=r)return r}return 0};_timeHelper.NiceTimeSpan=function(t,e){var i=o.second;null!=e&&e.length>0&&(i=_timeHelper.manualTimeInc(e));var n=0,r=0;if(i<o.second&&t.TotalSeconds<10){n=t.Ticks;r=_timeHelper.TimeSpanFromTmInc(i).Ticks;for(;n>10*r;)r*=10;var s=r;n>s&&(s*=2);n>s&&(s=5*r);n>s&&(s=10*r);return new l(s)}if(0==(n=Math.ceil(t.TotalSeconds)))return _timeHelper.TimeSpanFromTmInc(i);r=1;if(i<o.minute){if(n<o.minute&&0!=(r=_timeHelper.getNiceInc([1,2,5,10,15,30],n,i)))return l.fromSeconds(r);i=o.minute}if(i<o.hour){if(n<o.hour&&0!=(r=_timeHelper.getNiceInc([1,2,5,10,15,30],n,i)))return l.fromSeconds(r);i=o.hour}if(i<o.day){if(n<o.day&&0!=(r=_timeHelper.getNiceInc([1,3,6,12],n,i)))return l.fromSeconds(r);i=o.day}if(i<o.month){if(n<o.month&&0!=(r=_timeHelper.getNiceInc([1,2,7,14],n,i)))return l.fromSeconds(r);i=o.month}if(i<o.year){if(n<o.year&&0!=(r=_timeHelper.getNiceInc([1,2,3,4,6],n,i)))return l.fromSeconds(r);i=o.year}n<(r=100*o.year)&&0==(r=_timeHelper.getNiceInc([1,2,5,10,20,50],n,i))&&(r=100*o.year);return l.fromSeconds(r)};_timeHelper.NiceTimeUnit=function(t,e){var i=l.fromDays(t);return(i=_timeHelper.NiceTimeSpan(i,e)).TotalDays};_timeHelper.GetTimeDefaultFormat=function(e,i){if(!t.isNumber(e)||!t.isNumber(i))return"";var n="s",r=l.fromSeconds(.001*(e-i)),s=r.TotalSeconds;if(s>=o.year)n="yyyy";else if(s>=o.month)n="MMM yyyy";else if(s>=o.day)n="MMM d";else if(s>=o.hour)n="ddd H:mm";else if(s>=.5*o.hour)n="H:mm";else if(s>=1)n="H:mm:ss";else if(s>0){var a=r.Ticks;n="s.";for(;a<l.TicksPerSecond;){a*=10;n+="f"}}return n};_timeHelper.secInYear=86400;return _timeHelper}()}(t.chart||(t.chart={}))}(wijmo||(wijmo={}));!function(t){!function(e){var i=function(){function _AxisLabel(t,e,i){this._start=e-.5;this._end=e+i-.5;this._value=e+.5*(i-1);this._label=t}Object.defineProperty(_AxisLabel.prototype,"value",{get:function(){return this._value},enumerable:!0,configurable:!0});Object.defineProperty(_AxisLabel.prototype,"label",{get:function(){return this._label},enumerable:!0,configurable:!0});Object.defineProperty(_AxisLabel.prototype,"start",{get:function(){return this._start},enumerable:!0,configurable:!0});Object.defineProperty(_AxisLabel.prototype,"end",{get:function(){return this._end},enumerable:!0,configurable:!0});Object.defineProperty(_AxisLabel.prototype,"rect",{get:function(){return this._rect},set:function(t){this._rect=t},enumerable:!0,configurable:!0});return _AxisLabel}();e._AxisLabel=i;var n=function(){function _AxisGroup(e,i){this._labels=[];this._index=0;this._size=new t.Size;this._level=0;this._level=e;this._last=i}Object.defineProperty(_AxisGroup.prototype,"labels",{get:function(){return this._labels},enumerable:!0,configurable:!0});Object.defineProperty(_AxisGroup.prototype,"index",{get:function(){return this._index},set:function(t){this._index=t},enumerable:!0,configurable:!0});Object.defineProperty(_AxisGroup.prototype,"height",{get:function(){return this._size.height},set:function(t){this._size.height=t},enumerable:!0,configurable:!0});Object.defineProperty(_AxisGroup.prototype,"width",{get:function(){return this._size.width},set:function(t){this._size.width=t},enumerable:!0,configurable:!0});Object.defineProperty(_AxisGroup.prototype,"level",{get:function(){return this._level},enumerable:!0,configurable:!0});_AxisGroup.prototype.getSize=function(e,i,n){var r=this;this._size=new t.Size;this.labels.forEach((function(t){var s=e.measureString(t.label,i,n);r._size.width=Math.max(r._size.width,s.width);r._size.height=Math.max(r._size.height,s.height)}));return this._size};_AxisGroup.prototype.render=function(i,n,r,s,a){var o=this,h=n._getPosition(),l=n.axisType===e.AxisType.X;this.labels.forEach((function(_){var u,c=_.label,f=!1,p=l?Math.abs(n.convert(_.end)-n.convert(_.start)):o.width,d=i.measureString(c,s,a);if(d.width>p){c=o._trimText(c,d.width,p);f=!0}switch(h){case e.Position.Bottom:u=e.FlexChartCore._renderText(i,c,new t.Point(n.convert(_.value),r),1,2,s,a);break;case e.Position.Top:u=e.FlexChartCore._renderText(i,c,new t.Point(n.convert(_.value),r),1,0,s,a);break;case e.Position.Left:u=e.FlexChartCore._renderText(i,c,new t.Point(r+o._size.width,n.convert(_.value)),2,1,s,a);break;case e.Position.Right:u=e.FlexChartCore._renderText(i,c,new t.Point(r-o._size.width,n.convert(_.value)),0,1,s,a)}_.rect=f?u:void 0}));h===e.Position.Bottom||h===e.Position.Top?this.renderLinesX(i,n,r):this.renderLinesY(i,n,r)};_AxisGroup.prototype.hitTest=function(t){for(var e,i=0;i<this.labels.length;i++){var n=this.labels[i];if(n.rect&&n.rect.contains(t)){e=n;break}}return e};_AxisGroup.prototype.renderLinesX=function(i,n,r){var s=this,a=n.groupsOptions.display===e.AxisGroupsDisplay.ShowGrid,o=n._getPosition(),h=4,l=o===e.Position.Bottom?1:-1,_=r-l*(this.height+h);h*=l;if(a){var u=n.convert(n.actualMin),c=n.convert(n.actualMax);this.drawLine(i,u,r+h,c,r+h);this.drawLine(i,u,_,c,_);var f=n.convert(this.labels[0].start),p=0===this.level?1===l?n._axrect.top:n._axrect.bottom:_;this.drawLine(i,f,r+h,f,p);this.labels.forEach((function(e){var a=new t.Point(n.convert(e.end),r);s._last?s.drawLine(i,a.x,a.y+h,a.x,1===l?n._axrect.top:n._axrect.bottom):s.drawLine(i,a.x,a.y+h,a.x,p)}))}else this.labels.forEach((function(t){var e=n.convert(t.start)+Math.abs(h),r=n.convert(t.end)-Math.abs(h);s.drawLine(i,e,_,r,_);if(n.labels||!s._last){s.drawLine(i,e,_,e,_-2*h);s.drawLine(i,r,_,r,_-2*h)}var a=n.convert(t.value);s.drawLine(i,a,_,a,_+h)}))};_AxisGroup.prototype.renderLinesY=function(t,i,n){var r=this,s=i.groupsOptions.display===e.AxisGroupsDisplay.ShowGrid,a=i._getPosition(),o=4,h=a===e.Position.Left?-1:1,l=n-h*(this.width+o);o*=h;if(s){var _=i.convert(i.actualMin),u=i.convert(i.actualMax);this.drawLine(t,n+o,_,n+o,u);this.drawLine(t,l,_,l,u);var c=i.convert(this.labels[0].start),f=0===this.level?1===h?i._axrect.left:i._axrect.right:l;this.drawLine(t,n+o,c,f,c);this.labels.forEach((function(e){var s=i.convert(e.end);r._last?r.drawLine(t,n+o,s,1===h?i._axrect.left:i._axrect.right,s):r.drawLine(t,n+o,s,f,s)}))}else this.labels.forEach((function(e){var n=i.convert(e.start)-Math.abs(o),s=i.convert(e.end)+Math.abs(o);r.drawLine(t,l,n,l,s);r.drawLine(t,l,n,l-2*o,n);r.drawLine(t,l,s,l-2*o,s);var a=i.convert(e.value);r.drawLine(t,l,a,l+o,a)}))};_AxisGroup.prototype.drawLine=function(t,i,n,r,s){t.drawLine(i,n,r,s,e.FlexChartCore._CSS_LINE)};_AxisGroup.prototype._trimText=function(t,e,i){var n="",r=t.length,s=Math.floor((1-(e-i)/e)*r);t.length>0&&(n=t[0]+(s>1?t.substring(1,s-1)+"..":""));return n};return _AxisGroup}(),r=function(){function _AxisGroups(t){this._groups=[];this._margin=8;this._axis=t}Object.defineProperty(_AxisGroups.prototype,"groups",{get:function(){return this._groups},enumerable:!0,configurable:!0});Object.defineProperty(_AxisGroups.prototype,"axis",{get:function(){return this._axis},enumerable:!0,configurable:!0});_AxisGroups.prototype.createGroups=function(){var t=this;this._groups=[];var e=this.axis._chart.collectionView;e&&e.groups&&e.groups.length>0&&e.groups.forEach((function(e){return t.createGroup(e,0)}))};_AxisGroups.prototype.createGroup=function(t,e){var r=this;this.groups[e]||(this.groups[e]=new n(e,t.isBottomLevel));var s=this.groups[e],a=t.items;s.labels.push(new i(t.name,s.index,a.length));s.index+=a.length;t.groups.forEach((function(t){return r.createGroup(t,e+1)}))};_AxisGroups.prototype.layoutGroups=function(t){this.groups.forEach((function(e){e.width*=t}))};_AxisGroups.prototype.getHeight=function(t){var i=this,n=this._axis._getPosition(),r=0;n===e.Position.Bottom||n===e.Position.Top?this.groups.forEach((function(n){return r+=i._margin+n.getSize(t,e.FlexChartCore._CSS_LABEL,i._axis._groupClass).height})):this.groups.forEach((function(n){return r+=i._margin+n.getSize(t,e.FlexChartCore._CSS_LABEL,i._axis._groupClass).width}));if(r>0&&this._axis.labels){var s=this.groups.length;r+=this._margin*s}this._height=r;return r};_AxisGroups.prototype.layout=function(){var t=this._axis,i=t._axrect;if(t.axisType===e.AxisType.Y){var n=(t.labels?t._annoSize.width+t._TICK_LABEL_DISTANCE+12:4)+t._getTitleSize().height,r=i.width-n;if(r<this._height){var s=this._margin*this._groups.length;this.layoutGroups((r-s)/(this._height-s));this._height=r}}};_AxisGroups.prototype.render=function(t){var i=this,n=this._axis._getPosition(),r=this._axis._getTitleSize();if(n===e.Position.Bottom){var s=this.axis._axrect.bottom-r.height-this._margin;this.groups.forEach((function(n){n.render(t,i.axis,s,e.FlexChartCore._CSS_LABEL,i._axis._groupClass);s-=n.height+i._margin}))}else if(n===e.Position.Top){var a=this.axis._axrect.top+r.height+this._margin;this.groups.forEach((function(n){n.render(t,i.axis,a,e.FlexChartCore._CSS_LABEL,i._axis._groupClass);a+=n.height+i._margin}))}else if(n===e.Position.Left){var o=this.axis._axrect.left+r.height+this._margin;this.groups.forEach((function(n){n.render(t,i.axis,o,e.FlexChartCore._CSS_LABEL,i._axis._groupClass);o+=n.width+i._margin}))}else if(n===e.Position.Right){var h=this.axis._axrect.right-r.height-this._margin;this.groups.forEach((function(n){n.render(t,i.axis,h,e.FlexChartCore._CSS_LABEL,i._axis._groupClass);h-=n.width+i._margin}))}};_AxisGroups.prototype.hitTest=function(t){for(var e,i=0;i<this._groups.length;i++){var n=this._groups[i].hitTest(t);if(n){e=n;break}}return e};return _AxisGroups}();e._AxisGroups=r}(t.chart||(t.chart={}))}(wijmo||(wijmo={}));!function(t){!function(e){"use strict";var i,n=function(){function _DataPoint(t,e,i,n){this._seriesIndex=t;this._pointIndex=e;this._dataX=i;this._dataY=n}Object.defineProperty(_DataPoint.prototype,"seriesIndex",{get:function(){return this._seriesIndex},enumerable:!0,configurable:!0});Object.defineProperty(_DataPoint.prototype,"pointIndex",{get:function(){return this._pointIndex},enumerable:!0,configurable:!0});Object.defineProperty(_DataPoint.prototype,"dataX",{get:function(){return this._dataX},set:function(t){t!==this._dataX&&(this._dataX=t)},enumerable:!0,configurable:!0});Object.defineProperty(_DataPoint.prototype,"dataY",{get:function(){return this._dataY},set:function(t){t!==this._dataY&&(this._dataY=t)},enumerable:!0,configurable:!0});return _DataPoint}();e._DataPoint=n;!function(t){t[t.X=0]="X";t[t.Y=1]="Y";t[t.XY=2]="XY"}(i=e._MeasureOption||(e._MeasureOption={}));var r=function(){function _RectArea(t){this._rect=t}Object.defineProperty(_RectArea.prototype,"rect",{get:function(){return this._rect},enumerable:!0,configurable:!0});_RectArea.prototype.contains=function(t){var e=this._rect;return t.x>=e.left&&t.x<=e.right&&t.y>=e.top&&t.y<=e.bottom};_RectArea.prototype.pointDistance=function(t,e,n){var r=e.x-t.x,s=e.y-t.y;return n==i.X?Math.abs(r):n==i.Y?Math.abs(s):Math.sqrt(r*r+s*s)};_RectArea.prototype.distance=function(e){var n=i.XY;isNaN(e.x)||null===e.x?n=i.Y:(isNaN(e.y)||null===e.y)&&(n=i.X);var r=this._rect;return e.x<r.left?e.y<r.top?this.pointDistance(e,new t.Point(r.left,r.top),n):e.y>r.bottom?this.pointDistance(e,new t.Point(r.left,r.bottom),n):n==i.Y?0:r.left-e.x:e.x>r.right?e.y<r.top?this.pointDistance(e,new t.Point(r.right,r.top),n):e.y>r.bottom?this.pointDistance(e,new t.Point(r.right,r.bottom),n):n==i.Y?0:e.x-r.right:n==i.X?0:e.y<r.top?r.top-e.y:e.y>r.bottom?e.y-r.bottom:0};return _RectArea}();e._RectArea=r;var s=function(){function _CircleArea(t,e){this._center=t;this.setRadius(e)}_CircleArea.prototype.setRadius=function(t){this._rad=t;this._rad2=t*t};Object.defineProperty(_CircleArea.prototype,"center",{get:function(){return this._center},enumerable:!0,configurable:!0});_CircleArea.prototype.contains=function(t){var e=this._center.x-t.x,i=this._center.y-t.y;return e*e+i*i<=this._rad2};_CircleArea.prototype.distance=function(t){var e=isNaN(t.x)?0:this._center.x-t.x,i=isNaN(t.y)?0:this._center.y-t.y,n=e*e+i*i;return n<=this._rad2?0:Math.sqrt(n)-this._rad};return _CircleArea}();e._CircleArea=s;var a=function(){function _LinesArea(t,e){this._x=[];this._y=[];this._x=t;this._y=e}_LinesArea.prototype.contains=function(t){return!1};_LinesArea.prototype.distance=function(i){for(var n=NaN,r=0;r<this._x.length-1;r++){var s=e.FlexChartCore._dist(i,new t.Point(this._x[r],this._y[r]),new t.Point(this._x[r+1],this._y[r+1]));(isNaN(n)||s<n)&&(n=s)}return n};return _LinesArea}();e._LinesArea=a;var o=function o(){};e._HitResult=o;var h=function(){function _HitTester(t){this._map={};this._chart=t}_HitTester.prototype.add=function(t,e){if(this._map[e]){t.tag||(t.tag=new n(e,NaN,NaN,NaN));this._map[e].push(t)}};_HitTester.prototype.clear=function(){this._map={};for(var t=this._chart.series,i=0;i<t.length;i++)t[i].hitTest===e.Series.prototype.hitTest&&(this._map[i]=new Array)};_HitTester.prototype.hitTest=function(e,i){void 0===i&&(i=!1);for(var n=null,r=Number.MAX_VALUE,s=this._chart.series.length-1;s>=0;s--){var h=this._map[s];if(h){for(var l=h.length-1;l>=0;l--){var _=h[l];if(!t.tryCast(_,a)||i){var u=_.distance(e);if(u<r){n=_;if(0==(r=u))break}}}if(0==r)break}}if(n){var c=new o;c.area=n;c.distance=r;return c}return null};_HitTester.prototype.hitTestSeries=function(t,e){var i=null,n=Number.MAX_VALUE,r=this._map[e];if(r)for(var s=r.length-1;s>=0;s--){var a=r[s],h=a.distance(t);if(h<n){i=a;if(0==(n=h))break}}if(i){var l=new o;l.area=i;l.distance=n;return l}return null};return _HitTester}();e._HitTester=h}(t.chart||(t.chart={}))}(wijmo||(wijmo={}));!function(t){!function(e){"use strict";var i;!function(t){t[t.PlotArea=0]="PlotArea";t[t.AxisX=1]="AxisX";t[t.AxisY=2]="AxisY";t[t.ChartArea=3]="ChartArea";t[t.Legend=4]="Legend";t[t.Header=5]="Header";t[t.Footer=6]="Footer";t[t.Series=7]="Series";t[t.SeriesSymbol=8]="SeriesSymbol";t[t.DataLabel=9]="DataLabel";t[t.None=10]="None"}(i=e.ChartElement||(e.ChartElement={}));var n=function(){function HitTestInfo(t,e,n){this._pointIndex=null;this._chartElement=i.None;this._chart=t;this._pt=e;this._chartElement=n}Object.defineProperty(HitTestInfo.prototype,"chart",{get:function(){return this._chart},enumerable:!0,configurable:!0});Object.defineProperty(HitTestInfo.prototype,"point",{get:function(){return this._pt},enumerable:!0,configurable:!0});Object.defineProperty(HitTestInfo.prototype,"series",{get:function(){return this._series},enumerable:!0,configurable:!0});Object.defineProperty(HitTestInfo.prototype,"pointIndex",{get:function(){return this._pointIndex},enumerable:!0,configurable:!0});Object.defineProperty(HitTestInfo.prototype,"chartElement",{get:function(){return this._chartElement},enumerable:!0,configurable:!0});Object.defineProperty(HitTestInfo.prototype,"distance",{get:function(){return this._dist},enumerable:!0,configurable:!0});Object.defineProperty(HitTestInfo.prototype,"item",{get:function(){if(null==this._item&&null!==this.pointIndex)if(null!=this.series)this._item=this.series._getItem(this.pointIndex);else{var t=this._chart._getHitTestItem(this.pointIndex);t&&(this._item=t)}return this._item},enumerable:!0,configurable:!0});Object.defineProperty(HitTestInfo.prototype,"x",{get:function(){void 0===this._x&&(this._x=this._getValue(1,!1));return this._x},enumerable:!0,configurable:!0});Object.defineProperty(HitTestInfo.prototype,"y",{get:function(){void 0===this._y&&(this._y=this._getValue(0,!1));return this._y},enumerable:!0,configurable:!0});Object.defineProperty(HitTestInfo.prototype,"value",{get:function(){var t=this._chart._getHitTestValue(this.pointIndex,this._groupIndex);return null!=t?t:this.series&&null!=this.series._getValue?this.series._getValue(this.pointIndex):this.y},enumerable:!0,configurable:!0});Object.defineProperty(HitTestInfo.prototype,"name",{get:function(){if(void 0===this._name){var t=this._chart._getHitTestLabel(this.pointIndex);return null==t?this.series.name:t.toString()}return this._name},enumerable:!0,configurable:!0});Object.defineProperty(HitTestInfo.prototype,"groupIndex",{get:function(){return this._groupIndex},enumerable:!0,configurable:!0});Object.defineProperty(HitTestInfo.prototype,"_xfmt",{get:function(){void 0===this.__xfmt&&(this.__xfmt=this._getValue(1,!0));return this.__xfmt},enumerable:!0,configurable:!0});Object.defineProperty(HitTestInfo.prototype,"_yfmt",{get:function(){void 0===this.__yfmt&&(this.__yfmt=this._getValue(0,!0));return this.__yfmt},enumerable:!0,configurable:!0});HitTestInfo.prototype._setData=function(t,e){this._series=t;this._pointIndex=e};HitTestInfo.prototype._setDataGroup=function(t,e){this._groupIndex=t;this._pointIndex=e};HitTestInfo.prototype._setName=function(t){this._name=t;t&&(this._dist=0)};HitTestInfo.prototype._setDataPoint=function(i){if(i=t.asType(i,e._DataPoint,!0)){this._pointIndex=i.pointIndex;var n=t.asType(this._chart,e.FlexChartCore,!0),r=i.seriesIndex;null!==r&&r>=0&&r<n.series.length&&(this._series=n.series[r]);null!=i.item&&(this._item=i.item);null!=i.x&&(this._x=i.x);null!=i.y&&(this._y=i.y);null!=i.xfmt&&(this.__xfmt=i.xfmt);null!=i.yfmt&&(this.__yfmt=i.yfmt);null!=i.name&&(this._name=i.name)}};HitTestInfo.prototype._getValueFmt=function(){var e=this.value;if(null!=e){if(null==this.series){var i=e==Math.round(e)?"{val:n0}":"{val:n}";return t.format(i,{val:e})}e=this._chart._isRotated()?this.ax._formatValue(e):this.ay._formatValue(e)}return e};HitTestInfo.prototype._getValue=function(e,i){var n=this._chart._getHitTestValue(this.pointIndex,this.groupIndex);if(null!==n)return n;var r=null,s=this._chart,a=this.pointIndex,o=s._isRotated();if(null!==this.series&&null!==a){var h=this.series.getValues(e),l=this.series.getDataType(e);if(h&&this.pointIndex<h.length){r=h[this.pointIndex];l!=t.DataType.Date||i||(r=new Date(r))}else if(1==e)if(s._xlabels&&s._xlabels.length>0&&a<s._xlabels.length)r=s._xlabels[a];else if(s._xvals&&a<s._xvals.length){r=s._xvals[a];s._xDataType!=t.DataType.Date||i||(r=new Date(r))}}null!==r&&i&&(o?0==e?r=this.ax._formatValue(r):1==e&&(r=this.ay._formatValue(r)):0==e?r=this.ay._formatValue(r):1==e&&(r=this.ax._formatValue(r)));return r};Object.defineProperty(HitTestInfo.prototype,"ax",{get:function(){return this.series.axisX?this.series.axisX:this._chart.axisX},enumerable:!0,configurable:!0});Object.defineProperty(HitTestInfo.prototype,"ay",{get:function(){return this.series.axisY?this.series.axisY:this._chart.axisY},enumerable:!0,configurable:!0});return HitTestInfo}();e.HitTestInfo=n}(t.chart||(t.chart={}))}(wijmo||(wijmo={}));!function(t){!function(e){"use strict";var i,n;!function(t){t[t.Visible=0]="Visible";t[t.Plot=1]="Plot";t[t.Legend=2]="Legend";t[t.Hidden=3]="Hidden"}(i=e.SeriesVisibility||(e.SeriesVisibility={}));!function(t){t[t.Dot=0]="Dot";t[t.Box=1]="Box"}(n=e.Marker||(e.Marker={}));var r=function r(){};e.DataArray=r;var s=function(e){__extends(SeriesEventArgs,e);function SeriesEventArgs(i){var n=e.call(this)||this;n._series=t.asType(i,a);return n}Object.defineProperty(SeriesEventArgs.prototype,"series",{get:function(){return this._series},enumerable:!0,configurable:!0});return SeriesEventArgs}(t.EventArgs);e.SeriesEventArgs=s;var a=function(){function SeriesBase(e){this._altStyle=null;this._symbolMarker=n.Dot;this._visibility=i.Visible;this._interpolateNulls=null;this._cache={};this.rendering=new t.Event;this.rendered=new t.Event;this.initialize(e)}Object.defineProperty(SeriesBase.prototype,"interpolateNulls",{get:function(){return null==this._interpolateNulls?this._chart&&this._chart.interpolateNulls:this._interpolateNulls},set:function(e){if(e!=this._interpolateNulls){this._interpolateNulls=t.asBoolean(e,!0);this._invalidate()}},enumerable:!0,configurable:!0});Object.defineProperty(SeriesBase.prototype,"style",{get:function(){return this._style},set:function(t){if(t!=this._style){this._style=t;this._invalidate()}},enumerable:!0,configurable:!0});Object.defineProperty(SeriesBase.prototype,"altStyle",{get:function(){return this._altStyle},set:function(t){if(t!=this._altStyle){this._altStyle=t;this._invalidate()}},enumerable:!0,configurable:!0});Object.defineProperty(SeriesBase.prototype,"symbolStyle",{get:function(){return this._symbolStyle},set:function(t){if(t!=this._symbolStyle){this._symbolStyle=t;this._invalidate()}},enumerable:!0,configurable:!0});Object.defineProperty(SeriesBase.prototype,"symbolSize",{get:function(){return this._symbolSize},set:function(e){if(e!=this._symbolSize){this._symbolSize=t.asNumber(e,!0,!0);this._invalidate()}},enumerable:!0,configurable:!0});Object.defineProperty(SeriesBase.prototype,"symbolMarker",{get:function(){return this._symbolMarker},set:function(e){if((e=t.asEnum(e,n,!0))!=this._symbolMarker){this._symbolMarker=e;this._invalidate()}},enumerable:!0,configurable:!0});Object.defineProperty(SeriesBase.prototype,"binding",{get:function(){return this._binding?this._binding:this._chart?this._chart.binding:null},set:function(e){if(e!=this._binding){this._binding=t.asString(e,!0);this._clearValues();this._invalidate()}},enumerable:!0,configurable:!0});Object.defineProperty(SeriesBase.prototype,"bindingX",{get:function(){return this._bindingX?this._bindingX:this._chart?this._chart.bindingX:null},set:function(e){if(e!=this._bindingX){this._bindingX=t.asString(e,!0);this._clearValues();this._invalidate()}},enumerable:!0,configurable:!0});Object.defineProperty(SeriesBase.prototype,"name",{get:function(){return this._name},set:function(t){this._name=t},enumerable:!0,configurable:!0});Object.defineProperty(SeriesBase.prototype,"itemsSource",{get:function(){return this._itemsSource},set:function(e){if(e!=this._itemsSource){if(this._cv){this._cv.currentChanged.removeHandler(this._cvCurrentChanged,this);this._cv.collectionChanged.removeHandler(this._cvCollectionChanged,this);this._cv=null}this._itemsSource=e;this._cv=t.asCollectionView(e);if(null!=this._cv){this._cv.currentChanged.addHandler(this._cvCurrentChanged,this);this._cv.collectionChanged.addHandler(this._cvCollectionChanged,this)}this._clearValues();this._itemsSource=e;this._invalidate()}},enumerable:!0,configurable:!0});Object.defineProperty(SeriesBase.prototype,"collectionView",{get:function(){return this._cv?this._cv:this._chart?this._chart.collectionView:null},enumerable:!0,configurable:!0});Object.defineProperty(SeriesBase.prototype,"chart",{get:function(){return this._chart},enumerable:!0,configurable:!0});Object.defineProperty(SeriesBase.prototype,"hostElement",{get:function(){return this._hostElement},enumerable:!0,configurable:!0});Object.defineProperty(SeriesBase.prototype,"legendElement",{get:function(){return this._legendElement},enumerable:!0,configurable:!0});Object.defineProperty(SeriesBase.prototype,"cssClass",{get:function(){return this._cssClass},set:function(e){this._cssClass=t.asString(e,!0)},enumerable:!0,configurable:!0});Object.defineProperty(SeriesBase.prototype,"visibility",{get:function(){return this._visibility},set:function(e){if((e=t.asEnum(e,i))!=this._visibility){this._visibility=e;this._clearValues();this._invalidate();this._chart&&this._chart.onSeriesVisibilityChanged(new s(this))}},enumerable:!0,configurable:!0});Object.defineProperty(SeriesBase.prototype,"tooltipContent",{get:function(){return this._tooltipContent},set:function(t){t!=this._tooltipContent&&(this._tooltipContent=t)},enumerable:!0,configurable:!0});Object.defineProperty(SeriesBase.prototype,"itemFormatter",{get:function(){return this._itemFormatter},set:function(e){if(e!=this._itemFormatter){this._itemFormatter=t.asFunction(e);this._invalidate()}},enumerable:!0,configurable:!0});SeriesBase.prototype.hitTest=function(e,i){t.isNumber(e)&&t.isNumber(i)?e=new t.Point(e,i):e instanceof MouseEvent&&(e=new t.Point(e.pageX,e.pageY));t.asType(e,t.Point);return this._chart?this._chart._hitTestSeries(e,this._chart.series.indexOf(this)):null};SeriesBase.prototype.getPlotElement=function(t){if(this.hostElement&&t<this._pointIndexes.length){var e=this._pointIndexes[t];if(e<this.hostElement.childNodes.length)return this.hostElement.childNodes[e]}return null};Object.defineProperty(SeriesBase.prototype,"axisX",{get:function(){return this._axisX},set:function(i){if(i!=this._axisX){this._axisX=t.asType(i,e.Axis,!0);if(this._axisX){var n=this._axisX._chart=this._chart;n&&-1==n.axes.indexOf(this._axisX)&&n.axes.push(this._axisX)}this._invalidate()}},enumerable:!0,configurable:!0});Object.defineProperty(SeriesBase.prototype,"axisY",{get:function(){return this._axisY},set:function(i){if(i!=this._axisY){this._axisY=t.asType(i,e.Axis,!0);if(this._axisY){var n=this._axisY._chart=this._chart;n&&-1==n.axes.indexOf(this._axisY)&&n.axes.push(this._axisY)}this._invalidate()}},enumerable:!0,configurable:!0});SeriesBase.prototype.initialize=function(e){t.copy(this,e)};SeriesBase.prototype.pointToData=function(e){t.asType(e,t.Point);(e=e.clone()).x=this._getAxisX().convertBack(e.x);e.y=this._getAxisY().convertBack(e.y);return e};SeriesBase.prototype.dataToPoint=function(e){t.asType(e,t.Point);(e=e.clone()).x=this._getAxisX().convert(e.x);e.y=this._getAxisY().convert(e.y);return e};SeriesBase.prototype.onRendering=function(t,i,n){var r=new e.SeriesRenderingEventArgs(t,i,n);this.rendering.raise(this,r);return r.cancel};SeriesBase.prototype.onRendered=function(t){this.rendered.raise(this,new e.RenderEventArgs(t))};Object.defineProperty(SeriesBase.prototype,"_chart",{get:function(){return this.__chart},set:function(t){t!==this.__chart&&(this.__chart=t)},enumerable:!0,configurable:!0});SeriesBase.prototype._getSymbolSize=function(){return null!=this.symbolSize?this.symbolSize:this.chart.symbolSize};Object.defineProperty(SeriesBase.prototype,"_plotter",{get:function(){this.chart&&!this.__plotter&&(this.__plotter=this.chart._getPlotter(this));return this.__plotter},set:function(t){t!=this.__plotter&&(this.__plotter=t)},enumerable:!0,configurable:!0});SeriesBase.prototype.getDataType=function(t){return 0==t?this._valueDataType:1==t?this._xvalueDataType:null};SeriesBase.prototype.getValues=function(t){if(0==t){if(null==this._values){this._valueDataType=null;if(null!=this._cv){var e=this._bindValues(this._cv.items,this._getBinding(0));this._values=e.values;this._valueDataType=e.dataType}else if(null!=this.binding&&null!=this._chart&&null!=this._chart.collectionView){e=this._bindValues(this._chart.collectionView.items,this._getBinding(0));this._values=e.values;this._valueDataType=e.dataType}}return this._values}if(1==t){if(null==this._xvalues){this._xvalueDataType=null;if(null!=this.bindingX)if(null!=this._cv){e=this._bindValues(this._cv.items,this.bindingX,!0);this._xvalueDataType=e.dataType;this._xvalues=e.values}else{if(null==this._bindingX)return null;if(null!=this._chart&&null!=this._chart.collectionView){e=this._bindValues(this._chart.collectionView.items,this.bindingX,!0);this._xvalueDataType=e.dataType;this._xvalues=e.values}}}return this._xvalues}return null};SeriesBase.prototype.drawLegendItem=function(t,i,n){var r=this._getChartType();null==r&&(r=this._chart._getChartType());var s=this._getLegendStyle(this.style);r===e.ChartType.Funnel?this._drawFunnelLegendItem(t,i,n,s,this.symbolStyle):this._drawLegendItem(t,i,r,this.name,s,this.symbolStyle)};SeriesBase.prototype._getLegendStyle=function(t){if(t){var e={};t.fill&&(e.fill=t.fill);t.stroke&&(e.stroke=t.stroke);return e}};SeriesBase.prototype.measureLegendItem=function(t,i){var n=this._getChartType();null==n&&(n=this._chart._getChartType());return n===e.ChartType.Funnel?this._measureLegendItem(t,this._getFunnelLegendName(i)):this._measureLegendItem(t,this.name)};SeriesBase.prototype.legendItemLength=function(){var t=this._getChartType();null==t&&(t=this._chart._getChartType());return t===e.ChartType.Funnel?this._chart._xlabels&&this._chart._xlabels.length?this._chart._xlabels.length:this._chart._xvals&&this._chart._xvals.length?this._chart._xvals.length:1:1};SeriesBase.prototype.getDataRect=function(t,e){return null};SeriesBase.prototype._getChartType=function(){return this._chartType};SeriesBase.prototype._clearValues=function(){this._values=null;this._xvalues=null;this.__plotter=null;this._cache={}};SeriesBase.prototype._getBinding=function(t){var e=this.binding;if(e){var i=this.chart?this.chart._bindingSeparator:",";if(i){var n=e.split(i);n&&n.length>t&&(e=n[t].trim())}}return e};SeriesBase.prototype._getBindingValues=function(t){if(this._cache[t])return this._cache[t];var e;null!=this._cv?e=this._cv.items:null!=this._chart&&null!=this._chart.collectionView&&(e=this._chart.collectionView.items);var i=this._bindValues(e,this._getBinding(t));return this._cache[t]=i.values};SeriesBase.prototype._getItem=function(t){var e=null,i=null;null!=this.itemsSource?i=null!=this._cv?this._cv.items:this.itemsSource:null!=this._chart.itemsSource&&(i=null!=this._chart.collectionView?this._chart.collectionView.items:this._chart.itemsSource);null!=i&&(e=i[t]);return e};SeriesBase.prototype._getLength=function(){var t=0,e=null;null!=this.itemsSource?e=null!=this._cv?this._cv.items:this.itemsSource:null!=this._chart.itemsSource&&(e=null!=this._chart.collectionView?this._chart.collectionView.items:this._chart.itemsSource);null!=e&&(t=e.length);return t};SeriesBase.prototype._setPointIndex=function(t,e){this._pointIndexes[t]=e};SeriesBase.prototype._getDataRect=function(){var e=this.getValues(0),i=this.getValues(1);if(e){for(var n=NaN,r=NaN,s=NaN,a=NaN,o=e.length,h=0;h<o;h++){var l=e[h];if(t.isArray(l)){var _=l,u=Math.min.apply(Math,_),c=Math.max.apply(Math,_);if(isNaN(r)){r=u;a=c}else{u<r&&(r=u);c>a&&(a=c)}}else isFinite(l)&&(isNaN(r)?r=a=l:l<r?r=l:l>a&&(a=l));if(i){var f=i[h];isFinite(f)&&(isNaN(n)?n=s=f:f<n?n=f:l>a&&(s=f))}}if(!i){n=0;s=o-1}if(!isNaN(r))return new t.Rect(n,r,s-n,a-r)}return null};SeriesBase.prototype._isCustomAxisX=function(){return!!this._axisX&&(!this._chart||this._axisX!=this.chart.axisX)};SeriesBase.prototype._isCustomAxisY=function(){return!!this._axisY&&(!this._chart||this._axisY!=this.chart.axisY)};SeriesBase.prototype._getAxisX=function(){var t=null;this.axisX?t=this.axisX:this.chart&&(t=this.chart.axisX);return t};SeriesBase.prototype._getAxisY=function(){var t=null;this.axisY?t=this.axisY:this.chart&&(t=this.chart.axisY);return t};SeriesBase.prototype._measureLegendItem=function(i,n){var r=new t.Size;r.width=SeriesBase._LEGEND_ITEM_WIDTH;r.height=SeriesBase._LEGEND_ITEM_HEIGHT;if(this._name){var s=i.measureString(n,e.FlexChartCore._CSS_LABEL,e.FlexChartCore._CSS_LEGEND);r.width+=s.width;r.height<s.height&&(r.height=s.height)}r.width+=3*SeriesBase._LEGEND_ITEM_MARGIN;r.height+=2*SeriesBase._LEGEND_ITEM_MARGIN;return r};SeriesBase.prototype._drawFunnelLegendItem=function(i,n,r,s,a){i.strokeWidth=1;var o=SeriesBase._LEGEND_ITEM_MARGIN,h=null,l=null;null===h&&(h=this._chart._getColorLight(r));null===l&&(l=this._chart._getColor(r));i.fill=h;i.stroke=l;var _=n.top+.5*n.height,u=SeriesBase._LEGEND_ITEM_WIDTH,c=SeriesBase._LEGEND_ITEM_HEIGHT,f=this._getFunnelLegendName(r);i.drawRect(n.left+o,_-.5*c,u,c,null,a||s);null!=f&&e.FlexChartCore._renderText(i,f,new t.Point(n.left+c+2*o,_),0,1,e.FlexChartCore._CSS_LABEL,e.FlexChartCore._CSS_LEGEND)};SeriesBase.prototype._getFunnelLegendName=function(i){var n,r=this._chart;if(r._xlabels&&r._xlabels.length&&i<r._xlabels.length)n=r._xlabels[i];else if(r._xvals&&r._xvals.length&&i<r._xvals.length){n=r._xvals[i];r._xDataType===t.DataType.Date&&(n=e.FlexChartCore._fromOADate(n))}null==n&&(n=this.name);return n.toString()};SeriesBase.prototype._drawLegendItem=function(i,r,s,a,o,h){i.strokeWidth=1;var l=SeriesBase._LEGEND_ITEM_MARGIN,_=null,u=null;null===_&&(_=this._chart._getColorLight(this._chart.series.indexOf(this)));null===u&&(u=this._chart._getColor(this._chart.series.indexOf(this)));i.fill=_;i.stroke=u;var c=r.top+.5*r.height,f=SeriesBase._LEGEND_ITEM_WIDTH,p=SeriesBase._LEGEND_ITEM_HEIGHT;switch(s){case e.ChartType.Area:case e.ChartType.SplineArea:case e.ChartType.StepArea:i.drawRect(r.left+l,c-.5*p,f,p,null,o);break;case e.ChartType.Bar:case e.ChartType.Column:i.drawRect(r.left+l,c-.5*p,f,p,null,h||o);break;case e.ChartType.Scatter:case e.ChartType.Bubble:var d=.3*f,g=.3*p;this.symbolMarker==n.Box?i.drawRect(r.left+l+.5*f-d,c-g,2*d,2*g,null,h||o):i.drawEllipse(r.left+.5*f+l,c,d,g,null,h||o);break;case e.ChartType.Line:case e.ChartType.Spline:case e.ChartType.Step:i.drawLine(r.left+l,c,r.left+f+l,c,null,o);break;case e.ChartType.LineSymbols:case e.ChartType.SplineSymbols:case e.ChartType.StepSymbols:d=.3*f,g=.3*p;this.symbolMarker==n.Box?i.drawRect(r.left+l+.5*f-d,c-g,2*d,2*g,null,h||o):i.drawEllipse(r.left+.5*f+l,c,d,g,null,h||o);i.drawLine(r.left+l,c,r.left+f+l,c,null,o);break;case e.ChartType.Candlestick:case e.ChartType.HighLowOpenClose:i.drawLine(r.left+l,c,r.left+f+l,c,null,h||o)}this._name&&e.FlexChartCore._renderText(i,a,new t.Point(r.left+p+2*l,c),0,1,e.FlexChartCore._CSS_LABEL,e.FlexChartCore._CSS_LEGEND)};SeriesBase.prototype._cvCollectionChanged=function(t,e){this._clearValues();this._invalidate()};SeriesBase.prototype._cvCurrentChanged=function(t,e){this._chart&&this._chart._notifyCurrentChanged&&this._invalidate()};SeriesBase.prototype._bindValues=function(e,i,n){void 0===n&&(n=!1);var s,a,o;if(null!=e){var h=e.length;s=new Array(e.length);for(var l=i?new t.Binding(i):null,_=0;_<h;_++){o=null;var u=e[_];null!=l&&(u=l.getValue(u));if(t.isArray(u)&&u.length>0){o=u;u=u[0]}if(t.isNumber(u)){s[_]=u;a=t.DataType.Number}else if(t.isDate(u)){s[_]=u.valueOf();a=t.DataType.Date}else if(n&&u){s[_]=_;a=t.DataType.Number}t.isArray(o)&&o.length>0&&(s[_]=o)}}var c=new r;c.values=s;c.dataType=a;return c};SeriesBase.prototype._invalidate=function(){this._chart&&this._chart.invalidate()};SeriesBase.prototype._indexToPoint=function(e){if(e>=0&&e<this._values.length){var i=this._values[e],n=this._xvalues?this._xvalues[e]:e;return new t.Point(n,i)}return null};SeriesBase.prototype._getSymbolFill=function(t){var e=null;this.symbolStyle&&(e=this.symbolStyle.fill);!e&&this.style&&(e=this.style.fill);!e&&this.chart&&(e=this.chart._getColorLight(t));return e};SeriesBase.prototype._getSymbolStroke=function(t){var e=null;this.symbolStyle&&(e=this.symbolStyle.stroke);!e&&this.style&&(e=this.style.stroke);!e&&this.chart&&(e=this.chart._getColor(t));return e};SeriesBase.prototype._getAltSymbolStroke=function(t){var e=null;this.altStyle&&(e=this.altStyle.stroke);return e};SeriesBase.prototype._getAltSymbolFill=function(t){var e=null;this.altStyle&&(e=this.altStyle.fill);return e};SeriesBase.prototype._renderLabels=function(t,e,i,n){this._plotter&&this._plotter._renderLabels(t,this,e,i,n)};SeriesBase._LEGEND_ITEM_WIDTH=10;SeriesBase._LEGEND_ITEM_HEIGHT=10;SeriesBase._LEGEND_ITEM_MARGIN=4;SeriesBase._DEFAULT_SYM_SIZE=10;return SeriesBase}();e.SeriesBase=a}(t.chart||(t.chart={}))}(wijmo||(wijmo={}));!function(t){!function(e){"use strict";var i=function(i){__extends(Series,i);function Series(){return null!==i&&i.apply(this,arguments)||this}Object.defineProperty(Series.prototype,"chartType",{get:function(){return this._chartType},set:function(i){if((i=t.asEnum(i,e.ChartType,!0))!=this._chartType){this._chartType=i;this._invalidate()}},enumerable:!0,configurable:!0});return Series}(e.SeriesBase);e.Series=i}(t.chart||(t.chart={}))}(wijmo||(wijmo={}));!function(t){!function(e){"use strict";var i=function(i){__extends(FlexPie,i);function FlexPie(n,r){var s=i.call(this,n,null,!0)||this;s._areas=[];s._keywords=new e._KeyWords;s._startAngle=0;s._innerRadius=0;s._offset=0;s._reversed=!1;s._isAnimated=!1;s._selectedItemPosition=e.Position.None;s._selectedItemOffset=0;s._pieGroups=[];s._rotationAngles=[];s._centers=[new t.Point];s._selectedOffset=new t.Point;s._selectedIndex=-1;s._angles=[];s._colRowLens=[];s._titles=void 0;s._values=[];s._labels=[];s._pels=[];s._sum=0;s._sums=[];s._bindingSeparator=",";s.applyTemplate("wj-control wj-flexchart wj-flexpie",null,null);s._currentRenderEngine=new e._SvgRenderEngine(s.hostElement);s._legend=new e.Legend(s);s._tooltip=new e.ChartTooltip;s._tooltip.content="<b>{name}</b><br/>{value}";s._tooltip.showDelay=0;s._lbl=new e.PieDataLabel;s._lbl._chart=s;var a=s;s.hostElement.addEventListener("mousemove",(function(e){var i=a._tooltip;if(i.content&&!a.isTouching){var n=a.hitTest(e,void 0,!0);if(n.distance<=i.threshold){var r=a._getLabelContent(n,a.tooltip.content);a._showToolTip(r,new t.Rect(e.clientX,e.clientY,5,5))}else a._hideToolTip()}}));s.hostElement.addEventListener("click",(function(i){var n=!0;if(a.selectionMode==e.SelectionMode.Point){var r=a.hitTest(i),s=e.FlexChartBase._SELECTION_THRESHOLD;a.tooltip&&a.tooltip.threshold&&(s=a.tooltip.threshold);if(r.distance<=s){r.pointIndex!=a._selectionIndex&&a.selectedItemPosition!=e.Position.None&&(n=!1);r.pointIndex!=a._selectionIndex&&a._select(r.pointIndex,!0)}else a._selectedIndex>=0&&a._select(null)}if(n&&a.isTouching){var o=a._tooltip;if(o.content){if((r=a.hitTest(i,void 0,!0)).distance<=o.threshold){var h=a._getLabelContent(r,a.tooltip.content);a._showToolTip(h,new t.Rect(i.clientX,i.clientY,5,5))}else a._hideToolTip()}}}));s.hostElement.addEventListener("mouseleave",(function(t){a._hideToolTip()}));s.deferUpdate((function(){return s.initialize(r)}));return s}Object.defineProperty(FlexPie.prototype,"binding",{get:function(){return this._binding},set:function(e){if(e!=this._binding){this._binding=t.asString(e,!0);this._bindChart()}},enumerable:!0,configurable:!0});Object.defineProperty(FlexPie.prototype,"bindingName",{get:function(){return this._bindingName},set:function(e){if(e!=this._bindingName){this._bindingName=t.asString(e,!0);this._bindChart()}},enumerable:!0,configurable:!0});Object.defineProperty(FlexPie.prototype,"startAngle",{get:function(){return this._startAngle},set:function(e){if(e!=this._startAngle){this._startAngle=t.asNumber(e,!0);this.invalidate()}},enumerable:!0,configurable:!0});Object.defineProperty(FlexPie.prototype,"offset",{get:function(){return this._offset},set:function(e){if(e!=this._offset){this._offset=t.asNumber(e,!0);this.invalidate()}},enumerable:!0,configurable:!0});Object.defineProperty(FlexPie.prototype,"innerRadius",{get:function(){return this._innerRadius},set:function(e){if(e!=this._innerRadius){this._innerRadius=t.asNumber(e,!0);this.invalidate()}},enumerable:!0,configurable:!0});Object.defineProperty(FlexPie.prototype,"innerTextStyle",{get:function(){return this._innerTextStyle},set:function(t){if(t!=this._innerText){this._innerTextStyle=t;this.invalidate()}},enumerable:!0,configurable:!0});Object.defineProperty(FlexPie.prototype,"innerText",{get:function(){return this._innerText},set:function(t){if(t!=this._innerText){this._innerText=t;this.invalidate()}},enumerable:!0,configurable:!0});Object.defineProperty(FlexPie.prototype,"reversed",{get:function(){return this._reversed},set:function(e){if(e!=this._reversed){this._reversed=t.asBoolean(e,!0);this.invalidate()}},enumerable:!0,configurable:!0});Object.defineProperty(FlexPie.prototype,"selectedItemPosition",{get:function(){return this._selectedItemPosition},set:function(i){if((i=t.asEnum(i,e.Position,!0))!=this._selectedItemPosition){this._selectedItemPosition=i;this.invalidate()}},enumerable:!0,configurable:!0});Object.defineProperty(FlexPie.prototype,"selectedItemOffset",{get:function(){return this._selectedItemOffset},set:function(e){if(e!=this._selectedItemOffset){this._selectedItemOffset=t.asNumber(e,!0);this.invalidate()}},enumerable:!0,configurable:!0});Object.defineProperty(FlexPie.prototype,"isAnimated",{get:function(){return this._isAnimated},set:function(t){t!=this._isAnimated&&(this._isAnimated=t)},enumerable:!0,configurable:!0});Object.defineProperty(FlexPie.prototype,"tooltip",{get:function(){return this._tooltip},enumerable:!0,configurable:!0});Object.defineProperty(FlexPie.prototype,"dataLabel",{get:function(){return this._lbl},set:function(t){if(t!=this._lbl){this._lbl=t;this._lbl&&(this._lbl._chart=this)}},enumerable:!0,configurable:!0});Object.defineProperty(FlexPie.prototype,"selectedIndex",{get:function(){return this._selectedIndex},set:function(e){if(e!=this._selectedIndex){var i=t.asNumber(e,!0);this._select(i,!0)}},enumerable:!0,configurable:!0});Object.defineProperty(FlexPie.prototype,"titles",{get:function(){return this._titles},set:function(t){if(t!==this._titles){this._titles=t;this.invalidate()}},enumerable:!0,configurable:!0});Object.defineProperty(FlexPie.prototype,"chartsPerLine",{get:function(){return this._chartsPerLine},set:function(e){if(e!=this._chartsPerLine){this._chartsPerLine=t.asNumber(e,!0,!0);this.invalidate()}},enumerable:!0,configurable:!0});FlexPie.prototype._getLabelsForLegend=function(){return this._labels};FlexPie.prototype.hitTest=function(t,i,n){var r=this._toControl(t,i),s=new e.HitTestInfo(this,r),a=null;if(e.FlexChartBase._contains(this._rectHeader,r))s._chartElement=e.ChartElement.Header;else if(e.FlexChartBase._contains(this._rectFooter,r))s._chartElement=e.ChartElement.Footer;else if(e.FlexChartBase._contains(this._rectLegend,r)){s._chartElement=e.ChartElement.Legend;null!==(a=this.legend._hitTest(r))&&a>=0&&a<this._areas.length&&s._setData(null,a)}else if(e.FlexChartBase._contains(this._rectChart,r)){this._hitTestData(s,r,n);s._chartElement=e.ChartElement.ChartArea}else s._chartElement=e.ChartElement.None;return s};FlexPie.prototype._hitTestData=function(t,e,i){for(var n,r=this._areas.length,s=NaN,a=0;a<r;a++){var o=e.clone(),h=this._areas[a],l=this._rotationAngles[h.gi];if(0!=l){var _=this._centers[h.gi],u=_.x,c=_.y,f=-u+o.x,p=-c+o.y,d=Math.sqrt(f*f+p*p),g=Math.atan2(p,f)-l*Math.PI/180;o.x=u+d*Math.cos(g);o.y=c+d*Math.sin(g)}if(a==this._selectedIndex){o.x-=this._selectedOffset.x;o.y-=this._selectedOffset.y}var m=this._areas[a];if(m.contains(o)){if(!0===i){s=0;n=m;continue}t._setDataGroup(h.gi,m.tag);t._dist=0;if(a!=this._selectedIndex)break}var y=m.distance(o);if(void 0!==y&&(isNaN(s)||y<s||!0===i&&this._isSmallSegment(y,n,m))){s=y;n=m}}if(0!==t._dist&&null!=n){t._setDataGroup(n.gi,n.tag);t._dist=s}};FlexPie.prototype._isSmallSegment=function(t,e,i){return t<=.5*this.tooltip.threshold&&Math.abs(i.sweep)<=.035&&Math.abs(e.sweep/i.sweep)>=10};FlexPie.prototype._performBind=function(){this._initData();if(this._cv){this._selectionIndex=this._cv.currentPosition;var t=this._cv.items;if(t){for(var e=t.length,i=this._getBindings(),n=0;n<i.length;n++){this._values[n]=[];this._sums[n]=0}for(var r=0;r<e;r++){var s=t[r];for(n=0;n<i.length;n++)this._sums[n]+=Math.abs(this._getBindData(s,this._values[n],0==n?this._labels:null,i[n],this.bindingName))}}}};FlexPie.prototype._getBindings=function(){var t=[],e=this.binding;if(e){var i=this._bindingSeparator;i&&(t=e.split(i))}return t};FlexPie.prototype._initData=function(){this._sum=0;this._sums=[];this._values=[];this._labels=[]};FlexPie.prototype._getBindData=function(e,i,n,r,s){var a,o=0,h=r?new t.Binding(r):null;h&&(a=h.getValue(e));o=0;t.isNumber(a)?o=t.asNumber(a):a&&(o=parseFloat(a.toString()));if(!isNaN(o)&&isFinite(o))i.push(o);else{o=0;i.push(o)}var l=s?new t.Binding(s):null;if(n)if(l&&e){var _=l.getValue(e);_&&(_=_.toString());n.push(_)}else n.push(o.toString());return o};FlexPie.prototype._render=function(t,n,r){void 0===n&&(n=!0);void 0===r&&(r=null);this._selectionAnimationID&&clearInterval(this._selectionAnimationID);this.onRendering(new e.RenderEventArgs(t));i.prototype._render.call(this,t,n,r)};FlexPie.prototype._prepareRender=function(){this._areas=[]};FlexPie.prototype._renderChart=function(i,n,r){var s=this._rectChart.clone(),a=(new t.Size(s.width,s.height),n.width),o=n.height,h=this._parseMargin(this.plotMargin),l=this.dataLabel,_=l.content&&l.position==e.PieLabelPosition.Outside,u=_?(t.isNumber(l.offset)?l.offset:0)+24:0;isNaN(h.left)&&(h.left=_?u:FlexPie._MARGIN);isNaN(h.right)&&(h.right=_?u:FlexPie._MARGIN);isNaN(h.top)&&(h.top=_?u:FlexPie._MARGIN);isNaN(h.bottom)&&(h.bottom=_?u:FlexPie._MARGIN);n.top+=h.top;o=n.height-(h.top+h.bottom);n.height=o>0?o:24;n.left+=h.left;a=n.width-(h.left+h.right);n.width=a>0?a:24;var c=this._getBindings(),f=this.titles;void 0===f&&c.length>1&&(f=c);var p=this._layout(i,n,f,c.length);this._angles=[];this._pels=[];this._pieGroups=[];this._rotationAngles=[];for(var d=0;d<c.length;d++){var g=p[d];f&&d<f.length&&f[d]&&e.FlexChartBase._renderText(i,f[d],new t.Point(g.left+.5*g.width,g.top),1,2,FlexPie._CSS_GROUP_TITLE);var m=i.startGroup("wj-slice-group",null,!0);this._pieGroups.push(m);this._renderData(i,g,d,m);i.endGroup();this._rotationAngles.push(0)}this._highlightCurrent();this.innerText&&this._renderInnerText(i);this.dataLabel.content&&this.dataLabel.position!=e.PieLabelPosition.None&&this._renderLabels(i);this.onRendered(new e.RenderEventArgs(i))};FlexPie.prototype._layout=function(e,i,n,r){var s=0,a=r,o=1,h=0;if(n)for(var l=0;l<n.length;l++)h=Math.max(h,e.measureString(n[l],FlexPie._CSS_GROUP_TITLE).height);var _=Math.floor(this.chartsPerLine);if(_>0){a=Math.min(r,_);o=Math.ceil(r/a);var u=Math.floor(i.width/a),c=Math.floor(i.height/o)-h;s=Math.min(u,c)}else for(var f=1;f<=r;f++){var p=Math.floor((r+(f-1))/f);u=Math.floor(i.width/f),c=Math.floor(i.height/p);(c-=h)<u&&(u=c);if(u>s){s=u;a=f;o=p}}for(var d=[],g=.5*(i.width-s*a),m=.5*(i.height-(s+h)*o),y=0;y<o;y++)for(var x=0;x<a;x++)d.push(new t.Rect(i.left+s*x+8+g,i.top+(s+h)*y+8+m+h,s-16,s-16));return d};FlexPie.prototype._getDesiredLegendSize=function(e,i,n,r){var s=new t.Size,a=(new t.Size(n,r),this._getLabelsForLegend()),o=a.length,h=0,l=0,_=this.legend.scrollbar?18:0;this._colRowLens=[];for(var u=0;u<o;u++){var c=this._measureLegendItem(e,a[u]);if(i){if(l+c.height>r&&!this.legend.scrollbar){s.height=r;this._colRowLens.push(h);h=0;l=0}h<c.width&&(h=c.width);l+=c.height}else{if(h+c.width>n-_){s.width=n;this._colRowLens.push(l);l=0;h=0}l<c.height&&(l=c.height);h+=c.width}}if(i){s.height<l&&(s.height=l);this._colRowLens.push(h);s.width=this._colRowLens.reduce((function(t,e){return t+e}),0)}else{s.width<h&&(s.width=h);this._colRowLens.push(l);s.height=this._colRowLens.reduce((function(t,e){return t+e}),0)}return s};FlexPie.prototype._renderLegend=function(e,i,n,r,s,a){for(var o=new t.Rect(i.x,i.y,s,a),h=this._getLabelsForLegend(),l=h.length,_=0,u=i.clone(),c=0;c<l;c++){var f=this._measureLegendItem(e,h[c]);if(r){if(u.y+f.height>o.top+o.height+1&&!this.legend.scrollbar){u.x+=this._colRowLens[_];_++;u.y=i.y}}else if(u.x+f.width>o.right){u.y+=this._colRowLens[_];_++;u.x=i.x}var p=new t.Rect(u.x,u.y,f.width,f.height);this._drawLegendItem(e,p,c,h[c]);n.push(p);r?u.y+=f.height:u.x+=f.width}};FlexPie.prototype._renderData=function(e,i,n,r){var s=this._sums[n],a=this.startAngle+180,o=this.innerRadius,h=this.offset;o>1&&(o=1);if(s>0){var l=a*Math.PI/180,_=i.left+.5*i.width,u=i.top+.5*i.height,c=Math.min(.5*i.width,.5*i.height);this._centers[n]=new t.Point(_,u);var f=Math.max(h,this.selectedItemOffset);f>0&&(h*=c/=1+f);this._radius=c;var p=o*c;this._renderPie(e,n,c,p,l,h)}};FlexPie.prototype._renderPie=function(t,e,i,n,r,s){this._renderSlices(t,this._values[e],this._sums[e],e,i,n,r,2*Math.PI,s)};FlexPie.prototype._getCenter=function(){return this._centers[0]};FlexPie.prototype._renderSlices=function(t,e,i,n,r,s,a,o,h){for(var l,_,u,c=e.length,f=0,p=a,d=1==this.reversed,g=this._centers[n],m=0;m<c;m++)e[m]>0&&f++;var y=1===f?360:359.9/360;for(m=0;m<c;m++){_=g.x;u=g.y;l=t.startGroup("wj-slice");t.fill=this._getColorLight(m);t.stroke=this._getColor(m);var x=Math.abs(e[m]),b=Math.abs(x-i)<1e-10?o:o*x/i;b=Math.min(b,o*y);var v=d?p-.5*b:p+.5*b;if(h>0&&b<o){_+=h*Math.cos(v);u+=h*Math.sin(v)}this._renderSlice(t,_,u,v,n,m,r,s,p,b,o);d?p-=b:p+=b;t.endGroup();this._pels.push(l)}};FlexPie.prototype._renderSlice=function(i,n,r,s,a,o,h,l,_,u,c){var f=this,p=!!this.reversed;this._angles.push(s);if(this.itemFormatter){var d=new e.HitTestInfo(this,new t.Point(n+h*Math.cos(s),r+h*Math.sin(s)),e.ChartElement.SeriesSymbol);d._setData(null,o);this.itemFormatter(i,d,(function(){f._drawSlice(i,a,o,p,n,r,h,l,_,u)}));i.cssPriority=!0}else this._drawSlice(i,a,o,p,n,r,h,l,_,u)};FlexPie.prototype._getSelectedItemOffset=function(t,e){var i=0,n=0,r=0;t==this._selectedIndex&&this.selectedItemOffset>0&&(r=this.selectedItemOffset);if(r>0){i=Math.cos(e)*r*this._radius;n=Math.sin(e)*r*this._radius}return{x:i,y:n}};FlexPie.prototype._renderInnerText=function(i){for(var n=this.innerText,r=this.innerTextStyle,s=0;s<this._centers.length;s++){var a=this._centers[s],o=void 0;if(o=t.isFunction(n)?n(s):t.isArray(n)?t.asString(n[s]):t.asString(n)){o=t.format(o,{total:this._sums[s],binding:this._getBindings()[s]});r&&(i.cssPriority=!1);FlexPie._renderText(i,o,a,1,1,e.FlexChartBase._CSS_TITLE,null,r);i.cssPriority=!0}}};FlexPie.prototype._renderLabels=function(i){var r=this._areas.length,s=this.dataLabel,a=s.position,o="wj-data-label",h=this._rotationAngles,l=s.connectingLine,_=s.offset?s.offset:0;i.stroke="null";i.fill="transparent";i.strokeWidth=1;i.startGroup("wj-data-labels");for(var u=0;u<r;u++){var c=this._areas[u];if(c){var f=c.radius,p=c.langle+h[c.gi],d=1,g=1;if(a==e.PieLabelPosition.Center||a===e.PieLabelPosition.Radial||a===e.PieLabelPosition.Circular)f*=.5*(1+(c.innerRadius||0)/c.radius);else{if((p=n.clampAngle(p))<=-170||p>=170){d=2;g=1}else if(p>=-100&&p<=-80){d=1;g=2}else if(p>=-10&&p<=10){d=0;g=1}else if(p>=80&&p<=100){d=1;g=0}else if(-180<p&&p<-90){d=2;g=2}else if(-90<=p&&p<0){d=0;g=2}else if(0<p&&p<90){d=0;g=0}else if(90<p&&p<180){d=2;g=0}if(a==e.PieLabelPosition.Inside){d=2-d;g=2-g}}p*=Math.PI/180;var m=c.gi?u-c.gi*this._values[0].length:u,y=this._getSelectedItemOffset(m,p),x=y.x,b=y.y,v=f;a==e.PieLabelPosition.Outside?v+=_:a==e.PieLabelPosition.Inside&&(v-=_);var S=c.center.x,C=c.center.y,w=this._centers[c.gi],P=S-w.x,A=C-w.y;if(0!=this._rotationAngles[c.gi]){var M=Math.sqrt(P*P+A*A),T=Math.atan2(A,P)+this._rotationAngles[c.gi]*Math.PI/180;S=w.x+M*Math.cos(T);C=w.y+M*Math.sin(T)}var L=new t.Point(S+x+v*Math.cos(p),C+b+v*Math.sin(p));if(s.border&&a!=e.PieLabelPosition.Center){0==d?L.x+=2:2==d&&(L.x-=2);0==g?L.y+=2:2==g&&(L.y-=2)}var E=new e.HitTestInfo(this,L);E._setDataGroup(c.gi,c.tag);var F=this._getLabelContent(E,s.content),N=new e.DataLabelRenderEventArgs(i,E,L,F);if(s.onRendering)if(s.onRendering(N)){F=N.text;L=N.point}else F=null;if(F){var k,I=180*Math.atan2(C-L.y,S-L.x)/Math.PI;I=(I+360)%360;if(a===e.PieLabelPosition.Radial||a===e.PieLabelPosition.Circular){if(a===e.PieLabelPosition.Radial)I>90&&I<270&&(I+=180);else{I>180&&I<360&&(I+=180);I-=90}(k=e.FlexChartBase._renderRotatedText(i,F,L,d,g,L,I,o).getBBox()).left=k.x;k.top=k.y}else k=e.FlexChartBase._renderText(i,F,L,d,g,o);s.border&&i.drawRect(k.left-2,k.top-2,k.width+4,k.height+4,"wj-data-label-border");if(l){var D=new t.Point(S+x+f*Math.cos(p),C+b+f*Math.sin(p));i.drawLine(L.x,L.y,D.x,D.y,"wj-data-label-line")}}i.cssPriority=!0}}i.endGroup()};FlexPie.prototype._drawSlice=function(e,i,n,a,o,h,l,_,u,c){var f;if(a)if(_>0){0!=c&&e.drawDonutSegment(o,h,l,_,u-c,c);(f=new s(new t.Point(o,h),l,_,u-c,c,this.startAngle)).tag=n;this._areas.push(f)}else{0!=c&&e.drawPieSegment(o,h,l,u-c,c);(f=new r(new t.Point(o,h),l,u-c,c,this.startAngle)).tag=n;this._areas.push(f)}else{if(_>0){0!=c&&e.drawDonutSegment(o,h,l,_,u,c);(f=new s(new t.Point(o,h),l,_,u,c,this.startAngle)).tag=n;this._areas.push(f)}else{0!=c&&e.drawPieSegment(o,h,l,u,c);(f=new r(new t.Point(o,h),l,u,c,this.startAngle)).tag=n;this._areas.push(f)}u+=c}f&&(f.gi=i)};FlexPie.prototype._measureLegendItem=function(i,n){var r=new t.Size;r.width=e.Series._LEGEND_ITEM_WIDTH;r.height=e.Series._LEGEND_ITEM_HEIGHT;if(n){var s=i.measureString(n,e.FlexChartBase._CSS_LABEL,e.FlexChartBase._CSS_LEGEND);r.width+=s.width;r.height<s.height&&(r.height=s.height)}r.width+=3*e.Series._LEGEND_ITEM_MARGIN;r.height+=2*e.Series._LEGEND_ITEM_MARGIN;return r};FlexPie.prototype._drawLegendItem=function(i,n,r,s){i.strokeWidth=1;var a=e.Series._LEGEND_ITEM_MARGIN,o=null,h=null;null===o&&(o=this._getColorLight(r));null===h&&(h=this._getColor(r));i.fill=o;i.stroke=h;var l=n.top+.5*n.height,_=e.Series._LEGEND_ITEM_WIDTH,u=e.Series._LEGEND_ITEM_HEIGHT;i.drawRect(n.left+a,l-.5*u,_,u,null);null!=s&&e.FlexChartBase._renderText(i,s.toString(),new t.Point(n.left+u+2*a,l),0,1,e.FlexChartBase._CSS_LABEL)};FlexPie.prototype._getLabelContent=function(e,i){return t.isString(i)?this._keywords.replace(i,e):t.isFunction(i)?i(e):null};FlexPie.prototype._select=function(t,i){void 0===i&&(i=!1);this._highlight(!1,this._selectionIndex);this._selectionIndex=t;if(this.selectionMode==e.SelectionMode.Point){var n=this._cv;if(n){this._notifyCurrentChanged=!1;n.moveCurrentToPosition(t);this._notifyCurrentChanged=!0}}if(null==t){this._selectedIndex=-1;this.invalidate()}else if(this.isAnimated&&this.selectedItemPosition!=e.Position.None||!(this.selectedItemOffset>0||this.selectedItemPosition!=e.Position.None))this._highlight(!0,this._selectionIndex,i);else{this._selectedIndex=t;this.invalidate()}this.onSelectionChanged()};FlexPie.prototype._highlightCurrent=function(){if(this.selectionMode!=e.SelectionMode.None){var t=-1,i=this._cv;i&&(t=i.currentPosition);this._highlight(!0,t)}};FlexPie.prototype._highlight=function(t,i,n){void 0===n&&(n=!1);if(this.selectionMode==e.SelectionMode.Point&&null!=i&&i>=0)if(t){for(var r=[],s=0;s<this._pieGroups.length;s++){if(f=this._pels[i+s*this._values[0].length]){f.parentNode.appendChild(f);var a=this._find(f,["ellipse"]);this._highlightItems(this._find(f,["path","ellipse"]),e.FlexChartBase._CSS_SELECTION,t)}var o=this._angles[i+s*this._values[0].length];if(this.selectedItemPosition!=e.Position.None&&0!=o){var h=0;this.selectedItemPosition==e.Position.Left?h=180:this.selectedItemPosition==e.Position.Top?h=-90:this.selectedItemPosition==e.Position.Bottom&&(h=90);var l=h*Math.PI/180-o;l*=180/Math.PI;if(n&&this.isAnimated)r.push(l);else{this._rotationAngles[s]=l;this._pieGroups[s].transform.baseVal.getItem(0).setRotate(l,this._centers[s].x,this._centers[s].y)}}var _=this.selectedItemOffset;if(_>0&&a&&0==a.length){var u=this._selectedOffset.x=Math.cos(o)*_*this._radius,c=this._selectedOffset.y=Math.sin(o)*_*this._radius;f&&f.setAttribute("transform","translate("+u.toFixed()+","+c.toFixed()+")")}this._selectedIndex=i}r.length>0&&this._animateSelectionAngle(r,.5)}else{for(s=0;s<this._pieGroups.length;s++){var f;if(f=this._pels[i+s*this._values[0].length]){f.parentNode.insertBefore(f,f.parentNode.childNodes.item(i));f.removeAttribute("transform");this._highlightItems(this._find(f,["path","ellipse"]),e.FlexChartBase._CSS_SELECTION,t)}}this._selectedIndex==i&&(this._selectedIndex=-1)}};FlexPie.prototype._animateSelectionAngle=function(i,r){var s=this,a=s._pieGroups;s._selectionAnimationID&&clearInterval(this._selectionAnimationID);this._selectionAnimationID=t.animate((function(t){if(a==s._pieGroups){for(var r=0;r<a.length;r++){var o=n.clampAngle(s._rotationAngles[r]),h=n.clampAngle(i[r])-o,l=o;s._rotationAngles[r]=o=l+h*t;a[r].transform.baseVal.getItem(0).setRotate(o,s._centers[r].x,s._centers[r].y)}1==t&&clearInterval(s._selectionAnimationID);t>.99&&(s.selectedItemOffset>0||s.selectedItemPosition!=e.Position.None)&&s.invalidate()}}),1e3*r)};FlexPie.prototype._getHitTestItem=function(t){var e=null,i=null;(e=null!=this._cv?this._cv.items:this.itemsSource)&&t<e.length&&(i=e[t]);return i};FlexPie.prototype._getHitTestValue=function(t,e){null==e&&(e=0);return this._values[e][t]};FlexPie.prototype._getHitTestLabel=function(t){return this._labels[t]};FlexPie._MARGIN=4;FlexPie._CSS_GROUP_TITLE="wj-label";return FlexPie}(e.FlexChartBase);e.FlexPie=i;var n=function(){function _Math(){}_Math.clampAngle=function(t,e){void 0===e&&(e=0);var i=(t+180)%360-180;i<-180+(e<0?e+360:e)&&(i+=360);return i};return _Math}(),r=function(){function _PieSegment(t,e,i,r,s){void 0===s&&(s=0);this._isFull=!1;this._center=t;this._radius=e;this._originAngle=i;this._originSweep=r;r>=2*Math.PI&&(this._isFull=!0);this._sweep=.5*r*180/Math.PI;this._angle=n.clampAngle(180*i/Math.PI+this._sweep);this._radius2=e*e;this._startAngle=s}_PieSegment.prototype.contains=function(t){var e=t.x-this._center.x,i=t.y-this._center.y;if(e*e+i*i<=this._radius2){var r=180*Math.atan2(i,e)/Math.PI,s=n.clampAngle(this._angle,this._startAngle)-n.clampAngle(r,this._startAngle);if(this._isFull||Math.abs(s)<=this._sweep)return!0}return!1};_PieSegment.prototype.distance=function(t){if(this.contains(t))return 0;var i=t.x-this._center.x,r=t.y-this._center.y,s=i*i+r*r,a=180*Math.atan2(r,i)/Math.PI,o=n.clampAngle(this._angle,this._startAngle)-n.clampAngle(a,this._startAngle);if(this._isFull||Math.abs(o)<=this._sweep)return Math.sqrt(s)-this._radius;var h=this.center.clone();h.x+=this.radius*Math.cos(this._originAngle);h.y+=this.radius*Math.sin(this._originAngle);var l=this.center.clone();l.x+=this.radius*Math.cos(this._originAngle+this._originSweep);l.y+=this.radius*Math.sin(this._originAngle+this._originSweep);var _=e.FlexChartCore._dist(t,this.center,h),u=e.FlexChartCore._dist(t,this.center,l);return Math.min(_,u)};Object.defineProperty(_PieSegment.prototype,"center",{get:function(){return this._center},enumerable:!0,configurable:!0});Object.defineProperty(_PieSegment.prototype,"radius",{get:function(){return this._radius},enumerable:!0,configurable:!0});Object.defineProperty(_PieSegment.prototype,"langle",{get:function(){return this._angle},enumerable:!0,configurable:!0});Object.defineProperty(_PieSegment.prototype,"angle",{get:function(){return this._originAngle},enumerable:!0,configurable:!0});Object.defineProperty(_PieSegment.prototype,"sweep",{get:function(){return this._originSweep},enumerable:!0,configurable:!0});return _PieSegment}();e._PieSegment=r;var s=function(){function _DonutSegment(t,e,i,r,s,a){void 0===a&&(a=0);this._isFull=!1;this._center=t;this._radius=e;this._iradius=i;this._originAngle=r;this._originSweep=s;s>=2*Math.PI&&(this._isFull=!0);this._sweep=.5*s*180/Math.PI;this._angle=n.clampAngle(180*r/Math.PI+this._sweep);this._radius2=e*e;this._iradius2=i*i;this._startAngle=a}_DonutSegment.prototype.contains=function(t){var e=t.x-this._center.x,i=t.y-this._center.y,r=e*e+i*i;if(r>=this._iradius2&&r<=this._radius2){var s=180*Math.atan2(i,e)/Math.PI,a=n.clampAngle(this._angle,this._startAngle)-n.clampAngle(s,this._startAngle);if(this._isFull||Math.abs(a)<=this._sweep)return!0}return!1};_DonutSegment.prototype.distance=function(t){if(this.contains(t))return 0;var i=this.center.clone();i.x+=this.radius*Math.cos(this._originAngle);i.y+=this.radius*Math.sin(this._originAngle);var n=this.center.clone();n.x+=this._iradius*Math.cos(this._originAngle);n.y+=this._iradius*Math.sin(this._originAngle);var r=this.center.clone();r.x+=this.radius*Math.cos(this._originAngle+this._originSweep);r.y+=this.radius*Math.sin(this._originAngle+this._originSweep);var s=this.center.clone();s.x+=this._iradius*Math.cos(this._originAngle+this._originSweep);s.y+=this._iradius*Math.sin(this._originAngle+this._originSweep);var a=e.FlexChartCore._dist(t,i,n),o=e.FlexChartCore._dist(t,r,s);return Math.min(a,o)};Object.defineProperty(_DonutSegment.prototype,"center",{get:function(){return this._center},enumerable:!0,configurable:!0});Object.defineProperty(_DonutSegment.prototype,"radius",{get:function(){return this._radius},enumerable:!0,configurable:!0});Object.defineProperty(_DonutSegment.prototype,"langle",{get:function(){return this._angle},enumerable:!0,configurable:!0});Object.defineProperty(_DonutSegment.prototype,"angle",{get:function(){return this._originAngle},enumerable:!0,configurable:!0});Object.defineProperty(_DonutSegment.prototype,"sweep",{get:function(){return this._originSweep},enumerable:!0,configurable:!0});Object.defineProperty(_DonutSegment.prototype,"innerRadius",{get:function(){return this._iradius},enumerable:!0,configurable:!0});return _DonutSegment}();e._DonutSegment=s}(t.chart||(t.chart={}))}(wijmo||(wijmo={}));!function(t){!function(e){"use strict";var i,n,r,s=new(function(){function LineMarkers(){this._moveMarker=function(t){var e=t.currentTarget,i=this._markers,n=e.getAttribute("data-markerIndex");null!=n&&i[n].forEach((function(e){e._moveMarker(t)}))};this._markers=[];this._bindMoveMarker=this._moveMarker.bind(this)}LineMarkers.prototype.attach=function(e){var i,n,r=e.chart.hostElement,s=this._markers,a=r.getAttribute("data-markerIndex");if(null!=a)if((n=s[a])&&t.isArray(n))n.push(e);else{s[a]=[e];this._bindMoveEvent(r)}else{i=s.length,n=[e];s.push(n);r.setAttribute("data-markerIndex",i);this._bindMoveEvent(r)}};LineMarkers.prototype.detach=function(t){var e,i,n=t.chart.hostElement,r=this._markers,s=n.getAttribute("data-markerIndex");if(null!=s){(e=(i=r[s]).indexOf(t))>-1&&i.splice(e,1);if(0===i.length){(e=r.indexOf(i))>-1&&(r[e]=void 0);this._unbindMoveEvent(n)}}};LineMarkers.prototype._unbindMoveEvent=function(t){var e=this._bindMoveMarker;t.removeEventListener("mousemove",e);"ontouchstart"in window&&t.removeEventListener("touchmove",e)};LineMarkers.prototype._bindMoveEvent=function(t){var e=this._bindMoveMarker;t.addEventListener("mousemove",e);"ontouchstart"in window&&t.addEventListener("touchmove",e)};return LineMarkers}());!function(t){t[t.None=0]="None";t[t.Vertical=1]="Vertical";t[t.Horizontal=2]="Horizontal";t[t.Both=3]="Both"}(i=e.LineMarkerLines||(e.LineMarkerLines={}));!function(t){t[t.None=0]="None";t[t.Move=1]="Move";t[t.Drag=2]="Drag"}(n=e.LineMarkerInteraction||(e.LineMarkerInteraction={}));!function(t){t[t.Auto=2]="Auto";t[t.Right=0]="Right";t[t.Left=1]="Left";t[t.Bottom=4]="Bottom";t[t.Top=6]="Top"}(r=e.LineMarkerAlignment||(e.LineMarkerAlignment={}));var a=function(){function LineMarker(e,i){this._wrapperMousedown=null;this._wrapperMouseup=null;this._savedPosition=new t.Point;this.positionChanged=new t.Event;this._chart=e;e._markers.push(this);e.rendered.addHandler(this._initialize,this);this._resetDefaultValue();t.copy(this,i);this._initialize()}Object.defineProperty(LineMarker.prototype,"chart",{get:function(){return this._chart},enumerable:!0,configurable:!0});Object.defineProperty(LineMarker.prototype,"isVisible",{get:function(){return this._isVisible},set:function(e){if(e!==this._isVisible){this._isVisible=t.asBoolean(e);this._marker&&this._toggleVisibility()}},enumerable:!0,configurable:!0});Object.defineProperty(LineMarker.prototype,"seriesIndex",{get:function(){return this._seriesIndex},set:function(e){e!==this._seriesIndex&&(this._seriesIndex=t.asNumber(e,!0))},enumerable:!0,configurable:!0});Object.defineProperty(LineMarker.prototype,"horizontalPosition",{get:function(){return this._horizontalPosition},set:function(e){if(e!==this._horizontalPosition){this._horizontalPosition=t.asNumber(e,!0);this._savedPosition.x=this._horizontalPosition;if(this._horizontalPosition<0||this._horizontalPosition>1)throw"horizontalPosition's value should be in (0, 1).";this._marker&&this._updateMarkerPosition()}},enumerable:!0,configurable:!0});Object.defineProperty(LineMarker.prototype,"x",{get:function(){var t=this._chart.axisX,e=this.chart.pageToControl(this._targetPoint);return t.convertBack(e.x)},enumerable:!0,configurable:!0});Object.defineProperty(LineMarker.prototype,"y",{get:function(){var t=this._chart.axisY,e=this.chart.pageToControl(this._targetPoint);return t.convertBack(e.y)},enumerable:!0,configurable:!0});Object.defineProperty(LineMarker.prototype,"content",{get:function(){return this._content},set:function(e){if(e!==this._content){this._content=t.asFunction(e);this._updateMarkerPosition()}},enumerable:!0,configurable:!0});Object.defineProperty(LineMarker.prototype,"verticalPosition",{get:function(){return this._verticalPosition},set:function(e){if(e!==this._verticalPosition){this._verticalPosition=t.asNumber(e,!0);this._savedPosition.y=this._verticalPosition;if(this._verticalPosition<0||this._verticalPosition>1)throw"verticalPosition's value should be in (0, 1).";this._marker&&this._updateMarkerPosition()}},enumerable:!0,configurable:!0});Object.defineProperty(LineMarker.prototype,"alignment",{get:function(){return this._alignment},set:function(t){if(t!==this._alignment){this._alignment=t;this._marker&&this._updatePositionByAlignment()}},enumerable:!0,configurable:!0});Object.defineProperty(LineMarker.prototype,"lines",{get:function(){return this._lines},set:function(e){if((e=t.asEnum(e,i))!=this._lines){this._lines=e;this._marker&&this._resetLinesVisibility()}},enumerable:!0,configurable:!0});Object.defineProperty(LineMarker.prototype,"interaction",{get:function(){return this._interaction},set:function(e){if((e=t.asEnum(e,n))!=this._interaction){this._marker&&this._detach();this._interaction=e;this._marker&&this._attach();this._toggleElesDraggableClass(this._interaction==n.Drag)}},enumerable:!0,configurable:!0});Object.defineProperty(LineMarker.prototype,"dragThreshold",{get:function(){return this._dragThreshold},set:function(e){e!=this._dragThreshold&&(this._dragThreshold=t.asNumber(e))},enumerable:!0,configurable:!0});Object.defineProperty(LineMarker.prototype,"dragContent",{get:function(){return this._dragContent},set:function(e){e!==this._dragContent&&(this._dragContent=t.asBoolean(e));t.toggleClass(this._dragEle,LineMarker._CSS_LINE_DRAGGABLE,this._interaction===n.Drag&&this._dragContent&&this._lines!==i.None)},enumerable:!0,configurable:!0});Object.defineProperty(LineMarker.prototype,"dragLines",{get:function(){return this._dragLines},set:function(e){e!=this._dragLines&&(this._dragLines=t.asBoolean(e))},enumerable:!0,configurable:!0});LineMarker.prototype.onPositionChanged=function(t){this.positionChanged.raise(this,t)};LineMarker.prototype.remove=function(){var t=this._chart;if(this._marker){t.rendered.removeHandler(this._initialize,this);this._detach();this._removeMarker();this._wrapperMoveMarker=null;this._wrapperMousedown=null;this._wrapperMouseup=null}};LineMarker.prototype._attach=function(){var e=this._chart.hostElement;this._interaction!==n.None?t.addClass(e,LineMarker._CSS_TOUCH_DISABLED):t.removeClass(e,LineMarker._CSS_TOUCH_DISABLED);s.attach(this);this._attachDrag()};LineMarker.prototype._attachDrag=function(){if(this._interaction===n.Drag){this._wrapperMousedown||(this._wrapperMousedown=this._onMousedown.bind(this));this._wrapperMouseup||(this._wrapperMouseup=this._onMouseup.bind(this));this._toggleDragEventAttach(!0)}};LineMarker.prototype._detach=function(){t.removeClass(this._chart.hostElement,LineMarker._CSS_TOUCH_DISABLED);s.detach(this);this._detachDrag()};LineMarker.prototype._detachDrag=function(){this._interaction===n.Drag&&this._toggleDragEventAttach(!1)};LineMarker.prototype._toggleDragEventAttach=function(t){var e=this._chart.hostElement,i=t?"addEventListener":"removeEventListener";e[i]("mousedown",this._wrapperMousedown);document[i]("mouseup",this._wrapperMouseup);"ontouchstart"in window&&e[i]("touchstart",this._wrapperMousedown);"ontouchend"in window&&document[i]("touchend",this._wrapperMouseup)};LineMarker.prototype._onMousedown=function(e){var i,r,s,a,o,h=this._getEventPoint(e);if(this._interaction===n.Drag){a=!(0===(i=t.getElementRect(this._hLine)).width||0===i.height);o=!(0===(r=t.getElementRect(this._vLine)).width||0===r.height);s=t.getElementRect(this._markerContent);if(this._dragContent&&this._pointInRect(h,s)){this._capturedEle=this._markerContent;this._contentDragStartPoint=new t.Point(h.x,h.y);this._mouseDownCrossPoint=new t.Point(this._targetPoint.x,this._targetPoint.y)}else if(a&&(Math.abs(i.top-h.y)<=this._dragThreshold||Math.abs(h.y-i.top-i.height)<=this._dragThreshold||h.y>=i.top&&h.y<=i.top+i.height)){this._capturedEle=this._hLine;this._contentDragStartPoint=void 0;t.addClass(this._chart.hostElement,LineMarker._CSS_LINE_DRAGGABLE)}else if(o&&(Math.abs(r.left-h.x)<=this._dragThreshold||Math.abs(h.x-r.left-r.width)<=this._dragThreshold||h.x>=r.left&&h.x<=r.left+r.width)){this._capturedEle=this._vLine;this._contentDragStartPoint=void 0;t.addClass(this._chart.hostElement,LineMarker._CSS_LINE_DRAGGABLE)}e.preventDefault()}};LineMarker.prototype._onMouseup=function(e){var n=this._alignment===r.Auto&&this._capturedEle===this._markerContent&&this._lines!==i.None;this._capturedEle=void 0;this._contentDragStartPoint=void 0;this._mouseDownCrossPoint=void 0;if(n){this._updatePositionByAlignment();this._updatePositionByAlignment()}t.removeClass(this._chart.hostElement,LineMarker._CSS_LINE_DRAGGABLE)};LineMarker.prototype._moveMarker=function(r){var s,a,o,h,l,_,u=this._chart,c=this._getEventPoint(r),f=this._plotRect,p=this._interaction===n.Drag,d=this._lines===i.Horizontal,g=this._lines===i.Vertical,m=this._seriesIndex,y=t.getElementRect(u.hostElement);if(f&&this._isVisible&&this._interaction!==n.None&&(this._interaction!==n.Drag||this._capturedEle&&this._lines!==i.None)){if(p)if(this._contentDragStartPoint){c.x=d?this._targetPoint.x:this._mouseDownCrossPoint.x+c.x-this._contentDragStartPoint.x;c.y=g?this._targetPoint.y:this._mouseDownCrossPoint.y+c.y-this._contentDragStartPoint.y}else d||!this._dragLines&&this._capturedEle===this._hLine?c.x=this._targetPoint.x:(g||!this._dragLines&&this._capturedEle===this._vLine)&&(c.y=this._targetPoint.y);if(p&&this._lines===i.Horizontal||!this._dragLines&&this._capturedEle===this._hLine){if(c.y<=f.top||c.y>=f.top+f.height)return}else if(p&&this._lines===i.Vertical||!this._dragLines&&this._capturedEle===this._vLine){if(c.x<=f.left||c.x>=f.left+f.width)return}else{var x=this._getTop();if(c.x<=f.left||c.y<=x||c.x>=f.left+f.width||c.y>=x+f.height)return}if(null!=m&&m>=0&&m<u.series.length){if(null==(a=(s=u.series[m]).hitTest(new t.Point(c.x,NaN)))||null==a.x||null==a.y)return;o=s.axisX||u.axisX;h=s._getAxisY();l=t.isDate(a.x)?e.FlexChartCore._toOADate(a.x):a.x;l=t.isString(l)?a.pointIndex:l;_=t.isDate(a.y)?e.FlexChartCore._toOADate(a.y):a.y;var b=this._getElementPaddingValuee(u.hostElement,"padding-left"),v=this._getElementPaddingValuee(u.hostElement,"padding-top");c.x=o.convert(l)+b+y.left;this.chart._stacking!=e.Stacking.None&&(_=this._calcStackedValue(m,l,_));c.y=h.convert(_)+v+y.top}this._updateMarkerPosition(c);r.preventDefault()}};LineMarker.prototype._calcStackedValue=function(t,i,n){for(var r=n,s=this.chart._stacking==e.Stacking.Stacked100pc,a=0;a<t;a++){var o=this.chart.series[a],h=o.getValues(1),l=o.getValues(0);if(l)for(var _=0;_<l.length;_++){if(i===(h?h[_]:_)){isFinite(l[_])&&(s||this._sign(n)==this._sign(l[_]))&&(r+=l[_]);break}}}s&&r&&(r/=this.chart._dataInfo.getStackedAbsSum(i))>1&&(r=1);return r};LineMarker.prototype._sign=function(t){return t>0?1:t<0?-1:0};LineMarker.prototype._getElementPaddingValuee=function(t,e){return+window.getComputedStyle(t,null).getPropertyValue(e).replace("px","")};LineMarker.prototype._show=function(t){(t||this._marker).style.display="block"};LineMarker.prototype._hide=function(t){(t||this._marker).style.display="none"};LineMarker.prototype._toggleVisibility=function(){this._isVisible?this._show():this._hide()};LineMarker.prototype._resetDefaultValue=function(){this._isVisible=!0;this._alignment=r.Auto;this._lines=i.None;this._interaction=n.None;this._horizontalPosition=null;this._verticalPosition=null;this._content=null;this._seriesIndex=null;this._dragThreshold=15;this._dragContent=!1;this._dragLines=!1;this._targetPoint=new t.Point};LineMarker.prototype._initialize=function(){var i,n=this._chart.hostElement.querySelector("."+e.FlexChartCore._CSS_PLOT_AREA);this._plot=n;this._marker||this._createMarker();if(n){this._plotRect=t.getElementRect(n);i=n.getBBox();this._plotRect.width=i.width;this._plotRect.height=i.height;this._updateMarkerSize();this._updateLinesSize()}this._updateMarkerPosition();this._wrapperMoveMarker=this._moveMarker.bind(this);this._attach()};LineMarker.prototype._createMarker=function(){var e,i;e=document.createElement("div");t.addClass(e,LineMarker._CSS_MARKER);(i=this._getContainer()).appendChild(e);this._markerContainer=i;this._marker=e;this._createChildren()};LineMarker.prototype._removeMarker=function(){var t=this._markerContainer;t.removeChild(this._marker);this._content=null;this._hLine=null;this._vLine=null;if(!t.hasChildNodes()){this._chart.hostElement.removeChild(this._markerContainer);this._markerContainer=null}this._marker=null};LineMarker.prototype._getContainer=function(){var t=this._chart.hostElement.querySelector(LineMarker._CSS_MARKER_CONTAINER);t||(t=this._createContainer());return t};LineMarker.prototype._createContainer=function(){var e=document.createElement("div"),i=this._chart.hostElement;t.addClass(e,LineMarker._CSS_MARKER_CONTAINER);i.insertBefore(e,i.firstChild);return e};LineMarker.prototype._createChildren=function(){var e,i,r,s,a=this._marker;(s=document.createElement("div")).style.position="absolute";s.style.height="100%";s.style.width="100%";a.appendChild(s);this._dragEle=s;e=document.createElement("div");t.addClass(e,LineMarker._CSS_MARKER_CONTENT);a.appendChild(e);this._markerContent=e;i=document.createElement("div");t.addClass(i,LineMarker._CSS_MARKER_HLINE);a.appendChild(i);this._hLine=i;r=document.createElement("div");t.addClass(r,LineMarker._CSS_MARKER_VLINE);a.appendChild(r);this._vLine=r;this._toggleElesDraggableClass(this._interaction===n.Drag);this._resetLinesVisibility()};LineMarker.prototype._toggleElesDraggableClass=function(e){t.toggleClass(this._hLine,LineMarker._CSS_LINE_DRAGGABLE,e);t.toggleClass(this._vLine,LineMarker._CSS_LINE_DRAGGABLE,e);t.toggleClass(this._dragEle,LineMarker._CSS_LINE_DRAGGABLE,e&&this._dragContent&&this._lines!==i.None)};LineMarker.prototype._updateMarkerSize=function(){var e=this._plotRect,i=this._chart.hostElement,n=window.getComputedStyle(i,null),r=t.getElementRect(i);if(this._marker){this._marker.style.marginTop=e.top-r.top-(parseFloat(n.getPropertyValue("padding-top"))||0)+"px";this._marker.style.marginLeft=e.left-r.left-(parseFloat(n.getPropertyValue("padding-left"))||0)+"px"}};LineMarker.prototype._updateLinesSize=function(){var t=this._plotRect;if(this._hLine&&this._vLine){this._hLine.style.width=t.width+"px";this._vLine.style.height=t.height+"px"}};LineMarker.prototype._resetLinesVisibility=function(){if(this._hLine&&this._vLine){this._hide(this._hLine);this._hide(this._vLine);this._lines!==i.Horizontal&&this._lines!==i.Both||this._show(this._hLine);this._lines!==i.Vertical&&this._lines!==i.Both||this._show(this._vLine)}};LineMarker.prototype._updateMarkerPosition=function(e){var i,r,s=this._plotRect,a=this._targetPoint,o=!1;this._interaction,n.Drag;if(this._plot){i=s.left+s.width*(this._horizontalPosition||0);r=s.top+s.height*(this._verticalPosition||0);null==this._horizontalPosition&&e?i=e.x:this._savedPosition.x>0&&(i=s.left+s.width*this._savedPosition.x);null==this._verticalPosition&&e?r=e.y:this._savedPosition.y>0&&(r=s.top+s.height*this._savedPosition.y);i===a.x&&r===a.y||(o=!0);a.x=i;a.y=r;this._savedPosition.x=t.clamp((i-s.left)/s.width,0,1);this._savedPosition.y=t.clamp((r-s.top)/s.height,0,1);this._toggleVisibility();this._content&&this._updateContent();o&&this._raisePositionChanged(i,r);this._updatePositionByAlignment(!!e)}};LineMarker.prototype._updateContent=function(){var t,e=this._chart,i=this._targetPoint,n=e.hitTest(i);t=this._content.call(null,n,i);this._markerContent.innerHTML=t||""};LineMarker.prototype._raisePositionChanged=function(e,i){this._plotRect;this.onPositionChanged(new t.Point(e,i))};LineMarker.prototype._updatePositionByAlignment=function(t){var e=this._alignment,i=this._targetPoint,s=this._marker,a=0,o=0,h=s.clientWidth,l=s.clientHeight,_=this._plotRect;if(this._plot){var u=this._getTop();if(!this._capturedEle||this._capturedEle&&this._capturedEle!==this._markerContent){if(e===r.Auto){i.x+h+12>_.left+_.width&&i.x-h>=0&&(o=h);a=l;i.y-l<u&&(a=0)}else{1==(1&e)&&(o=h);2==(2&e)&&(a=l)}this._interaction===n.Move&&0===a&&0===o&&null==this.verticalPosition&&(o=-12)}else{parseInt(this._hLine.style.top)>0&&(a=l);parseInt(this._vLine.style.left)>0&&(o=h)}s.style.left=i.x-o-_.left+"px";s.style.top=i.y-a-u+"px";this._hLine.style.top=a+"px";this._hLine.style.left=_.left-i.x+o+"px";this._vLine.style.top=u-i.y+a+"px";this._vLine.style.left=o+"px"}};LineMarker.prototype._getEventPoint=function(e){return e instanceof MouseEvent?new t.Point(e.pageX,e.pageY):new t.Point(e.changedTouches[0].pageX,e.changedTouches[0].pageY)};LineMarker.prototype._pointInRect=function(t,e){return!(!t||!e)&&(t.x>=e.left&&t.x<=e.left+e.width&&t.y>=e.top&&t.y<=e.top+e.height)};LineMarker.prototype._getTop=function(){var t=0,e=this.chart._getHostComputedStyle();if(e){t+=this.chart._parsePx(e.paddingTop);t+=this.chart._parsePx(e.borderTopWidth);t+=this.chart._parsePx(e.marginTop)}return this._chart._plotRect.top+this._plot.getBoundingClientRect().top-t};LineMarker._CSS_MARKER="wj-chart-linemarker";LineMarker._CSS_MARKER_HLINE="wj-chart-linemarker-hline";LineMarker._CSS_MARKER_VLINE="wj-chart-linemarker-vline";LineMarker._CSS_MARKER_CONTENT="wj-chart-linemarker-content";LineMarker._CSS_MARKER_CONTAINER="wj-chart-linemarker-container";LineMarker._CSS_LINE_DRAGGABLE="wj-chart-linemarker-draggable";LineMarker._CSS_TOUCH_DISABLED="wj-flexchart-touch-disabled";return LineMarker}();e.LineMarker=a}(t.chart||(t.chart={}))}(wijmo||(wijmo={}));!function(t){!function(e){"use strict";var i=function(){function _BasePlotter(){this._DEFAULT_WIDTH=2;this._DEFAULT_SYM_SIZE=10;this.clipping=!0}_BasePlotter.prototype.clear=function(){this.seriesCount=0;this.seriesIndex=0};_BasePlotter.prototype._renderLabels=function(i,n,r,s,a){var o=r.length,h=s.dataLabel,l=h.border,_=h.offset,u=h.connectingLine;void 0===_&&(_=u?16:0);l&&(_-=2);for(var c=0;c<o;c++){var f=r[c],p=t.asType(f.tag,e._DataPoint,!0);p&&!f.ignoreLabel&&this._renderLabel(i,f,p,s,h,n,_,a)}};_BasePlotter.prototype._renderLabel=function(t,i,n,r,s,a,o,h){var l=null==s.position?e.LabelPosition.Top:s.position,_=s.border,u=s.connectingLine,c=new e.HitTestInfo(r,p);c._setDataPoint(n);var f=r._getLabelContent(c,s.content),p=this._getLabelPoint(a,n);this._getPointAndPosition(p,l,i,r);if(r._plotRect.contains(p)){var d=new e.DataLabelRenderEventArgs(t,c,p,f);if(s.onRendering)if(s.onRendering(d)){f=d.text;p=d.point}else f=null;if(f){var g=this._renderLabelAndBorder(t,f,l,o,p,u,2,_);if(g){var m=new e._RectArea(g);m.tag=n;h.push(m)}}t.cssPriority=!0}};_BasePlotter.prototype._getPointAndPosition=function(t,i,n,r){if(n instanceof e._RectArea){var s=n;r._isRotated()?t.y=s.rect.top+.5*s.rect.height:t.x=s.rect.left+.5*s.rect.width}};_BasePlotter.prototype._getLabelPoint=function(e,i){var n=e._getAxisX(),r=e._getAxisY();return new t.Point(n.convert(i.dataX),r.convert(i.dataY))};_BasePlotter.prototype._renderLabelAndBorder=function(t,i,n,r,s,a,o,h){var l,_="wj-data-label",u="wj-data-label-line",c=e.FlexChartCore._CSS_DATA_LABELS;switch(n){case e.LabelPosition.Top:a&&t.drawLine(s.x,s.y,s.x,s.y-r,u);s.y-=o+r;l=e.FlexChartCore._renderText(t,i,s,1,2,_,c);break;case e.LabelPosition.Bottom:a&&t.drawLine(s.x,s.y,s.x,s.y+r,u);s.y+=o+r;l=e.FlexChartCore._renderText(t,i,s,1,0,_,c);break;case e.LabelPosition.Left:a&&t.drawLine(s.x,s.y,s.x-r,s.y,u);s.x-=o+r;l=e.FlexChartCore._renderText(t,i,s,2,1,_,c);break;case e.LabelPosition.Right:a&&t.drawLine(s.x,s.y,s.x+r,s.y,u);s.x+=o+r;l=e.FlexChartCore._renderText(t,i,s,0,1,_,c);break;case e.LabelPosition.Center:l=e.FlexChartCore._renderText(t,i,s,1,1,_,c)}h&&l&&t.drawRect(l.left-o,l.top-o,l.width+2*o,l.height+2*o,"wj-data-label-border");return l};_BasePlotter.prototype.getOption=function(e,i){var n=this.chart._options;i&&(n=n?n[i]:null);if(n&&!t.isUndefined(n[e])&&null!==n[e])return n[e]};_BasePlotter.prototype.getNumOption=function(e,i){var n=this.chart._options;i&&(n=n?n[i]:null);if(n&&n[e])return t.asNumber(n[e],!0)};_BasePlotter.prototype.getItemFormatter=function(t){if(t instanceof e.SeriesBase){var i=t;return i.itemFormatter?i.itemFormatter:this.chart.itemFormatter}return this.chart.itemFormatter};_BasePlotter.cloneStyle=function(t,e){if(!t)return t;var i={};for(var n in t)e&&e.indexOf(n)>=0||(i[n]=t[n]);return i};_BasePlotter.prototype.isValid=function(i,n,r,s){return isFinite(i)&&isFinite(n)&&e.FlexChartCore._contains(this.chart._plotRect,new t.Point(i,n))};_BasePlotter.prototype.load=function(){};_BasePlotter.prototype.unload=function(){};_BasePlotter.prototype._createSteps=function(t,e,i){var n=this.getOption("position","step"),r=i||t.length,s=[],a=[],o=this.chart._isRotated();if("center"==n)if(o)for(var h=0;h<r;h++){var l=0==h?e[h+1]-e[h]:e[h]-e[h-1],_=h==r-1?e[h]-e[h-1]:e[h+1]-e[h];s.push(t[h]);a.push(e[h]-.5*l);s.push(t[h]);a.push(e[h]+.5*_)}else for(h=0;h<r;h++){var u=0==h?t[h+1]-t[h]:t[h]-t[h-1],c=h==r-1?t[h]-t[h-1]:t[h+1]-t[h];s.push(t[h]-.5*u);a.push(e[h]);s.push(t[h]+.5*c);a.push(e[h])}else if("end"==n)for(h=0;h<r;h++){if(h>0)if(o){s.push(t[h]);a.push(e[h-1])}else{s.push(t[h-1]);a.push(e[h])}s.push(t[h]);a.push(e[h])}else for(h=0;h<r;h++){s.push(t[h]);a.push(e[h]);if(h<r-1)if(o){s.push(t[h]);a.push(e[h+1])}else{s.push(t[h+1]);a.push(e[h])}}return{x:s,y:a}};return _BasePlotter}();e._BasePlotter=i}(t.chart||(t.chart={}))}(wijmo||(wijmo={}));!function(t){!function(e){"use strict";var i=function(i){__extends(_AreaPlotter,i);function _AreaPlotter(){var t=i.call(this)||this;t.stacking=e.Stacking.None;t.isSpline=!1;t.isStep=!1;t.stackPos={};t.stackNeg={};return t}_AreaPlotter.prototype.adjustLimits=function(i,n){this.dataInfo=i;for(var r=i.getMinX(),s=i.getMinY(),a=i.getMaxX(),o=i.getMaxY(),h=0;h<this.chart.series.length;h++){var l=this.chart.series[h];if(this._isRange(l)){var _=l._getChartType();if(!_||_==e.ChartType.Area)for(var u=l._getBindingValues(1),c=0;c<u.length;c++)u[c]>o?o=u[c]:u[c]<s&&(s=u[c])}}if(this.isSpline){var f=.1*(o-s);this.chart.axisY._getLogBase()||(s-=f);o+=f}return this.rotated?new t.Rect(s,r,o-s,a-r):new t.Rect(r,s,a-r,o-s)};_AreaPlotter.prototype.clear=function(){i.prototype.clear.call(this);this.stackNeg={};this.stackPos={}};_AreaPlotter.prototype.plotSeries=function(i,n,r,s,a,o,h,l){var _=s;if(this._isRange(_))this.plotSeriesRanged(i,n,r,s,a,o,h,l);else{var u=[],c=this.chart.series.indexOf(s),f=s.getValues(0),p=s.getValues(1);if(f){var d=f.length;if(d){p||(p=this.dataInfo.getXVals());var g=!0;if(p)p.length<d&&(d=p.length);else{g=!1;p=new Array(d)}var m=new Array,y=new Array,x=new Array,b=new Array,v=this.stacking!=e.Stacking.None&&!_._isCustomAxisY(),S=this.stacking==e.Stacking.Stacked100pc&&!_._isCustomAxisY();void 0!==_._getChartType()&&(v=S=!1);for(var C=this.rotated,w=!1,P=_.interpolateNulls,A=null,M=null,T=this.chart._plotRect,L=0;L<d;L++){var E=g?p[L]:L,F=f[L];(null===A||E>A)&&(A=E);(null===M||E<M)&&(M=E);if(e._DataInfo.isValid(E,F)){var N=C?r.convert(E):n.convert(E);if(v){if(S){F/=this.dataInfo.getStackedAbsSum(E)}var k=0;if(F>=0){k=isNaN(this.stackPos[E])?0:this.stackPos[E];F=this.stackPos[E]=k+F}else{k=isNaN(this.stackNeg[E])?0:this.stackNeg[E];F=this.stackNeg[E]=k+F}if(C){k<n.actualMin&&(k=n.actualMin);x.push(n.convert(k));b.push(N)}else{x.push(N);k<r.actualMin&&(k=r.actualMin);b.push(r.convert(k))}}if(C){var I=n.convert(F);if(isNaN(N)||isNaN(I)){w=!0;if(!v&&!0!==P){m.push(void 0);y.push(void 0)}}else{m.push(I);y.push(N);if(e.FlexChartCore._contains(T,new t.Point(I,N))){(D=new e._CircleArea(new t.Point(I,N),this._DEFAULT_SYM_SIZE)).tag=new e._DataPoint(c,L,F,E);this.hitTester.add(D,c)}}}else{I=r.convert(F);if(isNaN(N)||isNaN(I)){w=!0;if(!v&&!0!==P){m.push(void 0);y.push(void 0)}}else{m.push(N);y.push(I);if(e.FlexChartCore._contains(T,new t.Point(N,I))){var D;(D=new e._CircleArea(new t.Point(N,I),this._DEFAULT_SYM_SIZE)).tag=new e._DataPoint(c,L,E,F);this.hitTester.add(D,c)}}}}else{w=!0;if(!v&&!0!==P){m.push(void 0);y.push(void 0)}}}l&&m.forEach((function(e,i){null!=e&&u.push(new t.Point(e,y[i]))}));var R=this._DEFAULT_WIDTH,B=a._getColorLight(c),O=a._getColor(c),j=e._BasePlotter.cloneStyle(s.style,["fill"]),V=e._BasePlotter.cloneStyle(s.style,["stroke"]);if(!v&&!0!==P&&w){var H=[],z=[];for(L=0;L<d;L++)if(void 0===m[L]){if(H.length>1){H=(X=this._modifyPoints(H,z)).x;z=X.y;i.stroke=O;i.strokeWidth=R;i.fill="none";i.drawLines(H,z,null,j);this.hitTester.add(new e._LinesArea(H,z),c);if(C){H.push(n.convert(n.actualMin),n.convert(n.actualMin));z.push(r.convert(r.actualMax),r.convert(r.actualMin))}else{H.push(H[H.length-1],H[0]);z.push(r.convert(r.actualMin),r.convert(r.actualMin))}i.fill=B;i.stroke="none";i.drawPolygon(H,z,null,V,this.chart._plotrectId)}H=[];z=[]}else{H.push(m[L]);z.push(y[L])}if(H.length>1){H=(X=this._modifyPoints(H,z)).x;z=X.y;i.stroke=O;i.strokeWidth=R;i.fill="none";i.drawLines(H,z,null,j);this.hitTester.add(new e._LinesArea(H,z),c);if(C){H.push(n.convert(n.actualMin),n.convert(n.actualMin));z.push(r.convert(r.actualMax),r.convert(r.actualMin))}else{H.push(H[H.length-1],H[0]);z.push(r.convert(r.actualMin),r.convert(r.actualMin))}i.fill=B;i.stroke="none";i.drawPolygon(H,z,null,V,this.chart._plotrectId)}}else{var X;m=(X=this._modifyPoints(m,y)).x;y=X.y;if(v){var G=this._modifyPoints(x,b);x=G.x;b=G.y;m=m.concat(x.reverse());y=y.concat(b.reverse())}else if(C){m.push(n.convert(n.actualMin),n.convert(n.actualMin));y.push(y[y.length-1],y[0])}else{m.push(m[m.length-1],m[0]);y.push(r.convert(r.actualMin),r.convert(r.actualMin))}i.fill=B;i.stroke="none";i.drawPolygon(m,y,null,V,this.chart._plotrectId);if(v){m=m.slice(0,m.length-x.length);y=y.slice(0,y.length-b.length)}else{m=m.slice(0,m.length-2);y=y.slice(0,y.length-2)}i.stroke=O;i.strokeWidth=R;i.fill="none";i.drawLines(m,y,null,j,this.chart._plotrectId);this.hitTester.add(new e._LinesArea(m,y),c)}this._drawSymbols(i,s,c);l&&u&&u.length&&l(u)}}}};_AreaPlotter.prototype._isRange=function(t){var e=this.chart?this.chart._bindingSeparator:",",i=null==t.binding?null:t.binding.split(e);return null!=i&&2==i.length};_AreaPlotter.prototype._modifyPoints=function(t,e){var i={x:t,y:e};if(this.isSpline){var n=this._convertToSpline(t,e);i.x=n.xs;i.y=n.ys}else if(this.isStep){var r=this._createSteps(t,e);i.x=r.x;i.y=r.y}return i};_AreaPlotter.prototype.plotSeriesRanged=function(i,n,r,s,a,o,h,l){var _=[],u=this.chart.series.indexOf(s),c=s,f=s.getValues(0),p=s.getValues(1),d=c._getBindingValues(1);if(f){var g=f.length;if(g){p||(p=this.dataInfo.getXVals());var m=!0;if(p)p.length<g&&(g=p.length);else{m=!1;p=new Array(g)}for(var y=new Array,x=new Array,b=new Array,v=this.rotated,S=!1,C=c.interpolateNulls,w=this.chart._plotRect,P=0;P<g;P++){var A=m?p[P]:P,M=f[P],T=d[P];if(e._DataInfo.isValid(A,M,T)){var L=v?r.convert(A):n.convert(A);if(v){var E=n.convert(M),F=n.convert(T);if(isNaN(L)||isNaN(E)){S=!0;if(!0!==C){y.push(void 0);x.push(void 0);b.push(void 0)}}else{y.push(E);x.push(L);b.push(F);if(e.FlexChartCore._contains(w,new t.Point(E,L))){(N=new e._CircleArea(new t.Point(E,L),this._DEFAULT_SYM_SIZE)).tag=new e._DataPoint(u,P,M,A);this.hitTester.add(N,u)}if(e.FlexChartCore._contains(w,new t.Point(F,L))){(N=new e._CircleArea(new t.Point(F,L),this._DEFAULT_SYM_SIZE)).tag=new e._DataPoint(u,P,T,A);this.hitTester.add(N,u)}}}else{E=r.convert(M),F=r.convert(T);if(isNaN(L)||isNaN(E)){S=!0;if(!0!==C){y.push(void 0);x.push(void 0);b.push(void 0)}}else{y.push(L);x.push(E);b.push(F);if(e.FlexChartCore._contains(w,new t.Point(L,E))){(N=new e._CircleArea(new t.Point(L,E),this._DEFAULT_SYM_SIZE)).tag=new e._DataPoint(u,P,A,M);this.hitTester.add(N,u)}if(e.FlexChartCore._contains(w,new t.Point(L,F))){var N;(N=new e._CircleArea(new t.Point(L,F),this._DEFAULT_SYM_SIZE)).tag=new e._DataPoint(u,P,A,T);this.hitTester.add(N,u)}}}}else{S=!0;if(!0!==C){y.push(void 0);x.push(void 0);b.push(void 0)}}}l&&y.forEach((function(e,i){null!=e&&_.push(new t.Point(e,x[i]))}));var k=this._DEFAULT_WIDTH,I=a._getColorLight(u),D=a._getColor(u),R=e._BasePlotter.cloneStyle(s.style,["fill"]),B=e._BasePlotter.cloneStyle(s.style,["stroke"]);if(!0!==C&&S){var O=[],j=[],V=[];for(P=0;P<g;P++)if(void 0===y[P]){if(O.length>1){var H=v?V.slice(0).reverse():O.slice(0).reverse(),z=v?j.slice(0).reverse():V.slice(0).reverse();this._drawRangedArea(i,O,j,H,z,I,D,k,B,R);this.hitTester.add(new e._LinesArea(O,j),u);this.hitTester.add(new e._LinesArea(H,z),u)}O=[];j=[];V=[]}else{O.push(y[P]);j.push(x[P]);V.push(b[P])}if(O.length>1){H=v?V.slice(0).reverse():O.slice(0).reverse(),z=v?j.slice(0).reverse():V.slice(0).reverse();this._drawRangedArea(i,O,j,H,z,I,D,k,B,R);this.hitTester.add(new e._LinesArea(O,j),u);this.hitTester.add(new e._LinesArea(H,z),u)}}else{var X=v?b.slice(0).reverse():y.slice(0).reverse(),G=v?x.slice(0).reverse():b.slice(0).reverse();this._drawRangedArea(i,y,x,X,G,I,D,k,B,R);this.hitTester.add(new e._LinesArea(y,x),u);this.hitTester.add(new e._LinesArea(X,G),u)}this._drawSymbols(i,s,u);l&&_&&_.length&&l(_)}}};_AreaPlotter.prototype._drawRangedArea=function(t,e,i,n,r,s,a,o,h,l){if(this.isSpline){var _=this._convertToSpline(e,i),u=this._convertToSpline(n,r);e=_.xs;i=_.ys;n=u.xs;r=u.ys}e=e.concat(n);i=i.concat(r);t.fill=s;t.stroke="none";t.drawPolygon(e,i,null,h);e=e.slice(0,e.length-n.length);i=i.slice(0,i.length-r.length);t.stroke=a;t.strokeWidth=o;t.fill="none";t.drawLines(e,i,null,l);t.drawLines(n,r,null,l)};_AreaPlotter.prototype._convertToSpline=function(t,i){if(t&&i){var n=new e._Curve(t,i).calculate();return{xs:n.xs,ys:n.ys}}return{xs:t,ys:i}};_AreaPlotter.prototype._drawSymbols=function(i,n,r){var s=this.getItemFormatter(n);if(null!=s){for(var a=this.hitTester._map[r],o=0;o<a.length;o++){var h=t.tryCast(a[o],e._CircleArea);if(h){var l=h.tag;i.startGroup();var _=new e.HitTestInfo(this.chart,h.center,e.ChartElement.SeriesSymbol);_._setDataPoint(l);s(i,_,(function(){}));i.endGroup()}}i.cssPriority=!0}};return _AreaPlotter}(e._BasePlotter);e._AreaPlotter=i}(t.chart||(t.chart={}))}(wijmo||(wijmo={}));!function(t){!function(e){"use strict";var i=function(i){__extends(_BarPlotter,i);function _BarPlotter(){var t=null!==i&&i.apply(this,arguments)||this;t.origin=0;t.width=.7;t.isVolume=!1;t._volHelper=null;t.stackPosMap={};t.stackNegMap={};t.stacking=e.Stacking.None;return t}_BarPlotter.prototype.clear=function(){i.prototype.clear.call(this);this.stackNegMap[this.chart.axisY._uniqueId]={};this.stackPosMap[this.chart.axisY._uniqueId]={};this._volHelper=null};_BarPlotter.prototype.load=function(){i.prototype.load.call(this);if(this.isVolume){var n,r,s,a,o,h,l,_,u=null,c=null;for(h=0;h<this.chart.series.length;h++){o=(n=this.chart.series[h]).getDataType(1)||n.chart._xDataType;r=n._getAxisX();if((s=null===(s=n._getChartType())||t.isUndefined(s)?this.chart._getChartType():s)===e.ChartType.Column){var f=this.chart?this.chart._bindingSeparator:",",p=n.binding.split(f).length-1;a=n._getBindingValues(p)}else a=s===e.ChartType.Candlestick?n._getBindingValues(4):null;if(o===t.DataType.Date){var d;l=[];_=[];for(h=0;h<n._getLength();h++){d=n._getItem(h)[n.bindingX].valueOf();l.push(d);_.push({value:d,text:t.Globalize.format(new Date(d),r.format||"d")})}}else l=this.dataInfo.getXVals();u=this.dataInfo.getMinX();c=this.dataInfo.getMaxX();if(a&&a.length>0){this._volHelper=new e._VolumeHelper(a,l,u,c,o);r._customConvert=this._volHelper.convert.bind(this._volHelper);r._customConvertBack=this._volHelper.convertBack.bind(this._volHelper);_&&_.length>0&&(this._itemsSource=r.itemsSource=_);break}}}};_BarPlotter.prototype.unload=function(){i.prototype.unload.call(this);for(var t,e=0;e<this.chart.series.length;e++)if(t=this.chart.series[e]._getAxisX()){t._customConvert=null;t._customConvertBack=null;t.itemsSource&&t.itemsSource==this._itemsSource&&(this._itemsSource=t.itemsSource=null)}};_BarPlotter.prototype.adjustLimits=function(i,n){this.dataInfo=i;var r=i.getMinX(),s=i.getMaxX(),a=i.getMinY(),o=i.getMaxY(),h=i.getDeltaX();h<=0&&(h=1);var l=!1;!this.isVolume||this.chart._getChartType()!==e.ChartType.Column&&this.chart._getChartType()!==e.ChartType.Candlestick?this.unload():this.load();for(var _=0;_<this.chart.series.length;_++){var u=this.chart.series[_],c=u._getChartType();if((c=null===c||t.isUndefined(c)?this.chart._getChartType():c)===e.ChartType.Column||c===e.ChartType.Bar){if(this._isRange(u)){u._getBindingValues(1).forEach((function(t){t<a?a=t:t>o&&(o=t)}))}}l||"BoxWhisker"==u.constructor.name||(l=!0)}if(this.rotated){!this.chart.axisY._getLogBase()&&i.getDataTypeY()!==t.DataType.Date&&l&&(this.origin>o?o=this.origin:this.origin<a&&(a=this.origin));return new t.Rect(a,r-.5*h,o-a,s-r+h)}!this.chart.axisY._getLogBase()&&i.getDataTypeY()!==t.DataType.Date&&l&&(this.origin>o?o=this.origin:this.origin<a&&(a=this.origin));return new t.Rect(r-.5*h,a,s-r+h,o-a)};_BarPlotter.prototype._isRange=function(t){var e=this.chart?this.chart._bindingSeparator:",",i=(null==t.binding?"":t.binding.split(e)).length-1;return this.isVolume?2===i:1===i};_BarPlotter.prototype.plotSeries=function(i,n,r,s,a,o,h,l){var _=[],u=this.chart.series.indexOf(s),c=t.asType(s,e.SeriesBase),f=this.chart._options,p=this.width,d=0;o=o||0;h=h||1;if(f&&f.groupWidth){var g=f.groupWidth;if(t.isNumber(g)){var m=t.asNumber(g);if(isFinite(m)&&m>0){d=m;p=1}}else if(t.isString(g)){var y=t.asString(g);if(y&&y.indexOf("%")>=0){y=y.replace("%","");m=parseFloat(y);if(isFinite(m)){m<0?m=0:m>100&&(m=100);d=0;p=m/100}}else{m=parseFloat(y);if(isFinite(m)&&m>0){d=m;p=1}}}}var x=p/h,b=c._getAxisY()._uniqueId,v=this.stackNegMap[b],S=this.stackPosMap[b],C=s.getValues(0),w=s.getValues(1),P=this._isRange(c),A=c._bindValues(null==c._cv?null==this.chart.collectionView?null:this.chart.collectionView.items:c._cv.items,c._getBinding(1)).values;if(C){w||(w=this.dataInfo.getXVals());if(w){var M=this.dataInfo.getDeltaX();if(M>0){p*=M;x*=M}}var T=c._getSymbolFill(u),L=c._getAltSymbolFill(u)||T,E=c._getSymbolStroke(u),F=c._getAltSymbolStroke(u)||E,N=C.length;null!=w&&(N=Math.min(N,w.length));var k,I,D=this.origin,R=0,B=this.stacking!=e.Stacking.None,O=this.stacking==e.Stacking.Stacked100pc;void 0!==c._getChartType()&&(B=O=!1);var j=this.getItemFormatter(s),V=n._actualMin,H=n._actualMax,z=r._actualMin,X=r._actualMax;if(this.rotated){D<V?D=V:D>H&&(D=H);c._isCustomAxisY()&&(B=O=!1);for(U=n.convert(D),q=0;q<N;q++){Z=w?w[q]:q,J=C[q],K=U;this._getSymbolOrigin&&(K=r.convert(this._getSymbolOrigin(D,q)));if(P&&A&&A.length){Q=A[q];e._DataInfo.isValid(Q)&&(K=n.convert(Q))}if(this._getSymbolStyles){T=($=this._getSymbolStyles(q))&&$.fill?$.fill:T;L=$&&$.fill?$.fill:L;E=$&&$.stroke?$.fill:E;F=$&&$.stroke?$.fill:F}k=J>0?T:L;I=J>0?E:F;i.fill=k;i.stroke=I;if(e._DataInfo.isValid(Z,J))if(B){et=Z+.5*p;if((tt=Z-.5*p)<z&&et<z||tt>X&&et>X)continue;tt=r.convert(Math.max(tt,z));et=r.convert(Math.min(et,X));if(O){J/=this.dataInfo.getStackedAbsSum(Z)}nt=0;if(J>=0){nt=isNaN(S[Z])?0:S[Z];ht=n.convert(nt);it=n.convert(nt+J);S[Z]=nt+J}else{nt=isNaN(v[Z])?0:v[Z];ht=n.convert(nt);it=n.convert(nt+J);v[Z]=nt+J}l&&_.push(new t.Point(it,r.convert(Z)));if(!e._DataInfo.isValid(ht,it))continue;rt=new t.Rect(Math.min(ht,it),Math.min(tt,et),Math.abs(it-ht),Math.abs(et-tt));if(d>0){(ct=1-d/rt.height)<0&&(ct=0);var G=rt.top+.5*rt.height;rt.top+=(G-rt.top)*ct;rt.height=Math.min(d,rt.height)}at=new e._RectArea(rt);this.drawSymbol(i,rt,s,q,new t.Point(it,rt.top+.5*rt.height),j);s._setPointIndex(q,R);R++;ot=O?Math.min(nt+J,1):nt+J;at.tag=new e._DataPoint(u,q,ot,Z);this.hitTester.add(at,u)}else{et=Z-.5*p+(o+1)*x;if((tt=Z-.5*p+o*x)<z&&et<z||tt>X&&et>X)continue;tt=r.convert(Math.max(tt,z));et=r.convert(Math.min(et,X));var Y=n.convert(J);if(!e._DataInfo.isValid(Y,tt,et))continue;var W=new t.Rect(Math.min(Y,K),Math.min(tt,et),Math.abs(K-Y),Math.abs(et-tt));l&&_.push(new t.Point(Y,(tt+et)/2));if(d>0){(ct=1-(ut=d/h)/W.height)<0&&(ct=0);G=r.convert(Z);W.top+=(G-W.top)*ct;W.height=Math.min(ut,W.height)}at=new e._RectArea(W);this.drawSymbol(i,W,s,q,new t.Point(Y,W.top+.5*W.height),j);s._setPointIndex(q,R);R++;at.tag=new e._DataPoint(u,q,J,Z);this.hitTester.add(at,u)}else l&&_.push(null)}}else{D<z?D=z:D>X&&(D=X);var U=r.convert(D);c._isCustomAxisY()&&(B=O=!1);for(var q=0;q<N;q++){var K=U,Z=w?w[q]:q,J=C[q];this._getSymbolOrigin&&(K=r.convert(this._getSymbolOrigin(D,q,N)));if(P&&A&&A.length){var Q=A[q];e._DataInfo.isValid(Q)&&(K=r.convert(Q))}if(this._getSymbolStyles){var $;T=($=this._getSymbolStyles(q,N))&&$.fill?$.fill:T;L=$&&$.fill?$.fill:L;E=$&&$.stroke?$.stroke:E;F=$&&$.stroke?$.stroke:F}k=J>0?T:L;I=J>0?E:F;i.fill=k;i.stroke=I;i.strokeWidth=null;if(e._DataInfo.isValid(Z,J))if(B){var tt,et,it=Z+.5*p;if((ht=Z-.5*p)<V&&it<V||ht>H&&it>H)continue;ht=n.convert(ht);it=n.convert(it);if(!e._DataInfo.isValid(ht,it))continue;if(O){J/=this.dataInfo.getStackedAbsSum(Z)}var nt=0;if(J>=0){nt=isNaN(S[Z])?0:S[Z];tt=r.convert(Math.max(nt,z));et=r.convert(Math.max(nt+J,z));S[Z]=nt+J}else{nt=isNaN(v[Z])?0:v[Z];tt=r.convert(nt);et=r.convert(nt+J);v[Z]=nt+J}l&&_.push(new t.Point(n.convert(Z),et));if(!e._DataInfo.isValid(tt,et))continue;var rt=new t.Rect(Math.min(ht,it),Math.min(tt,et),Math.abs(it-ht),Math.abs(et-tt));if(d>0){(ct=1-d/rt.width)<0&&(ct=0);var st=rt.left+.5*rt.width;rt.left+=(st-rt.left)*ct;rt.width=Math.min(d,rt.width)}var at=new e._RectArea(rt);this.drawSymbol(i,rt,s,q,new t.Point(rt.left+.5*rt.width,et),j);s._setPointIndex(q,R);R++;var ot=O?Math.min(nt+J,1):nt+J;at.tag=new e._DataPoint(u,q,Z,ot);this.hitTester.add(at,u)}else{var ht,it=Z-.5*p+(o+1)*x;if((ht=Z-.5*p+o*x)<V&&it<V||ht>H&&it>H)continue;ht=n.convert(ht);it=n.convert(it);var lt=r.convert(J);if(!e._DataInfo.isValid(lt,ht,it))continue;var _t=new t.Rect(Math.min(ht,it),Math.min(lt,K),Math.abs(it-ht),Math.abs(K-lt));l&&_.push(new t.Point((ht+it)/2,lt));if(d>0){var ut,ct;(ct=1-(ut=d/h)/_t.width)<0&&(ct=0);st=n.convert(Z);_t.left+=(st-_t.left)*ct;_t.width=Math.min(ut,_t.width)}var at=new e._RectArea(_t);this.drawSymbol(i,_t,s,q,new t.Point(_t.left+.5*_t.width,lt),j);s._setPointIndex(q,R);R++;at.tag=new e._DataPoint(u,q,Z,J);this.hitTester.add(at,u)}else l&&_.push(null)}}l&&_&&_.length&&l(_)}};_BarPlotter.prototype.drawSymbol=function(t,i,n,r,s,a){var o=this;if(a){t.startGroup();var h=new e.HitTestInfo(this.chart,s,e.ChartElement.SeriesSymbol);h._setData(n,r);a(t,h,(function(){o.drawDefaultSymbol(t,i,n)}));t.cssPriority=!0;t.endGroup()}else this.drawDefaultSymbol(t,i,n)};_BarPlotter.prototype.drawDefaultSymbol=function(t,e,i){t.drawRect(e.left,e.top,e.width,e.height,null,i.symbolStyle)};return _BarPlotter}(e._BasePlotter);e._BarPlotter=i}(t.chart||(t.chart={}))}(wijmo||(wijmo={}));!function(t){!function(e){"use strict";var i=function(i){__extends(_FunnelPlotter,i);function _FunnelPlotter(){var t=null!==i&&i.apply(this,arguments)||this;t.stacking=e.Stacking.None;return t}_FunnelPlotter.prototype.adjustLimits=function(e,i){this.dataInfo=e;var n=e.getMinX(),r=e.getMinY(),s=e.getMaxX(),a=e.getMaxY();return new t.Rect(n,r,s-n,a-r)};_FunnelPlotter.prototype.plotSeries=function(i,r,s,a,o,h,l,_){var u=this.chart.series.indexOf(a);if(!(u>0)){var c,f,p,d,g,m=t.asType(a,e.SeriesBase),y=this.chart._options,x=a.getValues(0),b=a.getValues(1),v=this.chart._plotRect,S=y&&y.funnel&&null!=y.funnel.neckWidth?y.funnel.neckWidth:.2,C=y&&y.funnel&&null!=y.funnel.neckHeight?y.funnel.neckHeight:0,w=S*v.width,P=0,A=0,M=0,T=0,L=v.left,E=v.top,F=v.width,N=v.height;if(x){this.rotated&&(E+=v.height);w=w||1;b||(b=this.dataInfo.getXVals());var k=x.length;null!=b&&(k=Math.min(k,b.length));var I=0;for(P=0;P<k;P++)if(e._DataInfo.isValid(x[P])){A+=x[P];x[P]>I&&(I=x[P])}var D,R,B=0;if(y&&y.funnel&&"rectangle"===y.funnel.type&&I>0){C=N/k;S=F;var O=F/I;for(P=0;P<k;P++){var j=b?b[P]:P,V=x[P],H=m._getSymbolFill(P),z=m._getAltSymbolFill(P)||H,X=m._getSymbolStroke(P),G=m._getAltSymbolStroke(P)||X;if(this._getSymbolStyles){H=(K=this._getSymbolStyles(P,k))&&K.fill?K.fill:H;z=K&&K.fill?K.fill:z;X=K&&K.stroke?K.stroke:X;G=K&&K.stroke?K.stroke:G}D=V>0?H:z;R=V>0?X:G;i.fill=D;i.stroke=R;if(e._DataInfo.isValid(j)&&e._DataInfo.isValid(V)){O||(O=F/V);var Y=O*V;L+=(S-Y)/2;this.rotated&&(E-=C);i.drawRect(L,E,Y,C);W=new n(new t.Point(L,E),Y,C,Y,C);this.rotated||(E+=C);S=Y;W.tag=new e._DataPoint(u,P,j,V);this.hitTester.add(W,u);a._setPointIndex(P,B);B++}}}else{M=v.left+v.width*(1-S)/2;T=v.top+v.height*(this.rotated?C:1-C);f=(1-S)*v.width/2/(v.height*(1-C));if(isNaN(f)||!isFinite(f)){F=w;L=M;E=T}c=v.width*S*v.height+v.width*(1-S)/2*v.height*(1-C);for(P=0;P<k;P++){j=b?b[P]:P,V=x[P];var W,U=[],q=[];H=m._getSymbolFill(P),z=m._getAltSymbolFill(P)||H,X=m._getSymbolStroke(P),G=m._getAltSymbolStroke(P)||X;if(this._getSymbolStyles){var K;H=(K=this._getSymbolStyles(P,k))&&K.fill?K.fill:H;z=K&&K.fill?K.fill:z;X=K&&K.stroke?K.stroke:X;G=K&&K.stroke?K.stroke:G}D=V>0?H:z;R=V>0?X:G;i.fill=D;i.stroke=R;if(e._DataInfo.isValid(j)&&e._DataInfo.isValid(V)){var Z=c*V/A;if(F>w){d=this._getTrapezoidOffsetY(F,Z,f);if(this.rotated)if(E-d>T){U=[L,L+(p=f*d),L+F-p,L+F];q=[E,E-d,E-d,E];W=new n(new t.Point(L,E-d),F,d,F-2*p,0,!0);F-=2*p;L+=p;E-=d}else{p=f*(d=E-T);g=(Z-=this._getTrapezoidArea(F,f,d))/w;U.push(L,L+p,L+p,L+p+w,L+p+w,L+F);q.push(E,E-d,E-d-g,E-d-g,E-d,E);W=new n(new t.Point(L,E-d-g),F,d+g,w,g,!0);F=w;L+=p;E=E-d-g}else if(E+d<T){U=[L,L+(p=f*d),L+F-p,L+F];q=[E,E+d,E+d,E];W=new n(new t.Point(L,E),F,d,F-2*p,0);F-=2*p;L+=p;E+=d}else{p=f*(d=T-E);g=(Z-=this._getTrapezoidArea(F,f,d))/w;U.push(L,L+p,L+p,L+p+w,L+p+w,L+F);q.push(E,E+d,E+d+g,E+d+g,E+d,E);W=new n(new t.Point(L,E),F,d+g,w,g);F=w;L+=p;E=E+d+g}i.drawPolygon(U,q)}else{g=Z/w;this.rotated&&(E-=g);i.drawRect(L,E,F,g);W=new n(new t.Point(L,E),w,g,w,g);this.rotated||(E+=g)}W.tag=new e._DataPoint(u,P,j,V);this.hitTester.add(W,u);a._setPointIndex(P,B);B++}}}}}};_FunnelPlotter.prototype._getTrapezoidArea=function(t,e,i){var n=i*e;return n*i+(t-2*n)*i};_FunnelPlotter.prototype._getTrapezoidOffsetY=function(t,e,i){var n=Math.pow(t/2/i,2)-e/i;return t/2/i-Math.sqrt(n>=0?n:0)};_FunnelPlotter.prototype.drawDefaultSymbol=function(t,e,i){t.drawRect(e.left,e.top,e.width,e.height,null,i.symbolStyle)};_FunnelPlotter.prototype._getPointAndPosition=function(t,i,n,r){var s=n;t.x=s.center.x;t.y=s.center.y;i=null==i?e.LabelPosition.Center:i};return _FunnelPlotter}(e._BasePlotter);e._FunnelPlotter=i;var n=function(){function _FunnelSegment(e,i,n,r,s,a){void 0===a&&(a=!1);this._startPoint=e;this._width=i;this._height=n;this._neckWidth=r;this._neckHeight=s;this._center=new t.Point(this._startPoint.x+i/2,this._startPoint.y+n/2);this._offsetX=(i-r)/2;this._offsetY=n-s;this._rotated=a}_FunnelSegment.prototype.contains=function(t){var e=this._startPoint,i=this._offsetX,n=this._offsetY;if(this._rotated){if(t.x>=e.x&&t.x<=e.x+this._width&&t.y>=e.y&&t.y<=e.y+this._height){if(t.x>=e.x+i&&t.x<=e.x+this._width-i)return!0;if(t.y<e.y+this._neckHeight)return!1;if(t.x<this._center.x)return(e.y+this._height-t.y)/(t.x-e.x)<n/i;if(t.x>this._center.x)return(e.y+this._height-t.y)/(e.x+this._width-t.x)<n/i}}else if(t.x>=e.x&&t.x<=e.x+this._width&&t.y>=e.y&&t.y<=e.y+this._height){if(t.x>=e.x+i&&t.x<=e.x+this._width-i)return!0;if(t.y>e.y+n)return!1;if(t.x<this._center.x)return(t.y-e.y)/(t.x-e.x)<n/i;if(t.x>this._center.x)return(t.y-e.y)/(e.x+this._width-t.x)<n/i}return!1};_FunnelSegment.prototype.distance=function(t){if(this.contains(t))return 0;var e=this._startPoint,i=this._width,n=this._height,r=this._offsetX,s=this._offsetY;if(this._rotated){if(t.y>e.y+n)return t.x<e.x?Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y+n-t.y,2)):t.x>e.x+i?Math.sqrt(Math.pow(t.x-e.x-i,2)+Math.pow(e.y+n-t.y,2)):t.y-e.y-n;if(t.y<e.y)return t.x<e.x+r?Math.sqrt(Math.pow(e.x+r-t.x,2)+Math.pow(t.y-e.y-n,2)):t.x>e.x+i-r?Math.sqrt(Math.pow(t.x-e.x-i+r,2)+Math.pow(t.y-e.y-n,2)):e.y-t.y;if(!(t.y<e.y+n-s))return t.x<e.x+r?Math.min(Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(t.y-e.y-n,2)),Math.sqrt(Math.pow(t.x-r/2-e.x,2)+Math.pow(t.y-n+s/2-e.y,2)),Math.sqrt(Math.pow(t.x-r-e.x,2)+Math.pow(t.y-n+s-e.y,2))):Math.min(Math.sqrt(Math.pow(t.x-i-e.x,2)+Math.pow(t.y-n-e.y,2)),Math.sqrt(Math.pow(t.x-i+r/2-e.x,2)+Math.pow(t.y-n+s/2-e.y,2)),Math.sqrt(Math.pow(t.x-i+r-e.x,2)+Math.pow(t.y-n+s-e.y,2)));if(t.x<e.x+r)return e.x+r-t.x;if(t.x>e.x+i-r)return t.x-e.x-i+r}else{if(t.y<e.y)return t.x<e.x?Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)):t.x>e.x+i?Math.sqrt(Math.pow(t.x-e.x-i,2)+Math.pow(e.y-t.y,2)):e.y-t.y;if(t.y>e.y+n)return t.x<e.x+r?Math.sqrt(Math.pow(e.x+r-t.x,2)+Math.pow(t.y-e.y-n,2)):t.x>e.x+i-r?Math.sqrt(Math.pow(t.x-e.x-i+r,2)+Math.pow(t.y-e.y-n,2)):t.y-e.y-n;if(!(t.y>e.y+s))return t.x<e.x+r?Math.min(Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(t.y-e.y,2)),Math.sqrt(Math.pow(t.x-r/2-e.x,2)+Math.pow(t.y-s/2-e.y,2)),Math.sqrt(Math.pow(t.x-r-e.x,2)+Math.pow(t.y-s-e.y,2))):Math.min(Math.sqrt(Math.pow(t.x-i-e.x,2)+Math.pow(t.y-e.y,2)),Math.sqrt(Math.pow(t.x-i+r/2-e.x,2)+Math.pow(t.y-s/2-e.y,2)),Math.sqrt(Math.pow(t.x-i+r-e.x,2)+Math.pow(t.y-s-e.y,2)));if(t.x<e.x+r)return e.x+r-t.x;if(t.x>e.x+i-r)return t.x-e.x-i+r}};Object.defineProperty(_FunnelSegment.prototype,"center",{get:function(){return this._center},enumerable:!0,configurable:!0});return _FunnelSegment}();e._FunnelSegment=n}(t.chart||(t.chart={}))}(wijmo||(wijmo={}));!function(t){!function(e){"use strict";var i=function(i){__extends(_FinancePlotter,i);function _FinancePlotter(){var t=null!==i&&i.apply(this,arguments)||this;t.isCandle=!0;t.isArms=!1;t.isEqui=!1;t.isVolume=!1;t._volHelper=null;t._symWidth=.7;return t}_FinancePlotter.prototype.clear=function(){i.prototype.clear.call(this);this._volHelper=null};_FinancePlotter.prototype.load=function(){i.prototype.load.call(this);if(this.isVolume){var n,r,s,a,o,h,l,_,u=null,c=null;for(h=0;h<this.chart.series.length;h++){o=(n=this.chart.series[h]).getDataType(1)||n.chart._xDataType;r=n._getAxisX();a=(s=null===(s=n._getChartType())||t.isUndefined(s)?this.chart._getChartType():s)===e.ChartType.Column?n._getBindingValues(1):s===e.ChartType.Candlestick?n._getBindingValues(4):null;if(o===t.DataType.Date){var f;l=[];_=[];for(h=0;h<n._getLength();h++){f=n._getItem(h)[n.bindingX].valueOf();l.push(f);_.push({value:f,text:t.Globalize.format(new Date(f),r.format||"d")})}}else l=this.dataInfo.getXVals();u=this.dataInfo.getMinX();c=this.dataInfo.getMaxX();if(a&&a.length>0){this._volHelper=new e._VolumeHelper(a,l,u,c,o);r._customConvert=this._volHelper.convert.bind(this._volHelper);r._customConvertBack=this._volHelper.convertBack.bind(this._volHelper);_&&_.length>0&&(this._itemsSource=r.itemsSource=_);break}}}};_FinancePlotter.prototype.unload=function(){i.prototype.unload.call(this);for(var t,e=0;e<this.chart.series.length;e++)if(t=this.chart.series[e]._getAxisX()){t._customConvert=null;t._customConvertBack=null;t.itemsSource&&t.itemsSource==this._itemsSource&&(this._itemsSource=t.itemsSource=null)}};_FinancePlotter.prototype.parseSymbolWidth=function(e){this._isPixel=void 0;if(e)if(t.isNumber(e)){var i=t.asNumber(e);if(isFinite(i)&&i>0){this._symWidth=i;this._isPixel=!0}}else if(t.isString(e)){var n=t.asString(e);if(n&&n.indexOf("%")>=0){n=n.replace("%","");var r=parseFloat(n);if(isFinite(r)){r<0?r=0:r>100&&(r=100);this._symWidth=r/100;this._isPixel=!1}}else{r=parseFloat(e);if(isFinite(r)&&r>0){this._symWidth=r;this._isPixel=!0}}}};_FinancePlotter.prototype.adjustLimits=function(i,n){this.dataInfo=i;var r=i.getMinX(),s=i.getMinY(),a=i.getMaxX(),o=i.getMaxY(),h=i.getDeltaX(),l=this.chart._xDataType;h<=0&&(h=1);var _=this.chart.series,u=_.length,c=0;this.parseSymbolWidth(this.symbolWidth);!this.isVolume||this.chart._getChartType()!==e.ChartType.Column&&this.chart._getChartType()!==e.ChartType.Candlestick?this.unload():this.load();for(var f=0;f<u;f++){var p=_[f];if(!p._isCustomAxisY()){var d=p._getBinding(1),g=p._getBinding(2),m=p._getBinding(3),y=p._getLength();if(y){var x=p._getSymbolSize();x>c&&(c=x);for(var b=0;b<y;b++){var v=p._getItem(b);if(v){[d?v[d]:null,g?v[g]:null,m?v[m]:null].forEach((function(t){if(e._DataInfo.isValid(t)&&null!==t){(isNaN(s)||t<s)&&(s=t);(isNaN(o)||t>o)&&(o=t)}}))}}}}}var S=a-r,C=this.chart._plotRect;if(C&&C.width&&!this.isVolume){isNaN(x)&&(x=p._getSymbolSize());x+=2;var w=C.width/(C.width-x)*S;r-=.5*(w-S);S=w}return!(l===t.DataType.Date&&this.isVolume||l===t.DataType.Number)||this.chart._getChartType()!==e.ChartType.Column&&this.chart._getChartType()!==e.ChartType.Candlestick?this.chart._isRotated()?new t.Rect(s,r,o-s,S):new t.Rect(r,s,S,o-s):new t.Rect(r-.5*h,s,a-r+h,o-s)};_FinancePlotter.prototype.plotSeries=function(i,n,r,s,a,o,h,l){var _=this,u=t.asType(s,e.SeriesBase),c=this.chart.series.indexOf(s),f=s.getValues(0),p=s.getValues(1),d=this._symWidth,g=this.chart._isRotated();if(f){p||(p=this.dataInfo.getXVals());if(p){var m=this.dataInfo.getDeltaX();m>0&&!1===this._isPixel&&(d*=m)}var y=f.length,x=!0;if(p)y=Math.min(y,p.length);else{x=!1;p=new Array(y)}var b=this._DEFAULT_WIDTH,v=u._getSymbolFill(c),S=u._getAltSymbolFill(c)||"transparent",C=u._getSymbolStroke(c),w=u._getAltSymbolStroke(c)||C,P=void 0===this._isPixel?u._getSymbolSize():d;i.stroke=C;i.strokeWidth=b;i.fill=v;for(var A,M,T=u._getBinding(1),L=u._getBinding(2),E=u._getBinding(3),F=g?r.actualMin:n.actualMin,N=g?r.actualMax:n.actualMax,k=0,I=null,D=null,R=this.getItemFormatter(s),B=0;B<y;B++)if(I=u._getItem(B)){var O=x?p[B]:B;if(e._DataInfo.isValid(O)&&F<=O&&O<=N){var j=f[B],V=T?I[T]:null,H=L?I[L]:null,z=E?I[E]:null;i.startGroup();if(this.isEqui&&null!==D){if(D[E]!==I[E]){A=D[E]<I[E]?S:v;M=D[E]<I[E]?w:C}}else{A=H<z?S:v;M=H<z?w:C}i.fill=A;i.stroke=M;i.strokeWidth=b;if(R){var X=new e.HitTestInfo(this.chart,new t.Point(n.convert(O),r.convert(j)),e.ChartElement.SeriesSymbol);X._setData(u,B);R(i,X,(function(){_._drawSymbol(i,n,r,c,B,A,P,O,j,V,H,z)}));i.cssPriority=!0}else this._drawSymbol(i,n,r,c,B,A,P,O,j,V,H,z);i.endGroup();s._setPointIndex(B,k);k++}D=I}}};_FinancePlotter.prototype._drawSymbol=function(i,n,r,s,a,o,h,l,_,u,c,f){var p,d=null,g=null,m=null,y=null,x=this.chart._isRotated(),b=x?new e._DataPoint(s,a,_,l):new e._DataPoint(s,a,l,_);if(x){var v=r;r=n;n=v}if(!1===this._isPixel&&(m=n.convert(l-.5*h))>(y=n.convert(l+.5*h))){var S=m;m=y;y=S}l=n.convert(l);if(!1!==this._isPixel){m=l-.5*h;y=l+.5*h}if(this.isCandle){if(e._DataInfo.isValid(c)&&e._DataInfo.isValid(f)){c=r.convert(c);f=r.convert(f);g=(d=Math.min(c,f))+Math.abs(c-f);if(x){i.drawRect(d,m,g-d||1,y-m||1);p=new e._RectArea(new t.Rect(d,m,g-d||1,y-m||1))}else{i.drawRect(m,d,y-m||1,g-d||1);p=new e._RectArea(new t.Rect(m,d,y-m||1,g-d||1))}p.tag=b;this.hitTester.add(p,s)}if(e._DataInfo.isValid(_)){_=r.convert(_);if(null!==d)if(x){i.drawLine(g,l,_,l);p.rect.width=p.rect.width+_}else{i.drawLine(l,d,l,_);p.rect.top=_;p.rect.height=p.rect.height+_}}if(e._DataInfo.isValid(u)){u=r.convert(u);if(null!==g)if(x){i.drawLine(d,l,u,l);p.rect.left=u;p.rect.width=p.rect.width+u}else{i.drawLine(l,g,l,u);p.rect.height=p.rect.height+u}}}else if(this.isEqui){if(e._DataInfo.isValid(_)&&e._DataInfo.isValid(u)){_=r.convert(_);u=r.convert(u);g=(d=Math.min(_,u))+Math.abs(_-u);i.drawRect(m,d,y-m||1,g-d||1);(p=new e._RectArea(new t.Rect(m,d,y-m||1,g-d||1))).tag=b;this.hitTester.add(p,s)}}else if(this.isArms){if(e._DataInfo.isValid(c)&&e._DataInfo.isValid(f)){c=r.convert(c);f=r.convert(f);g=(d=Math.min(c,f))+Math.abs(c-f);i.drawRect(m,d,y-m||1,g-d||1)}if(e._DataInfo.isValid(_)&&null!==d){_=r.convert(_);i.drawLine(l,d,l,_)}if(e._DataInfo.isValid(u)&&null!==g){u=r.convert(u);i.drawLine(l,g,l,u)}if(e._DataInfo.isValid(_)&&e._DataInfo.isValid(u)){i.fill="transparent";g=(d=Math.min(_,u))+Math.abs(_-u);i.drawRect(m,d,y-m||1,g-d||1);(p=new e._RectArea(new t.Rect(m,d,y-m||1,g-d||1))).tag=b;this.hitTester.add(p,s)}}else{if(e._DataInfo.isValid(_)&&e._DataInfo.isValid(u)){_=r.convert(_);u=r.convert(u);g=(d=Math.min(_,u))+Math.abs(_-u);if(x){i.drawLine(u,l,_,l);p=new e._RectArea(new t.Rect(d,m,g-d||1,y-m||1))}else{i.drawLine(l,u,l,_);p=new e._RectArea(new t.Rect(m,d,y-m||1,g-d||1))}p.tag=b;this.hitTester.add(p,s)}if(e._DataInfo.isValid(c)){c=r.convert(c);x?i.drawLine(c,m,c,l):i.drawLine(m,c,l,c)}if(e._DataInfo.isValid(f)){f=r.convert(f);x?i.drawLine(f,l,f,y):i.drawLine(l,f,y,f)}}};return _FinancePlotter}(e._BasePlotter);e._FinancePlotter=i}(t.chart||(t.chart={}))}(wijmo||(wijmo={}));!function(t){!function(e){"use strict";var i=function(i){__extends(_LinePlotter,i);function _LinePlotter(){var t=i.call(this)||this;t.hasSymbols=!1;t.hasLines=!0;t.isSpline=!1;t.isStep=!1;t.hitTestSymbols=!0;t.stacking=e.Stacking.None;t.stackPos={};t.stackNeg={};t.clipping=!1;return t}_LinePlotter.prototype.clear=function(){i.prototype.clear.call(this);this.stackNeg={};this.stackPos={}};_LinePlotter.prototype.adjustLimits=function(e,i){this.dataInfo=e;var n=e.getMinX(),r=e.getMinY(),s=e.getMaxX(),a=e.getMaxY();if(this.isSpline&&!this.chart.axisY._getLogBase()){var o=.1*(a-r);r-=o;a+=o}return this.rotated?new t.Rect(r,n,a-r,s-n):new t.Rect(n,r,s-n,a-r)};_LinePlotter.prototype.plotSeries=function(i,n,r,s,a,o,h,l){var _=[],u=t.asType(s,e.SeriesBase),c=this.chart.series.indexOf(s),f=s.getValues(0),p=s.getValues(1);if(f){p||(p=this.dataInfo.getXVals());var d=e._BasePlotter.cloneStyle(s.style,["fill"]),g=f.length,m=!0;if(p)g=Math.min(g,p.length);else{m=!1;p=new Array(g)}var y=this._DEFAULT_WIDTH,x=u._getSymbolFill(c),b=u._getAltSymbolFill(c)||x,v=u._getSymbolStroke(c),S=u._getAltSymbolStroke(c)||v,C=u._getSymbolSize();i.stroke=v;i.strokeWidth=y;i.fill=x;var w=new Float64Array(g),P=new Float64Array(g),A=0,M=new Int8Array(g),T=0,L=this.rotated,E=this.stacking!=e.Stacking.None&&!u._isCustomAxisY(),F=this.stacking==e.Stacking.Stacked100pc&&!u._isCustomAxisY();void 0!==u._getChartType()&&(E=F=!1);for(var N=u.interpolateNulls,k=!1,I=this.getItemFormatter(s),D=0;D<g;D++){var R=m?p[D]:D,B=f[D];if(isFinite(R)&&isFinite(B)){if(E){if(F){B/=this.dataInfo.getStackedAbsSum(R)}if(B>=0){var O=isNaN(this.stackPos[R])?0:this.stackPos[R];B=this.stackPos[R]=O+B}else{O=isNaN(this.stackNeg[R])?0:this.stackNeg[R];B=this.stackNeg[R]=O+B}}var j;if(L){j=new e._DataPoint(c,D,B,R);var V=n.convert(B);B=r.convert(R);R=V}else{j=new e._DataPoint(c,D,R,B);R=n.convert(R);B=r.convert(B)}if(isNaN(R)||isNaN(B)){k=!0;if(!0!==N){w[A]=NaN;P[A++]=NaN}M[T++]=1;l&&_.push(null)}else{w[A]=R;P[A++]=B;T++;l&&_.push(new t.Point(R,B));if(this.hitTestSymbols){var H=new e._CircleArea(new t.Point(R,B),.5*C);H.tag=j;this.hitTester.add(H,c)}}}else{k=!0;if(!0!==N){w[A]=NaN;P[A++]=NaN}M[T++]=1;l&&_.push(null)}}var z=0;if(this.hasLines){i.fill=null;if(k&&!0!==N){var X=[],G=[];for(D=0;D<g;D++)if(isNaN(w[D])){if(X.length>1){this._drawLines(i,X,G,null,d,this.chart._plotrectId);this.hitTester.add(new e._LinesArea(X,G),c);z++}X=[];G=[]}else{X.push(w[D]);G.push(P[D])}if(X.length>1){this._drawLines(i,X,G,null,d,this.chart._plotrectId);this.hitTester.add(new e._LinesArea(X,G),c);z++}}else{this._drawLines(i,w,P,null,d,this.chart._plotrectId,A);this.hitTester.add(new e._LinesArea(w,P),c);z++}}if(this.hasSymbols&&C>0||I){i.fill=x;var Y=0;for(D=0;D<g;D++)if(!N||!M[D]){R=w[Y],B=P[Y];if(!1===this.hasLines||I){i.fill=f[D]>0?x:b;i.stroke=f[D]>0?v:S;i.strokeWidth=y}if(this.isValid(R,B,n,r)){this._drawSymbol(i,R,B,C,u,D,I);s._setPointIndex(D,z);z++}Y++}}l&&_&&_.length&&l(_)}};_LinePlotter.prototype._drawLines=function(t,e,i,n,r,s,a){if(this.isSpline&&a>3)t.drawSplines(e,i,n,r,s,a);else if(this.isStep){var o=this._createSteps(e,i,a);e=o.x;i=o.y;t.drawLines(e,i,n,r,s)}else t.drawLines(e,i,n,r,s,a)};_LinePlotter.prototype._drawSymbol=function(i,n,r,s,a,o,h){var l=this;if(h){i.startGroup();var _=new e.HitTestInfo(this.chart,new t.Point(n,r),e.ChartElement.SeriesSymbol);_._setData(a,o);h(i,_,(function(){l.hasSymbols&&s>0&&l._drawDefaultSymbol(i,n,r,s,a.symbolMarker,a.symbolStyle)}));i.cssPriority=!0;i.endGroup()}else this._drawDefaultSymbol(i,n,r,s,a.symbolMarker,a.symbolStyle)};_LinePlotter.prototype._drawDefaultSymbol=function(t,i,n,r,s,a){s==e.Marker.Dot?t.drawEllipse(i,n,.5*r,.5*r,null,a):s==e.Marker.Box&&t.drawRect(i-.5*r,n-.5*r,r,r,null,a)};return _LinePlotter}(e._BasePlotter);e._LinePlotter=i}(t.chart||(t.chart={}))}(wijmo||(wijmo={}));!function(t){!function(e){"use strict";var i=function(i){__extends(_BubblePlotter,i);function _BubblePlotter(){var t=i.call(this)||this;t._MIN_SIZE=5;t._MAX_SIZE=30;t.hasLines=!1;t.hasSymbols=!0;t.clipping=!0;t.hitTestSymbols=!1;return t}_BubblePlotter.prototype.adjustLimits=function(t,n){var r=this.getNumOption("minSize","bubble");this._minSize=r||this._MIN_SIZE;var s=this.getNumOption("maxSize","bubble");this._maxSize=s||this._MAX_SIZE;for(var a=this.chart.series,o=a.length,h=NaN,l=NaN,_=0;_<o;_++){if((y=a[_])._getChartType()==e.ChartType.Bubble||null==y._getChartType()&&y._chart._getChartType()==e.ChartType.Bubble){if(x=y._getBindingValues(1))for(var u=x.length,c=0;c<u;c++)if(isFinite(x[c])){(isNaN(h)||x[c]<h)&&(h=x[c]);(isNaN(l)||x[c]>l)&&(l=x[c])}}}this._minValue=h;this._maxValue=l;var f=i.prototype.adjustLimits.call(this,t,n),p=n.left,d=n.right,g=n.top,m=n.bottom;for(_=0;_<o;_++){var y;if((y=a[_])._getChartType()==e.ChartType.Bubble||null==y._getChartType()&&y._chart._getChartType()==e.ChartType.Bubble){var x=y._getBindingValues(1),b=y.getValues(1),v=y.getValues(0);if(x&&b&&v){var S=x.length;for(c=0;c<S;c++){var C=b?b[c]:c,w=v[c],P=x[c];if(e._DataInfo.isValid(C,w,P)){C=n.left+n.width*(C-f.left)/f.width;w=n.top+n.height*(w-f.top)/f.height;C-(P=this._minSize+(this._maxSize-this._minSize)*(P-h)/(l-h))<p&&(p=C-P);C+P>d&&(d=C+P);w-P<g&&(g=w-P);w+P>m&&(m=w+P)}}}}}p=n.left-p+5;d=d-n.right+5;g=n.top-g+5;m=m-n.bottom+5;var A=this.chart.axisX,M=this.chart.axisY;if(!A._isLogAxis())if(this.stacking==e.Stacking.Stacked100pc&&this.rotated){var T=(n.width-this._maxSize)/f.width;f.left-=.5*this._maxSize/T;f.width+=this._maxSize/T}else{T=(n.width-(p+d))/f.width;f.left-=p/T;f.width+=(p+d)/T}if(!M._isLogAxis())if(this.stacking!=e.Stacking.Stacked100pc||this.rotated){L=(n.height-(g+m))/f.height;f.top-=g/L;f.height+=(g+m)/L}else{var L=(n.height-this._maxSize)/f.height;f.top-=.5*this._maxSize/L;f.height+=this._maxSize/L}return f};_BubblePlotter.prototype._drawSymbol=function(i,n,r,s,a,o,h){var l=this;if(null==this._minSize){var _=this.getNumOption("minSize","bubble");this._minSize=_||this._MIN_SIZE}if(null==this._maxSize){var u=this.getNumOption("maxSize","bubble");this._maxSize=u||this._MAX_SIZE}var c=a._getItem(o);if(c){var f=a._getBinding(1);if(f){s=c[f];if(isFinite(s)){null==s&&(s=this._minValue);var p=this._minValue==this._maxValue?1:Math.sqrt((s-this._minValue)/(this._maxValue-this._minValue));s=this._minSize+(this._maxSize-this._minSize)*p;if(h){var d=new e.HitTestInfo(this.chart,new t.Point(n,r),e.ChartElement.SeriesSymbol);d._setData(a,o);i.startGroup();h(i,d,(function(){l._drawDefaultSymbol(i,n,r,s,a.symbolMarker,a.symbolStyle)}));i.endGroup()}else this._drawDefaultSymbol(i,n,r,s,a.symbolMarker,a.symbolStyle);var g=a.getValues(1);g||(g=this.dataInfo.getXVals());var m=g?g[o]:o,y=a.getValues(0)[o],x=this.chart.series.indexOf(a),b=new e._CircleArea(new t.Point(n,r),.5*s);b.tag=new e._DataPoint(x,o,m,y);this.hitTester.add(b,x)}}}};return _BubblePlotter}(e._LinePlotter);e._BubblePlotter=i}(t.chart||(t.chart={}))}(wijmo||(wijmo={}));!function(t){t.chart||(t.chart={}),t._registerModule("wijmo.chart",t.chart)}(wijmo||(wijmo={}));