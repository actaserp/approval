<html layout:decorate="~{layout_page}" xmlns:layout="http://www.w3.org/1999/xhtml">
<style>

</style>

<th:block layout:fragment="content">


    <div class="layout-contents">
        <!-- Page Title -->
        <div class="page-title-wrap">
            <div class="left">
                <h2>장비이력조회</h2>
                <a title="북마크" class="bookmark toggle">
                    내메뉴
                </a>
            </div>
            <ul class="page-navi">
                <li><img src="/images/icon/ico-nav-home.svg" alt="홈아이콘"></li>
                <li>모니터링</li>
                <li>종합관제</li>
                <li>장비이력조회</li>
            </ul>
        </div>
        <!-- Select -->
        <div class="search-wrap">
            <ul>
                <li>
                    <select title="지역">
                        <option>대구</option>
                    </select>
                </li>
                <li>
                    <select title="구">
                        <option>성서산단</option>
                    </select>
                </li>
                <li>
                    <select title="동">
                        <option>성서</option>
                    </select>
                </li>
            </ul>
        </div>
        <div class="tab-wrap">
            <ul class="tab-links">
                <li>
                    <a href="#tab1" title="목록">가스소비량</a>
                </li>
                <li>
                    <a href="#tab2" title="등록">전기생산량</a>
                </li>
                <li>
                    <a href="#tab3" title="등록">열공급량</a>
                </li>
                <li>
                    <a href="#tab4" title="등록">효율</a>
                </li>

            </ul>
            <div class="tab-contents" style="margin-bottom: 70px">
                <!-- Section -->
                <section class="tab-item" id="tab1">
                    <div class="section-top">
                        <div class="search-wrap">
                            <dl>
                                <dt>
                                    조회기간<span class="eq">*</span>
                                </dt>
                                <dd>
                                    <ul class="date-box">
                                        <li>
                                            <input type="date" id="searchfrdate" name="searchfrdate">
                                            <label for="searchfrdate" class="hide">시작일</label>
                                        </li>
                                        <li>
                                            <input type="date" id="searchtodate" name="searchtodate">
                                            <label for="searchtodate" class="hide">종료일</label>
                                        </li>
                                    </ul>
                                </dd>
                            </dl>
                            <dl>
                                <dt>
                                    <label for="select1">
                                        단위<span class="eq">*</span></label></dt>

                                <dd>
                                    <select id="select1" class="w120">
                                        <option>Nm3</option>
                                    </select>
                                </dd>
                            </dl>
                            <dl>
                                <dt>
                                    <label for="select1">
                                        검색조건<span class="eq">*</span></label></dt>

                                <dd>
                                    <select id="select1" class="w120">
                                        <option>일</option>
                                        <option>주</option>
                                        <option>월</option>
                                        <option>년</option>
                                    </select>
                                </dd>
                            </dl>
                            <dl>
                                <dt>
                                    <label for="select1">
                                        표출조건</label></dt>

                                <dd>
                                    <select id="select1" class="w120">
                                        <option>5분</option>
                                    </select>
                                </dd>
                            </dl>
                            <dl style="margin-left: 40px;">
                                <dt>
                                    <label for="text1">
                                    </label>
                                </dt>
                                <dd>
                                    <div class="srch-box">
                                        <div class="input-clear"></div>
                                        <a href="#a" class="btn-srch" id="searchgrid" title="검색" onclick="searchData()" onkeyup="searchData()" style="border-radius: 7px;"></a>
                                    </div>
                                </dd>
                            </dl>
                        </div>

                    </div> <!--//section-top end -->
                    <div class="row">
                        <div class="wp60 mg-r20" style="width: 80% !important;">
                            <div class="table-wrap">
                                <div style="margin-bottom: 10px">
                                        <img src="/images/장비이력조회.png"/>
                                </div>
                                <div class="container-fluid">
                                    <p id="selectedItem"></p>
                                    <div id="theGrid"></div>
                                </div>
                            </div>
                        </div>
                        <div class="col wp40" style=" width: 20% !important;">
                            <div id="box">
                                <img class="img" src="./img.jpg" alt="">
                                <h1 class="heading">가스소비량(Nm3)</h1>
                                <div class="data">
                                    <span class="user-id">520</span>
                                </div>
                                <p class="texts">
                                    전일대비 1.5% 감소
                                </p>
                            </div>
                            <div id="box">
                                <img class="img" src="./img.jpg" alt="">
                                <h1 class="heading">가스비용(원)</h1>
                                <div class="data">
                                    <span class="user-id">4,628,000</span>
                                </div>
                                <p class="texts">
                                    전일대비 1.5% 감소
                                </p>
                            </div>
                        </div>
                    </div>
                    <!--<div class="container-fluid">
                        <p id="selectedItem"></p>
                        <div id="theGrid" style="width: 1527px"></div>
                    </div>
                    <div class="btn-wrap">
                    </div>-->
                </section>
                <!-- Section -->
                <section class="tab-item" id="tab2">
                    <div class="section-top">
                        <div class="search-wrap">
                            <dl>
                                <dt>
                                    조회기간<span class="eq">*</span>
                                </dt>
                                <dd>
                                    <ul class="date-box">
                                        <li>
                                            <input type="date" id="searchfrdate" name="searchfrdate">
                                            <label for="searchfrdate" class="hide">시작일</label>
                                        </li>
                                        <li>
                                            <input type="date" id="searchtodate" name="searchtodate">
                                            <label for="searchtodate" class="hide">종료일</label>
                                        </li>
                                    </ul>
                                </dd>
                            </dl>
                            <dl>
                                <dt>
                                    <label for="select1">
                                        단위<span class="eq">*</span></label></dt>

                                <dd>
                                    <select id="select1" class="w120">
                                        <option>Nm3</option>
                                    </select>
                                </dd>
                            </dl>
                            <dl>
                                <dt>
                                    <label for="select1">
                                        검색조건<span class="eq">*</span></label></dt>

                                <dd>
                                    <select id="select1" class="w120">
                                        <option>일</option>
                                        <option>주</option>
                                        <option>월</option>
                                        <option>년</option>
                                    </select>
                                </dd>
                            </dl>
                            <dl>
                                <dt>
                                    <label for="select1">
                                        표출조건</label></dt>

                                <dd>
                                    <select id="select1" class="w120">
                                        <option>5분</option>
                                    </select>
                                </dd>
                            </dl>
                            <dl style="margin-left: 40px;">
                                <dt>
                                    <label for="text1">
                                    </label>
                                </dt>
                                <dd>
                                    <div class="srch-box">
                                        <div class="input-clear"></div>
                                        <a href="#a" class="btn-srch" id="searchgrid" title="검색" onclick="searchData()" onkeyup="searchData()" style="border-radius: 7px;"></a>
                                    </div>
                                </dd>
                            </dl>
                        </div>

                    </div> <!--//section-top end -->
                    <div class="row">
                        <div class="wp60 mg-r20" style="width: 80% !important;">
                            <div class="table-wrap">
                                <div style="margin-bottom: 10px">
                                    <img src="/images/장비이력조회.png"/>
                                </div>
                                <div class="container-fluid">
                                    <p id="selectedItem2"></p>
                                    <div id="theGrid2"></div>
                                </div>
                            </div>
                        </div>
                        <div class="col wp40" style=" width: 20% !important;">
                            <div id="box">
                                <img class="img" src="./img.jpg" alt="">
                                <h1 class="heading">전기생산량(kWh)</h1>
                                <div class="data">
                                    <span class="user-id">2250</span>
                                </div>
                                <p class="texts">
                                    전일대비 1.5% 감소
                                </p>
                            </div>
                            <div id="box">
                                <img class="img" src="./img.jpg" alt="">
                                <h1 class="heading">예상수익(원)</h1>
                                <div class="data">
                                    <span class="user-id">195,000</span>
                                </div>
                                <p class="texts">
                                    전일대비 1.5% 감소
                                </p>
                            </div>
                        </div>
                    </div>
                    <!--<div class="container-fluid">
                        <p id="selectedItem"></p>
                        <div id="theGrid" style="width: 1527px"></div>
                    </div>
                    <div class="btn-wrap">
                    </div>-->
                </section>

                <section class="tab-item" id="tab3">
                    <div class="section-top">
                        <div class="search-wrap">
                            <dl>
                                <dt>
                                    조회기간<span class="eq">*</span>
                                </dt>
                                <dd>
                                    <ul class="date-box">
                                        <li>
                                            <input type="date" id="searchfrdate" name="searchfrdate">
                                            <label for="searchfrdate" class="hide">시작일</label>
                                        </li>
                                        <li>
                                            <input type="date" id="searchtodate" name="searchtodate">
                                            <label for="searchtodate" class="hide">종료일</label>
                                        </li>
                                    </ul>
                                </dd>
                            </dl>
                            <dl>
                                <dt>
                                    <label for="select1">
                                        단위<span class="eq">*</span></label></dt>

                                <dd>
                                    <select id="select1" class="w120">
                                        <option>Nm3</option>
                                    </select>
                                </dd>
                            </dl>
                            <dl>
                                <dt>
                                    <label for="select1">
                                        검색조건<span class="eq">*</span></label></dt>

                                <dd>
                                    <select id="select1" class="w120">
                                        <option>일</option>
                                        <option>주</option>
                                        <option>월</option>
                                        <option>년</option>
                                    </select>
                                </dd>
                            </dl>
                            <dl>
                                <dt>
                                    <label for="select1">
                                        표출조건</label></dt>

                                <dd>
                                    <select id="select1" class="w120">
                                        <option>5분</option>
                                    </select>
                                </dd>
                            </dl>
                            <dl style="margin-left: 40px;">
                                <dt>
                                    <label for="text1">
                                    </label>
                                </dt>
                                <dd>
                                    <div class="srch-box">
                                        <div class="input-clear"></div>
                                        <a href="#a" class="btn-srch" id="searchgrid" title="검색" onclick="searchData()" onkeyup="searchData()" style="border-radius: 7px;"></a>
                                    </div>
                                </dd>
                            </dl>
                        </div>

                    </div> <!--//section-top end -->
                    <div class="row">
                        <div class="wp60 mg-r20" style="width: 80% !important;">
                            <div class="table-wrap">
                                <div style="margin-bottom: 10px">
                                    <img src="/images/장비이력조회.png"/>
                                </div>
                                <div class="container-fluid">
                                    <p id="selectedItem"></p>
                                    <div id="theGrid3"></div>
                                </div>
                            </div>
                        </div>
                        <div class="col wp40" style=" width: 20% !important;">
                            <div id="box">
                                <img class="img" src="./img.jpg" alt="">
                                <h1 class="heading">열공급량(Mcal)</h1>
                                <div class="data">
                                    <span class="user-id">872</span>
                                </div>
                                <p class="texts">
                                    전일대비 1.5% 감소
                                </p>
                            </div>
                            <div id="box">
                                <img class="img" src="./img.jpg" alt="">
                                <h1 class="heading">예상수익(원)</h1>
                                <div class="data">
                                    <span class="user-id">1,195,000</span>
                                </div>
                                <p class="texts">
                                    전일대비 1.5% 감소
                                </p>
                            </div>
                        </div>
                    </div>
                    <!--<div class="container-fluid">
                        <p id="selectedItem"></p>
                        <div id="theGrid" style="width: 1527px"></div>
                    </div>
                    <div class="btn-wrap">
                    </div>-->
                </section>

                <section class="tab-item" id="tab4">
                    <div class="section-top">
                        <div class="search-wrap">
                            <dl>
                                <dt>
                                    조회기간<span class="eq">*</span>
                                </dt>
                                <dd>
                                    <ul class="date-box">
                                        <li>
                                            <input type="date" id="searchfrdate" name="searchfrdate">
                                            <label for="searchfrdate" class="hide">시작일</label>
                                        </li>
                                        <li>
                                            <input type="date" id="searchtodate" name="searchtodate">
                                            <label for="searchtodate" class="hide">종료일</label>
                                        </li>
                                    </ul>
                                </dd>
                            </dl>
                            <dl>
                                <dt>
                                    <label for="select1">
                                        단위<span class="eq">*</span></label></dt>

                                <dd>
                                    <select id="select1" class="w120">
                                        <option>Nm3</option>
                                    </select>
                                </dd>
                            </dl>
                            <dl>
                                <dt>
                                    <label for="select1">
                                        검색조건<span class="eq">*</span></label></dt>

                                <dd>
                                    <select id="select1" class="w120">
                                        <option>일</option>
                                        <option>주</option>
                                        <option>월</option>
                                        <option>년</option>
                                    </select>
                                </dd>
                            </dl>
                            <dl>
                                <dt>
                                    <label for="select1">
                                        표출조건</label></dt>

                                <dd>
                                    <select id="select1" class="w120">
                                        <option>5분</option>
                                    </select>
                                </dd>
                            </dl>
                            <dl style="margin-left: 40px;">
                                <dt>
                                    <label for="text1">
                                    </label>
                                </dt>
                                <dd>
                                    <div class="srch-box">
                                        <div class="input-clear"></div>
                                        <a href="#a" class="btn-srch" id="searchgrid" title="검색" onclick="searchData()" onkeyup="searchData()" style="border-radius: 7px;"></a>
                                    </div>
                                </dd>
                            </dl>
                        </div>

                    </div> <!--//section-top end -->
                    <div class="row">
                        <div class="wp60 mg-r20" style="width: 80% !important;">
                            <div class="table-wrap">
                                <div style="margin-bottom: 10px">
                                    <img src="/images/장비이력조회.png"/>
                                </div>
                                <div class="container-fluid">
                                    <p id="selectedItem"></p>
                                    <div id="theGrid4"></div>
                                </div>
                            </div>
                        </div>
                        <div class="col wp40" style=" width: 20% !important;">
                            <div id="box">
                                <img class="img" src="./img.jpg" alt="">
                                <h1 class="heading">총효율(%)</h1>
                                <div class="data">
                                    <span class="user-id">82</span>
                                </div>
                                <p class="texts">
                                    전일대비 1.5% 감소
                                </p>
                            </div>
                            <div id="box">
                                <img class="img" src="./img.jpg" alt="">
                                <h1 class="heading">전기/열효율(%)</h1>
                                <div class="data">
                                    <span class="user-id">35/0</span>
                                </div>
                                <p class="texts">
                                    전일대비 1.5% 감소
                                </p>
                            </div>
                        </div>
                    </div>
                    <!--<div class="container-fluid">
                        <p id="selectedItem"></p>
                        <div id="theGrid" style="width: 1527px"></div>
                    </div>
                    <div class="btn-wrap">
                    </div>-->
                </section>
            </div> <!--//tab-contens end-->
        </div> <!--//tab-wrap end-->
    </div> <!--//layout-contents end -->








</th:block>
<th:block layout:fragment="scripts">
    <th:block th:replace="/common/approve_box :: approve_box"></th:block>
    <th:block th:replace="/common/ax5_uploader :: ax5_uploader" ></th:block>
    <th:block th:replace="/common/upload_one_image_box :: upload_one_image_box" ></th:block>
    <th:block th:replace="/common/popup_select_user_code :: popup_select_user_code"></th:block>

    <script type="text/javascript">

        var theGrid;
        var theGrid2;
        var theGrid3;
        var theGrid4;


        var viewdata;
        let selectedFiles = [];
        let SelectItem;
        let csrfToken = $("[name=_csrf]").val();

        var columns = [
            { binding: '', header: '기간', align: 'center', width: '*' },
            { binding: '', header: '가스소비량', align: 'center', width: '*' },
            { binding: '', header: '가스사용비', align: 'center', width: '*' },
            { binding: '', header: '외기온도', align: 'center', width: '*' },

        ];

        var columns2 = [
            { binding: '', header: '기간', align: 'center', width: '*' },
            { binding: '', header: '전기생산량', align: 'center', width: '*' },
            { binding: '', header: 'SMP', align: 'center', width: '*' },
            { binding: '', header: '생산예상수익', align: 'center', width: '*' },
            { binding: '', header: '외기온도', align: 'center', width: '*' },

        ];

        var columns3 = [
            { binding: '', header: '기간', align: 'center', width: '*' },
            { binding: '', header: '열공급량', align: 'center', width: '*' },
            { binding: '', header: '열에너지단가', align: 'center', width: '*' },
            { binding: '', header: '예상수입', align: 'center', width: '*' },
            { binding: '', header: '외기온도', align: 'center', width: '*' },

        ];

        var columns4 = [
            { binding: '', header: '기간', align: 'center', width: '*' },
            { binding: '', header: '총효율', align: 'center', width: '*' },
            { binding: '', header: '전기효율', align: 'center', width: '*' },
            { binding: '', header: '열효율', align: 'center', width: '*' },
            { binding: '', header: '외기온도', align: 'center', width: '*' },

        ];

        document.readyState === 'complete' ? init() : window.onload = init;


        <!-- 초반 페이지 진입시 그리드 바인딩 끝-->
        function init() {
            let data2 = [];
            let searchusr = $('#searchusr').val();

            $.ajax({
                url: '/api/inspec_report/read',
                type: 'GET',
                data: {
                    'searchusr' : 'infinited',

                },
                async: false,
                success: function(data){
                    console.log('check1',data.data);
                    if(data.data.length === 0){
                        for(let i=0; i < 10; i++ ){
                            data.data.push('example');
                        }
                    }
                    console.log(data.data);
                    data2 = data.data;
                }
            })

            viewdata = new wijmo.collections.CollectionView(data2);
            // 데이터 그리드에 바인딩
            theGrid = new wijmo.grid.FlexGrid('#theGrid', {
                autoGenerateColumns: false,
                showMarquee: true,
                columns: columns,
                itemsSource: viewdata
            });
            theGrid.rowHeaders.columns.splice(0,1);  //맨 앞에 헤더부분 없애기

            theGrid2 = new wijmo.grid.FlexGrid('#theGrid2', {
                autoGenerateColumns: false,
                showMarquee: true,
                columns: columns2,
                itemsSource: viewdata
            });
            theGrid2.rowHeaders.columns.splice(0,1);

            theGrid3 = new wijmo.grid.FlexGrid('#theGrid3', {
                autoGenerateColumns: false,
                showMarquee: true,
                columns: columns3,
                itemsSource: viewdata
            });
            theGrid3.rowHeaders.columns.splice(0,1);

            theGrid4 = new wijmo.grid.FlexGrid('#theGrid4', {
                autoGenerateColumns: false,
                showMarquee: true,
                columns: columns4,
                itemsSource: viewdata
            });
            theGrid4.rowHeaders.columns.splice(0,1);

        }
        <!-- 초반 페이지 진입시 그리드 바인딩 끝-->


        <!-- 점검자 추가 버튼 이벤트 끝-->

        let filelist = [];


        //검색
        function searchData(){
            let data = {
                'searchusr' : $('#searchusr').val(),
                'searchfrdate': $('#searchfrdate').val(),
                'searchtodate': $('#searchtodate').val()
            }

            let result =  AjaxUtil.getSyncData('/api/inspec_report/read', data);

            if(result.success){
                console.log(result.data);
                grid_binding(result.data);
            }
        }

        function grid_binding(data){
            var inspecDto = data;
            var inspecData = [];
            var cnt = 1;
            for (let i = 0; i < inspecDto.length; i++) {
                inspecData.push({
                    spuncode: inspecDto[i]["spuncode"],
                    spworknm: inspecDto[i]["spworknm"],
                    spcompnm: inspecDto[i]["spcompnm"],
                    spplannm: inspecDto[i]["spplannm"],
                    checkdt: inspecDto[i]["checkdt"],
                    checkusr: inspecDto[i]["checkusr"],
                    checkarea: inspecDto[i]["checkarea"],
                    checktmdt: inspecDto[i]["checktmdt"],

                });
                cnt++;
            }

            theGrid.columns.clear();
            theGrid.autoGenerateColumns = false;
            viewdata.sourceCollection = inspecData;

            for (var i = 0; i < columns.length; i++) {
                var col = new wijmo.grid.Column(columns[i]);
                theGrid.columns.push(col);
            }


        }


        $(document).ready(function (e) {

        });
    </script>
</th:block>

</html>